{"version":3,"sources":["require/text.js","forms/header/sticky/view.html!text","forms/flyout/fileAttachmentsFlyout/mobile_view.html!text","forms/flyout/fileAttachmentsFlyout/view.html!text","forms/flyout/fileAttachmentsFlyout/controller.js","forms/flyout/remoteManageWidget/view.html!text","forms/flyout/remoteManageWidget/controller.js","forms/flyout/headerAttachmentWidget/view.html!text","forms/predefined/fileAttachmentsDragDrop/view.html!text","forms/predefined/fileAttachmentsDragDrop/controller.js","forms/flyout/headerAttachmentWidget/controller.js","forms/header/sticky/controller.js","forms/header/status/view.html!text","forms/header/status/controller.js","forms/header/relationships/view.html!text","forms/header/relationships/controller.js","forms/header/slo/view.html!text","forms/header/slo/controller.js","forms/header/spacer/view.html!text","forms/header/spacer/controller.js","forms/header/title/view.html!text","forms/header/title/controller.js","forms/header/approval/view.html!text","forms/header/approval/controller.js","forms/headerBuilder.js","forms/structure/formPanel/view.html!text","forms/structure/formPanel/controller.js","forms/structure/formPanelFull/view.html!text","forms/structure/formPanelFull/controller.js","forms/structure/customFieldGroup/view.html!text","forms/structure/customFieldGroup/controller.js","forms/structure/customFieldGroupRow/view.html!text","forms/structure/customFieldGroupRow/controller.js","forms/structure/columnField/view.html!text","forms/structure/columnField/controller.js","forms/structure/tab/view.html!text","forms/structure/tab/controller.js","forms/structure/tabPane/view.html!text","forms/structure/tabPane/controller.js","forms/structure/tabNavigation/view.html!text","forms/structure/tabNavigation/mobile.html!text","forms/structure/tabNavigation/controller.js","forms/structure/tabData/view.html!text","forms/structure/tabData/mobile.html!text","forms/structure/tabData/controller.js","forms/predefined/actionLog/view.html!text","forms/predefined/actionLog/controller.js","forms/predefined/fileAttachments/view.html!text","forms/predefined/fileAttachments/controller.js","forms/predefined/affectedItems/view.html!text","forms/popups/multipleObjectPickerPopup/view.html!text","forms/popups/multipleObjectPickerPopup/controller.js","../CustomSpace/Scripts/forms/predefined/affectedItems/controller.js","forms/predefined/relatedItems/view.html!text","../CustomSpace/Scripts/forms/predefined/relatedItems/controller.js","forms/predefined/childWorkItems/view.html!text","forms/predefined/childWorkItems/controller.js","forms/predefined/userInput/view.html!text","forms/predefined/userInput/controller.js","forms/predefined/activities/view.html!text","forms/predefined/activities/controller.js","forms/predefined/multipleObjectPicker/view.html!text","forms/predefined/multipleObjectPicker/controller.js","../CustomSpace/Scripts/forms/predefined/history/view.html!text","../CustomSpace/Scripts/forms/predefined/history/controller.js","forms/predefined/billableTime/view.html!text","forms/predefined/billableTime/controller.js","forms/predefined/knowledgeArticle/view.html!text","forms/predefined/knowledgeArticle/popup.html!text","forms/predefined/knowledgeArticle/controller.js","forms/fields/string/view.html!text","forms/fields/string/controller.js","forms/fields/longstring/view.html!text","forms/fields/longstring/controller.js","forms/fields/boolean/view.html!text","forms/fields/boolean/controller.js","forms/fields/display/view.html!text","forms/fields/display/controller.js","forms/fields/spacer/view.html!text","forms/fields/spacer/controller.js","forms/fields/numeric/view.html!text","forms/fields/numeric/controller.js","forms/fields/int/controller.js","forms/fields/decimal/controller.js","forms/fields/double/controller.js","forms/fields/date/view.html!text","forms/fields/date/controller.js","forms/fields/datetime/view.html!text","forms/fields/datetime/controller.js","forms/fields/enum/view.html!text","forms/fields/enum/controller.js","forms/fields/userPicker/view.html!text","forms/popups/userPickerPopup/view.html!text","forms/popups/userPickerPopup/controller.js","forms/fields/userPicker/controller.js","forms/fields/objectPicker/view.html!text","forms/popups/objectPickerPopup/view.html!text","forms/popups/objectPickerPopup/controller.js","forms/fields/objectPicker/controller.js","forms/fields/button/view.html!text","forms/fields/button/controller.js","forms/fields/editor/view.html!text","forms/fields/editor/controller.js","forms/fields/combo/view.html!text","forms/fields/combo/controller.js","forms/fields/dropDownList/view.html!text","forms/fields/dropDownList/controller.js","forms/fields/bundle/view.html!text","forms/fields/bundle/controller.js","forms/fields/fileUpload/view.html!text","forms/fields/fileUpload/controller.js","forms/fields/urlTextbox/view.html!text","forms/fields/urlTextbox/controller.js","forms/fields/percentage/controller.js","forms/formBuilder.js","forms/formHelper.js","forms/profileMain.js"],"names":["define","module","text","fs","Cc","Ci","xpcIsWindows","progIds","xmlRegExp","bodyRegExp","hasLocation","location","href","defaultProtocol","protocol","replace","defaultHostName","hostname","defaultPort","port","undefined","buildMap","masterConfig","config","version","strip","content","matches","match","jsEscape","createXhr","xhr","i","progId","XMLHttpRequest","ActiveXObject","e","parseName","name","modName","ext","temp","index","indexOf","isRelative","substring","length","moduleName","xdRegExp","useXhr","url","uProtocol","uHostName","uPort","exec","split","toLowerCase","finishLoad","onLoad","isBuild","load","req","inlineText","parsed","nonStripName","toUrl","get","err","error","write","pluginName","hasOwnProperty","asModule","writeFile","extPart","fileName","value","textWrite","contents","env","process","versions","node","require","nodeRequire","callback","errback","file","readFileSync","headers","header","open","setRequestHeader","onXhr","onreadystatechange","evt","status","readyState","Error","responseText","onXhrComplete","send","Packages","java","stringBuffer","line","io","File","lineSeparator","lang","System","getProperty","input","BufferedReader","InputStreamReader","FileInputStream","StringBuffer","readLine","charAt","append","String","toString","close","Components","classes","interfaces","utils","inStream","convertStream","fileObj","readData","FileUtils","createInstance","nsIFileInputStream","init","nsIConverterInputStream","available","DEFAULT_REPLACEMENT_CHARACTER","readString","path","__fileAttachmentsPopupSingleton","tpl","app","isMobile","FileAttachmentsPopup","vm","targetEle","task","_vmWindow","win","self","this","html","setSaveCallback","$","unbind","bind","obj","setCancelCallback","kendoCiresonWindow","title","localization","FileAttachments","width","height","actions","data","kendo","observable","save","trigger","selectedFiles","closeModal","cancel","isDesktopView","isMobileDevice","isMobileView","onOpenFile","dataSource","view","map","select","item","saveCancelBtn","closeBtn","openModal","removeClass","show","modal","selectFile","el","isImage","listView","find","closest","dataItem","getByUid","action","attr","downloadUrl","rootURL","BaseId","window","setTimeout","document","body","appendChild","createElement","src","focus","dialog","destroy","eq","remove","dialogs","kendoDialog","DisplayName","Content","animation","effects","addClass","on","each","before","off","kendoListView","viewModel","FileAttachment","template","selectable","change","dataBound","parent","hide","getPopup","built","_","ele","__remoteManageWidgetSingleton","getWidget","first","children","after","addUserContainer","addTemplate","dataUserContainer","dataTemplate","addDeviceContainer","dataDeviceContainer","multipleDataTemplate","widgetActionIcon","createUserComboBox","type","initializePicker","element","eleContainer","eleTemplate","dataTextField","getKendoComboBox","createUserDeviceComboBox","affectedUserId","widget","affectedUser","createPrimaryDeviceComboBox","createDeviceComboBox","affectedUserText","assignedUserText","primaryOwnerText","affectedDeviceText","primaryDeviceText","userDeviceText","relatedDeviceText","getObjectDetails","details","AffectedUserAppPage","icon","AssignedUser","PrimaryOwner","AffectedDeviceText","RelatedDeviceText","filter","selected","setSelected","key","picker","parents","extend","widgetType","mailtoLink","Id","Title","set","mainWidgetAttr","findWhere","AssetStatus","HasRelatedWorkItems","push","mainWidgetDeviceAttr","RelatesToConfigItem","replaceAll","ds","targetKey","id","DataSource","transport","read","filterByAnalyst","maxNumberOfResults","userFilter","serverFiltering","searchFilter","classId","columnNames","schema","response","Data","session","consoleSetting","TrueControlCenterURL","search","beforeSend","TrueControlCenterAuthToken","className","kendoComboBox","placeholder","Search","dataValueField","autoBind","suggest","popup","appendTo","filtering","sender","Name","Email","Path","Guid","Text","ClassName","hasClass","keyCode","addForm","currentTarget","RequestedWorkItem","assignedUser","AssignedWorkItem","primaryOwner","RelatesToIncident","affectedDevice","primaryDevice","userDevice","relatedDevice","relatedDeviceArr","affectedDeviceArr","primaryDeviceArr","clickContainer","target","nodeName","slideOutNav","getTCCSourceURL","options","tooltip","UserManagement","ComputerManagement","removeUserCombobox","openCombobox","removeItem","propName","widgetValue","arr","splice","liParent","remoteManageRecepient","openSendEmail","click","relatedDeviceObj","devices","affectedDeviceObj","changeCntr","field","widgetName","getJSON","userId","json","JSON","parse","items","toggle","attachmentWidget","build","isUndefined","ajax","async","then","properties","Required","AcceptExtension","Clas","isDesktop","isEnabled","isVisible","onSelect","files","extension","ui","ExtAlertDialog","ErrorDescription","message","FileExtensionInvalid","preventDefault","onUploadSuccess","operation","rawFile","success","f","onUploadError","parseJSON","console","warn","onRemove","fieldName","PropertyName","css","blob","Blob","URL","createObjectURL","navigator","msSaveOrOpenBlob","msSaveBlob","a","style","download","revokeObjectURL","removeChild","defer","kendoUpload","saveUrl","removeUrl","autoUpload","showFileList","dropZone","__headerAttachmentWidgetSingleton","fileAttachmentsDragDrop","getContainer","tplReturn","headerAttachmentContainer","_container","attachmentPickerFlyout","remoteManageWidget","headerAttachmentWidget","definition","statusVisible","newWI","showRemoteManageIcon","View","wrap","DoWork","model","buildParentHeaderView","viewCallBack","controller","parentIncident","ParentRecord","Parentincident","editHref","ParentWorkItem","editLink","unlinkParent","when","ExtYesNoDialog","UnlinkToParent","SureUnlinkToParent","done","button","isParent","render","isSLOopen","toggleSLODropdown","closeSLODropdown","first_sloObjects","first_sloContainer","DoWorkSLOHeader","sloContainer","sloObjects","isDropdown","sloActive","sloPaused","sloMet","sloWarning","sloBreached","sloNotReady","isMet","isPaused","sloTemplate","sloObj","count","Status","imageClass","isBreach","sloImg","clone","SLOCoundown","Time","Hours","Minutes","Seconds","eval","WarningDate","ServerDatetimeNow","sloCloned","isMetStat","hours","minutes","seconds","warningDate","serverCurrentDate","secs","Math","abs","mins","hrs","setSeconds","getSeconds","parseInt","doClick","toggleMore","viewAttachments","isNull","filesCount","container","wrapper","isAnalyst","sloViewObj","rejected","approve","notYetVoted","approvalModel","decisionEnumId","comments","onRejectClick","updateStatus","onApproveClick","onCompleteClick","constants","workItemStatuses","ManualActivity","Completed","updateManualActivity","onFailClick","Failed","isReviewActivity","updateReviewActivity","isManualActivity","ExtYesNoTextAreaDialog","Comments","DoYouHaveComments","required","pageForm","Reviewer","reviewItem","group","userGroup","User","Decision","user","comment","VotedBy","Date","toISOString","RequireImplementationNotes","ImplementationdetailsRequired","Implementationdetails","buttons","Save","$inputText","val","currentNotes","Notes","requiredCss","cls","Cancel","postData","encodeURIComponent","stringify","isDirty","current","toJSON","original","jsonRaw","dataType","reload","successMessage","ReviewActivityApprovedMessage","ReviewActivityRejectedMessage","ManualActivityCompletedMessage","ManualActivityFailedMessage","lib","add","handleMessages","pathname","ajaxOptions","thrownError","DataConflict","DataConflictError","DataConflictDescription","jsonRsp","log","errorMsg","ReconnectRequired","exception","RequestFailed","processData","pageDataSource","serverSorting","ClassTypeId","isScoped","Security","IsWorkItemScoped","showInActives","cache","requestEnd","updatePageDetails","pageCount","idx","pageString","statusInProgress","reviewDetails","fullDetails","review","nextClick","navigate","previousClick","dSource","nextItem","approvalUrl","onChangeSupportGroup","MASupportGroupField","SupportGroupFieldValue","currentPage","toatPage","pageText","disablePrevious","disableNext","workItemId","statusName","IsParent","disabledButtons","reviewResult","reviewId","SupportGroupVisible","SupportGroupEnumId","MASupportGroupGuid","disabledMAButtons","sticky","relationships","slo","spacer","approval","headerTemplate","rows","row","rowElm","columns","column","colElm","Class","_obj","Exception","Visible","dtpl","mtpl","cid","Disabled","disabled","ObjectPickerPopup","gridUrl","dataSourceFilter","isConfigItem","_vm","controllerUrl","objects","bindEvents","onSaveClick","selectedRows","grid2","itm","closePopup","onCancelClick","openPopup","clearSearchText","gridFunctions","clear","kendoWindow","createPopup","Popup","grid","searchText","outObjs","ObservableArray","addObject","max","grid2Funcs","addItem","removeObject","removeRow","page","gridFuncs","comboFuncs","getIdValue","onChange","onDataBound","totalPages","pager","ii","iitem","dblClick","uid","item1","combo","createKendoWindow","SelectObject","activate","createCombo","prefix","errors","createGrid","gc","kendoGrid","pageSize","total","hidden","filterable","encoded","attributes","class","userColumns","FirstName","LastName","UserName","Domain","Company","sortable","mode","operators","string","startswith","Startswith","contains","Contains","Isequalto","neq","Isnotequalto","columnMenu","pageable","createGrid2","Total","nd","templateFrag","objectPickerPopup","cur_table","boundArray","affectedItemController","addConfigItem","selectedConfigItemId","addAffectedItem","searchConfigItem","popupWindow","object","selectedConfigItem","configItemDataSource","filters","onConfigItemChange","selectedIndex","isUserCIVisible","selectedUserConfigItemId","selectedUserConfigItem","addUserConfigItem","userConfigItemDataSource","parameterMap","onUserConfigItemChange","showMoreInfo","detailsPopupEle","detailsPopup","baseId","displayName","refresh","center","onDataBinding","table","Hidden","isWindowsComputer","isConfigItemWindowsComputer","objectId","result","isUser","isConfigItemUser","IsUser","isMoreInfo","isSlideOut","bIsUser","bIsWindowsComputer","hasControlCenterURL","showTCCInfo","onContextmenuSelect","onContextmenuActivate","managementTitle","menuItems","imageUrl","imageAttr","custom","AdditionalDetails","setOptions","originalFilter","apply","arguments","dsFilters","innerFilters","x","uniq","affectedtemController","isDuplicate","idToAdd","n","ObjectClassName","relatedItemController","Control","boundObj","bindButtonEvents","addClick","gridEle","LastModified","command","Remove","scrollable","extra","messages","info","Showitemswithvaluethat","and","And","or","Or","Filter","Clear","reorderable","ChooseColumns","sortAscending","SortAscending","sortDescending","SortDescending","editable","confirmDelete","cancelDelete","create","update","toolbar","selectedItem","strClass","ClassId","PropertyToDisplay","ControllerUrl","IsMobileView","showProp","buildSubProperties","propToFill","prop","propSplit","mainProp","subProp","_boundArray","ProjectionId","colNames","splitedProp","propperty","post","projectionId","propIndex","shift","ShowAddButton","isDisabled","hideRemoveButton","ShowRemoveButton","columnFields","buildColumnFields","columnToDisplay","buildGridColumns","fields","dataBinding","formatPropertyInBoundArray","ClassProperties","Scoped","scopeBoundArray","SelectableRow","openObject","showRemovButton","propertyKey","localizationKey","localizedText","columnClass","SelectProperty","dateFormat","culture","calendar","patterns","g","format","currentItemEvent","columnString","currentItem","property","isBoolean","isNumber","scopeClassId","timeout","objectIds","_data","tbody","stringProp","HiddenProperty","concat","DashboardsLicense","IsValid","enableWatchlist","Analyst","operator","historyTemplate","buildAndRender","builtHistory","historyElm","kendoDropDownList","event","historyController","getObjectHistory","dataSourceSet","setDataSource","getDropDownDataSource","storage","setWithNoDirty","variable","isDirtyState","loadHistory","dropDownDataSet","getChildren","Activity","Key","activity","objectGUID","objectTitle","customhistoryModel","nodes","noop","LastUpdatedDisplay","billableTimeController","btHour","btMinute","btTotalTime","btTotalTimeInString","onHourSpin","onMinuteSpin","BillableTime","BasedId","LastUpdated","onAddClick","hour","minute","isExisting","newBillableModel","TimeInMinutes","newGUID","Image","iconPath","icons","EnteredDate","EnteredBy","Description","computeTotalTime","resetTime","onSubtractClick","totalTime","SubtractTimeTitle","SubtractTimeMessage","itemTotalTime","Totaltime","popupTpl","popupView","knowledgeArticleModel","modalViewModel","ArticleId","Category","Type","selectedItems","logic","articleIds","pluck","last","query","pop","relatedHTMLKB","KnowledgeArticleID","WorkItemID","WorkItemId","AssetID","AssetId","bindRowClick","getAllRelatedWorkItems","addUrlParam","ArticleID","CategoryName","TypeName","errorThrown","removeRelatedKB","removeHTMLKB","stringController","CheckLength","elem","helpBlock","next","maxChars","removeAttr","buildStringView","limitLength","MinLength","MaxLength","LimitLength","longStringController","buildLongStringView","Rows","visible","IsVisible","Inline","HideLabel","DecimalPlaces","MinValue","MaxValue","StepIncrement","Format","number","FromFilter","ToFilter","FromRelative","ToRelative","EnumId","LeafNodeOnly","ShowPath","FilterIds","__userPickerPopupSingleton","NameIdModel","nameProp","idProp","serverNameProp","serverIdProp","setObj","setFromObj","getFromObj","getObj","getGenericFromObj","UserPickerPopup","groupsOnly","gridHtml","_model","onSearchClick","searchValue","selectedUser","userObj","selectedRow","kendoDataSource","Grid","SelectGroup","SelectUser","settings","onRowDblClick","createKendoDataSource","serverPaging","serverGrouping","PrincipalName","EmployeeId","createKendoGrid","SearchText","selectUserText","searchOnEnter","which","userDataSource","onListViewChanged","userPickerPopup","ExtraProps","Delay","FilterByAnalyst","MaxNumberOfResults","extraProps","delay","minLength","forceKendoProp","helperBlock","autoComplete","refreshDisplayValues","onAutoCompleteValueChanged","onSearchIconClick","isModelSet","isModelSetNulled","hasExtraProps","createHelperBlock","HelperBlock","props","createAutocomplete","AutoComplete","detailsUrl","setDisplay","setValue","extraPropText","setExtraPropsDisplay","createHtml","data-bind","createViewModel","getUserObjectData","getDisplayName","str","isObject","searchBtn","detailsBtn","placeHolderText","SearchButton","focusedItemIndex","hasTCCURL","validateAutoCompleteValue","getDataSourceMatch","ul","is","getFocusedIndex","onDetailsBtnClick","stopPropagation","openSlideout","createSearchButton","data-control-action","iconColor","insertAfter","createDetailsButton","insertBefore","createTCCDetailsButton","kendoMenu","openOnClick","createKendoAutoComplete","kendoAutoComplete","valuePrimitive","enable","clearButton","createDetailsPopup","blurred","text-decoration","background-color","focused","__objectPickerPopupSingleton","groupFilter","ObjectClassId","Hosted","selectObjectText","okText","OK","cancelText","getIndexZero","SearchPlaceholder","preventClosing","scrollTop","ButtonType","ButtonSize","Options","defaultTools","mobileTools","kendoEditor","tools","stylesheets","staticFileVersion","editor","Height","PropertyDisplayName","IsCascading","Cascade","ControlObject","gridViewModel","bundleData","cont","createOrEditSoftwareBundle","okClick","dataList","products","tempSoftwarePattern","tempExclusionPattern","tempVersionPattern","SoftwarePatternName","SoftwarePattern","ExclusionPattern","VersionPattern","SoftwarePatternTxt","ExclusionPatternTxt","VersionPatternTxt","enableDisableTextbox","cancelClick","txt","isEnable","onClick","softwarePatternList","Array","exclusionPatternList","versionPatternList","IsBundle","softwarePattern","onSave","validation","SoftwarePatternNamevalidation","EnterRequiredFields","SoftwarePatternvalidation","batch","complete","streamId","bufferedMode","streamLength","img","buildURLTextbox","regexp","RegExp","txtBox","link","validateUrl","isOk","test","textChange","openURL","formPanel","formPanelFull","customFieldGroup","customFieldGroupRow","columnField","tab","tabPane","tabNavigation","tabData","actionLog","fileAttachments","affectedItems","relatedItems","childWorkItems","userInput","activities","multipleObjectPicker","history","billableTime","knowledgeArticle","LongString","Boolean","Display","Spacer","Numeric","Int32","Decimal","Double","DateTime","Enum","UserPicker","ObjectPicker","Button","Editor","Combo","DropDownList","Bundle","FileUpload","UrlTextbox","Percentage","mainContainer","jsonTemplate","formTemplate","layoutType","tplString","readTemplate","jsonDecision","mutationLogic","all","propValue","tabList","nodeCount","tabtplString","tabnavCont","focusSet","tabNode","focusedTab","getParameterByName","tabNodeNameKey","tabId","active","customFieldGroupList","columnFieldList","setColumnSizes","chooseNextAction","objectName","columnCount","DataType","propContainer","list","pane","manageDirty","onbeforeunload","UnsavedDataMessage","mobileDrawerTaskButton","taskContainer","mobileTaskShow","drawermenu","addButton","Tasks","makeDrawer","resize","waitSeconds","urlArgs","baseUrl","paths","CustomSpace","shim","mask","ajaxStop","headerBuilder","formBuilder","formHelper","headerContainer","empty","formContainer","dataVM","ColSpan","hasAsset","controls","localize","createButtons","events","subscribe","saveFailure","exceptionMessage","RequiredFieldsErrorMessage","PleaseCorrectErrors","clearAllLocalStorage","sessionTimeout","hideWarningPopup","store","Apply","refreshButtons","animate","ExtOkCancelDialog","Warning","IsNew","failure","blur","valid","jqEle"],"mappings":"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","file":"profileMain-built.min.js","sourcesContent":["/**\r\n * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\r\n * Available via the MIT or new BSD license.\r\n * see: http://github.com/requirejs/text for details\r\n */\r\n/*jslint regexp: true */\r\n/*global require, XMLHttpRequest, ActiveXObject,\r\n  define, window, process, Packages,\r\n  java, location, Components, FileUtils */\r\n\r\ndefine('text',['module'], function (module) {\r\n    'use strict';\r\n\r\n    var text, fs, Cc, Ci, xpcIsWindows,\r\n        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],\r\n        xmlRegExp = /^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,\r\n        bodyRegExp = /<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,\r\n        hasLocation = typeof location !== 'undefined' && location.href,\r\n        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\\:/, ''),\r\n        defaultHostName = hasLocation && location.hostname,\r\n        defaultPort = hasLocation && (location.port || undefined),\r\n        buildMap = {},\r\n        masterConfig = (module.config && module.config()) || {};\r\n\r\n    text = {\r\n        version: '2.0.10',\r\n\r\n        strip: function (content) {\r\n            //Strips <?xml ...?> declarations so that external SVG and XML\r\n            //documents can be added to a document without worry. Also, if the string\r\n            //is an HTML document, only the part inside the body tag is returned.\r\n            if (content) {\r\n                content = content.replace(xmlRegExp, \"\");\r\n                var matches = content.match(bodyRegExp);\r\n                if (matches) {\r\n                    content = matches[1];\r\n                }\r\n            } else {\r\n                content = \"\";\r\n            }\r\n            return content;\r\n        },\r\n\r\n        jsEscape: function (content) {\r\n            return content.replace(/(['\\\\])/g, '\\\\$1')\r\n                .replace(/[\\f]/g, \"\\\\f\")\r\n                .replace(/[\\b]/g, \"\\\\b\")\r\n                .replace(/[\\n]/g, \"\\\\n\")\r\n                .replace(/[\\t]/g, \"\\\\t\")\r\n                .replace(/[\\r]/g, \"\\\\r\")\r\n                .replace(/[\\u2028]/g, \"\\\\u2028\")\r\n                .replace(/[\\u2029]/g, \"\\\\u2029\");\r\n        },\r\n\r\n        createXhr: masterConfig.createXhr || function () {\r\n            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.\r\n            var xhr, i, progId;\r\n            if (typeof XMLHttpRequest !== \"undefined\") {\r\n                return new XMLHttpRequest();\r\n            } else if (typeof ActiveXObject !== \"undefined\") {\r\n                for (i = 0; i < 3; i += 1) {\r\n                    progId = progIds[i];\r\n                    try {\r\n                        xhr = new ActiveXObject(progId);\r\n                    } catch (e) { }\r\n\r\n                    if (xhr) {\r\n                        progIds = [progId];  // so faster next time\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return xhr;\r\n        },\r\n\r\n        /**\r\n         * Parses a resource name into its component parts. Resource names\r\n         * look like: module/name.ext!strip, where the !strip part is\r\n         * optional.\r\n         * @param {String} name the resource name\r\n         * @returns {Object} with properties \"moduleName\", \"ext\" and \"strip\"\r\n         * where strip is a boolean.\r\n         */\r\n        parseName: function (name) {\r\n            var modName, ext, temp,\r\n                strip = false,\r\n                index = name.indexOf(\".\"),\r\n                isRelative = name.indexOf('./') === 0 ||\r\n                             name.indexOf('../') === 0;\r\n\r\n            if (index !== -1 && (!isRelative || index > 1)) {\r\n                modName = name.substring(0, index);\r\n                ext = name.substring(index + 1, name.length);\r\n            } else {\r\n                modName = name;\r\n            }\r\n\r\n            temp = ext || modName;\r\n            index = temp.indexOf(\"!\");\r\n            if (index !== -1) {\r\n                //Pull off the strip arg.\r\n                strip = temp.substring(index + 1) === \"strip\";\r\n                temp = temp.substring(0, index);\r\n                if (ext) {\r\n                    ext = temp;\r\n                } else {\r\n                    modName = temp;\r\n                }\r\n            }\r\n\r\n            return {\r\n                moduleName: modName,\r\n                ext: ext,\r\n                strip: strip\r\n            };\r\n        },\r\n\r\n        xdRegExp: /^((\\w+)\\:)?\\/\\/([^\\/\\\\]+)/,\r\n\r\n        /**\r\n         * Is an URL on another domain. Only works for browser use, returns\r\n         * false in non-browser environments. Only used to know if an\r\n         * optimized .js version of a text resource should be loaded\r\n         * instead.\r\n         * @param {String} url\r\n         * @returns Boolean\r\n         */\r\n        useXhr: function (url, protocol, hostname, port) {\r\n            var uProtocol, uHostName, uPort,\r\n                match = text.xdRegExp.exec(url);\r\n            if (!match) {\r\n                return true;\r\n            }\r\n            uProtocol = match[2];\r\n            uHostName = match[3];\r\n\r\n            uHostName = uHostName.split(':');\r\n            uPort = uHostName[1];\r\n            uHostName = uHostName[0];\r\n\r\n            return (!uProtocol || uProtocol === protocol) &&\r\n                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&\r\n                   ((!uPort && !uHostName) || uPort === port);\r\n        },\r\n\r\n        finishLoad: function (name, strip, content, onLoad) {\r\n            content = strip ? text.strip(content) : content;\r\n            if (masterConfig.isBuild) {\r\n                buildMap[name] = content;\r\n            }\r\n            onLoad(content);\r\n        },\r\n\r\n        load: function (name, req, onLoad, config) {\r\n            //Name has format: some.module.filext!strip\r\n            //The strip part is optional.\r\n            //if strip is present, then that means only get the string contents\r\n            //inside a body tag in an HTML string. For XML/SVG content it means\r\n            //removing the <?xml ...?> declarations so the content can be inserted\r\n            //into the current doc without problems.\r\n\r\n            // Do not bother with the work if a build and text will\r\n            // not be inlined.\r\n            if (config.isBuild && !config.inlineText) {\r\n                onLoad();\r\n                return;\r\n            }\r\n\r\n            masterConfig.isBuild = config.isBuild;\r\n\r\n            var parsed = text.parseName(name),\r\n                nonStripName = parsed.moduleName +\r\n                    (parsed.ext ? '.' + parsed.ext : ''),\r\n                url = req.toUrl(nonStripName),\r\n                useXhr = (masterConfig.useXhr) ||\r\n                         text.useXhr;\r\n\r\n            // Do not load if it is an empty: url\r\n            if (url.indexOf('empty:') === 0) {\r\n                onLoad();\r\n                return;\r\n            }\r\n\r\n            //Load the text. Use XHR if possible and in a browser.\r\n            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {\r\n                text.get(url, function (content) {\r\n                    text.finishLoad(name, parsed.strip, content, onLoad);\r\n                }, function (err) {\r\n                    if (onLoad.error) {\r\n                        onLoad.error(err);\r\n                    }\r\n                });\r\n            } else {\r\n                //Need to fetch the resource across domains. Assume\r\n                //the resource has been optimized into a JS module. Fetch\r\n                //by the module name + extension, but do not include the\r\n                //!strip part to avoid file system issues.\r\n                req([nonStripName], function (content) {\r\n                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,\r\n                                    parsed.strip, content, onLoad);\r\n                });\r\n            }\r\n        },\r\n\r\n        write: function (pluginName, moduleName, write, config) {\r\n            if (buildMap.hasOwnProperty(moduleName)) {\r\n                var content = text.jsEscape(buildMap[moduleName]);\r\n                write.asModule(pluginName + \"!\" + moduleName,\r\n                               \"define(function () { return '\" +\r\n                                   content +\r\n                               \"';});\\n\");\r\n            }\r\n        },\r\n\r\n        writeFile: function (pluginName, moduleName, req, write, config) {\r\n            var parsed = text.parseName(moduleName),\r\n                extPart = parsed.ext ? '.' + parsed.ext : '',\r\n                nonStripName = parsed.moduleName + extPart,\r\n                //Use a '.js' file name so that it indicates it is a\r\n                //script that can be loaded across domains.\r\n                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';\r\n\r\n            //Leverage own load() method to load plugin value, but only\r\n            //write out values that do not have the strip argument,\r\n            //to avoid any potential issues with ! in file names.\r\n            text.load(nonStripName, req, function (value) {\r\n                //Use own write() method to construct full module value.\r\n                //But need to create shell that translates writeFile's\r\n                //write() to the right interface.\r\n                var textWrite = function (contents) {\r\n                    return write(fileName, contents);\r\n                };\r\n                textWrite.asModule = function (moduleName, contents) {\r\n                    return write.asModule(moduleName, fileName, contents);\r\n                };\r\n\r\n                text.write(pluginName, nonStripName, textWrite, config);\r\n            }, config);\r\n        }\r\n    };\r\n\r\n    if (masterConfig.env === 'node' || (!masterConfig.env &&\r\n            typeof process !== \"undefined\" &&\r\n            process.versions &&\r\n            !!process.versions.node &&\r\n            !process.versions['node-webkit'])) {\r\n        //Using special require.nodeRequire, something added by r.js.\r\n        fs = require.nodeRequire('fs');\r\n\r\n        text.get = function (url, callback, errback) {\r\n            try {\r\n                var file = fs.readFileSync(url, 'utf8');\r\n                //Remove BOM (Byte Mark Order) from utf8 files if it is there.\r\n                if (file.indexOf('\\uFEFF') === 0) {\r\n                    file = file.substring(1);\r\n                }\r\n                callback(file);\r\n            } catch (e) {\r\n                errback(e);\r\n            }\r\n        };\r\n    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&\r\n            text.createXhr())) {\r\n        text.get = function (url, callback, errback, headers) {\r\n            var xhr = text.createXhr(), header;\r\n            xhr.open('GET', url, true);\r\n\r\n            //Allow plugins direct access to xhr headers\r\n            if (headers) {\r\n                for (header in headers) {\r\n                    if (headers.hasOwnProperty(header)) {\r\n                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            //Allow overrides specified in config\r\n            if (masterConfig.onXhr) {\r\n                masterConfig.onXhr(xhr, url);\r\n            }\r\n\r\n            xhr.onreadystatechange = function (evt) {\r\n                var status, err;\r\n                //Do not explicitly handle errors, those should be\r\n                //visible via console output in the browser.\r\n                if (xhr.readyState === 4) {\r\n                    status = xhr.status;\r\n                    if (status > 399 && status < 600) {\r\n                        //An http 4xx or 5xx error. Signal an error.\r\n                        err = new Error(url + ' HTTP status: ' + status);\r\n                        err.xhr = xhr;\r\n                        errback(err);\r\n                    } else {\r\n                        callback(xhr.responseText);\r\n                    }\r\n\r\n                    if (masterConfig.onXhrComplete) {\r\n                        masterConfig.onXhrComplete(xhr, url);\r\n                    }\r\n                }\r\n            };\r\n            xhr.send(null);\r\n        };\r\n    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&\r\n            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\r\n        //Why Java, why is this so awkward?\r\n        text.get = function (url, callback) {\r\n            var stringBuffer, line,\r\n                encoding = \"utf-8\",\r\n                file = new java.io.File(url),\r\n                lineSeparator = java.lang.System.getProperty(\"line.separator\"),\r\n                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),\r\n                content = '';\r\n            try {\r\n                stringBuffer = new java.lang.StringBuffer();\r\n                line = input.readLine();\r\n\r\n                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324\r\n                // http://www.unicode.org/faq/utf_bom.html\r\n\r\n                // Note that when we use utf-8, the BOM should appear as \"EF BB BF\", but it doesn't due to this bug in the JDK:\r\n                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\r\n                if (line && line.length() && line.charAt(0) === 0xfeff) {\r\n                    // Eat the BOM, since we've already found the encoding on this file,\r\n                    // and we plan to concatenating this buffer with others; the BOM should\r\n                    // only appear at the top of a file.\r\n                    line = line.substring(1);\r\n                }\r\n\r\n                if (line !== null) {\r\n                    stringBuffer.append(line);\r\n                }\r\n\r\n                while ((line = input.readLine()) !== null) {\r\n                    stringBuffer.append(lineSeparator);\r\n                    stringBuffer.append(line);\r\n                }\r\n                //Make sure we return a JavaScript string and not a Java string.\r\n                content = String(stringBuffer.toString()); //String\r\n            } finally {\r\n                input.close();\r\n            }\r\n            callback(content);\r\n        };\r\n    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&\r\n            typeof Components !== 'undefined' && Components.classes &&\r\n            Components.interfaces)) {\r\n        //Avert your gaze!\r\n        Cc = Components.classes,\r\n        Ci = Components.interfaces;\r\n        Components.utils['import']('resource://gre/modules/FileUtils.jsm');\r\n        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);\r\n\r\n        text.get = function (url, callback) {\r\n            var inStream, convertStream, fileObj,\r\n                readData = {};\r\n\r\n            if (xpcIsWindows) {\r\n                url = url.replace(/\\//g, '\\\\');\r\n            }\r\n\r\n            fileObj = new FileUtils.File(url);\r\n\r\n            //XPCOM, you so crazy\r\n            try {\r\n                inStream = Cc['@mozilla.org/network/file-input-stream;1']\r\n                           .createInstance(Ci.nsIFileInputStream);\r\n                inStream.init(fileObj, 1, 0, false);\r\n\r\n                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']\r\n                                .createInstance(Ci.nsIConverterInputStream);\r\n                convertStream.init(inStream, \"utf-8\", inStream.available(),\r\n                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);\r\n\r\n                convertStream.readString(inStream.available(), readData);\r\n                convertStream.close();\r\n                inStream.close();\r\n                callback(readData.value);\r\n            } catch (e) {\r\n                throw new Error((fileObj && fileObj.path || '') + ': ' + e);\r\n            }\r\n        };\r\n    }\r\n    return text;\r\n});\n","\ndefine('text!forms/header/sticky/view.html',[],function () { return '<div class=\"content-header__container\">\\r\\n    <div class=\"content-header\">\\r\\n        <div class=\"content-header__main\">\\r\\n            <div class=\"content-header__main__title\" data-bind=\"text: viewModel.Title\">\\r\\n            </div>\\r\\n            <div class=\"content-header__main__details\">\\r\\n                <div class=\"content-header__main__breadcrumbs-container\">\\r\\n                    <div class=\"content-header__main__breadcrumb content-header__main__breadcrumb--button\" data-bind=\"visible: view.controller.isParent\">\\r\\n                        <a class=\"content-header__main__breadcrumbs__link\" data-bind=\"attr: { href: view.controller.editHref}, text: viewModel.ParentWorkItem.Id\">\\r\\n                        </a>\\r\\n                        <a class=\"content-header__main__breadcrumbs__link content-header__main__breadcrumb--button__icon-link\" data-bind=\"click: view.controller.unlinkParent\">\\r\\n                            <i class=\"fa fa-unlink\"></i>\\r\\n                        </a>\\r\\n                    </div>\\r\\n                    <div class=\"content-header__main__breadcrumb\" data-bind=\"visible: view.controller.isParent\">\\r\\n                        <strong class=\"content-header__main__breadcrumbs__link\" data-bind=\"text: viewModel.Id\"></strong>\\r\\n                    </div>\\r\\n                    <strong class=\"content-header__main__breadcrumbs__link\" data-bind=\"visible: view.controller.isParent === false, text: viewModel.Id\"></strong>\\r\\n                </div>\\r\\n                <span class=\"status-pill status-pill--active\" data-bind=\"visible: view.statusVisible, text: viewModel.Status.Name\">\\r\\n                    Active\\r\\n                </span>\\r\\n                <div class=\"content-header__main__icon-stack\">\\r\\n                    <button id=\"headerAttachmentBtn\" class=\"btn k-button btn-icon-stack\" data-bind=\"click: view.viewAttachments\">\\r\\n                        <img src=\"../../../../Content/Images/Icons/RemoteManage/attach.svg\" alt=\"attach\" />\\r\\n                    </button>\\r\\n                    <button id=\"remoteManageBtn\" class=\"btn k-button btn-icon-stack\" data-bind=\"click: view.doClick, visible: view.showRemoteManageIcon\">\\r\\n                        <img src=\"../../../../Content/Images/Icons/RemoteManage/remote.svg\" alt=\"remote\" />\\r\\n                    </button>\\r\\n                    <button class=\"btn k-button btn-icon-stack  visible-xs visible-sm\" data-bind=\"click: view.toggleMore\">\\r\\n                        <span class=\"fa fa-ellipsis-v\"></span>\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"content-header__collapser hidden-xs hidden-sm\">\\r\\n            <div class=\"first-header-slo-container\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\"content-header__collapser__dropdown\">\\r\\n                <div class=\"header-slo-container\">\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div id=\"content-header-backdrop\" class=\"content-header__flyout__overlay\">\\r\\n</div>\\r\\n<script id=\"header-slo-template\" type=\"text/x-kendo-template\">\\r\\n    <div class=\"content-header__collapser__icon-container\">\\r\\n        <div class=\"header-slo-icon fa #: imageClass # content-header__collapser__icon\">\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"content-header__collapser__main\">\\r\\n        <div class=\"content-header__collapser__main__title header-slo-title\">#: Title #</div>\\r\\n        <div class=\"content-header__collapser__main__datetime header-slo-timer\"></div>\\r\\n    </div>\\r\\n    # if (index === \\'0\\') { #\\r\\n    <button class=\"content-header__collapser__caret-button fa fa-angle-up\" onclick=\"closeSLODropdown()\"></button>\\r\\n    # } #\\r\\n</script>\\r\\n<script id=\"first-header-slo-template\" type=\"text/x-kendo-template\">\\r\\n    <div class=\"content-header__collapser__icon-container\">\\r\\n        <div class=\"header-slo-icon fa #: imageClass # content-header__collapser__icon\">\\r\\n        </div>\\r\\n        # if (count > 1) { #\\r\\n        <div class=\"content-header__collapser__icon-badge\"> #: count #\\r\\n        </div>\\r\\n        # } #\\r\\n    </div>\\r\\n    <div class=\"content-header__collapser__main\">\\r\\n        <div class=\"content-header__collapser__main__title header-slo-title\">#: Title #</div>\\r\\n        <div class=\"content-header__collapser__main__datetime header-slo-timer\"></div>\\r\\n    </div>\\r\\n    # if (count > 1) { #\\r\\n    <button class=\"content-header__collapser__caret-button fa fa-angle-down\" onclick=\"closeSLODropdown()\"></button>\\r\\n    # } #\\r\\n</script>\\r\\n<div id=\"openmore\" tabindex=\"-1\" role=\"dialog\" class=\"modal right fade\" style=\"display: none\">\\r\\n    <div class=\"modal-dialog modal-sm\">\\r\\n        <div class=\"modal-content\">\\r\\n            <div class=\"content-header__collapser content-header__collapser--side\">\\r\\n                <div class=\"first-header-slo-container\">\\r\\n                </div>\\r\\n                <div class=\"content-header__collapser__dropdown\">\\r\\n                    <div class=\"header-slo-container\">\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","\ndefine('text!forms/flyout/fileAttachmentsFlyout/mobile_view.html',[],function () { return '<div class=\"cireson-window defined-form task-window hide\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div>\\r\\n                <div class=\"fileattachment-list\"></div>\\r\\n                <div class=\"fileattachment-img-modal\"></div>\\r\\n            </div>\\r\\n\\r\\n            <script type=\"text/x-kendo-template\" id=\"filesTemplate\">\\r\\n                <div class=\"thumbnail-file\">\\r\\n                    <div class=\"cursor-pointer thumbnail-img\">\\r\\n                        # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                        <img src=\"data:image/png;base64,#= Content.data #\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\';\" alt=\"#: DisplayName # image\" />\\r\\n                        # } else{ #\\r\\n                        <img class=\"default-icon\" src=\"/Content/Images/Icons/FileUpload/document.svg\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\'\">\\r\\n                        # } #\\r\\n                    </div>\\r\\n                    <div class=\"thumbnail-caption\">\\r\\n                        <span>#: DisplayName #</span>\\r\\n                        <div class=\"overlay\">\\r\\n                            # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                            <span class=\"label\">\\r\\n                                <a class=\"icon custom-click\" title=\"View Image\" action=\"view\">\\r\\n                                    <i class=\"fa fa-eye\"></i>\\r\\n                                </a>\\r\\n                            </span>\\r\\n                            <span class=\"label\">\\r\\n                                <a class=\"icon custom-click\" title=\"Open in New Tab\" action=\"opennewtab\">\\r\\n                                    <i class=\"fa fa-external-link\"></i>\\r\\n                                </a>\\r\\n                            </span>\\r\\n                            # } #\\r\\n                            <span class=\"label\">\\r\\n                                <a class=\"icon custom-click\" title=\"Download\" action=\"download\">\\r\\n                                    <i class=\"fa fa-download\"></i>\\r\\n                                </a>\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </script>\\r\\n            <script>\\r\\n                function selectFile(el, action) {\\r\\n                    //var listView = $(\".fileattachment-list\").data(\"kendoListView\");\\r\\n                    //var item = $(el).closest(\"[role=\\'option\\']\");\\r\\n                    //var dataItem = listView.dataSource.getByUid(item.data(\"uid\"));\\r\\n\\r\\n                    //if (action === \"download\") {\\r\\n                    //    var downloadUrl = app.config.rootURL + \"FileAttachment/ViewFile/\";\\r\\n                    //    location.href = downloadUrl + dataItem.BaseId;\\r\\n                    //} else if (action === \"opennewtab\") {\\r\\n                    //    var win = window.open(\\'about:blank\\');\\r\\n                    //    setTimeout(function () { //FireFox seems to require a setTimeout for this to work.\\r\\n                    //        win.document.body.appendChild(win.document.createElement(\\'img\\')).src = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\\r\\n                    //        win.href = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\\r\\n                    //        win.focus();\\r\\n                    //    }, 0);\\r\\n\\r\\n\\r\\n                    //} else {\\r\\n                    //    var dialog = $(\\'.fileattachment-img-modal\\');\\r\\n                    //    dialog.kendoDialog({\\r\\n                    //        modal: true,\\r\\n                    //        title: dataItem.DisplayName,\\r\\n                    //        content: \"<div class=\\'file-img-container\\'><img src=\\\\\"data:image/png;base64,\" + dataItem.Content.data + \"\\\\\" onerror=\\\\\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\';\\\\\" alt=\\\\\"\" + dataItem.DisplayName + \"\\\\\" /></div>\",\\r\\n                    //        animation: {\\r\\n                    //            open: {\\r\\n                    //                effects: \"fade:in\"\\r\\n                    //            }\\r\\n                    //        }\\r\\n                    //    });\\r\\n                    //    $(\\'.k-window.k-widget\\').addClass(\\'acivity-popup-window\\');\\r\\n                    //    dialog.data(\"kendoDialog\").open();\\r\\n                    //}\\r\\n                }\\r\\n\\r\\n            </script>\\r\\n        </div>\\r\\n        <div class=\"window-buttons cireson-window--footer\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }, visible: saveCancelBtn\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }, visible: saveCancelBtn\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel}, visible: closeBtn \">\\r\\n                <%= localization.Close %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","\ndefine('text!forms/flyout/fileAttachmentsFlyout/view.html',[],function () { return '<div tabindex=\"-1\" role=\"dialog\" class=\"modal right fade\">\\r\\n    <div class=\"modal-dialog\">\\r\\n        <div class=\"modal-content\">\\r\\n            <div class=\"modal-header\">\\r\\n                <h4 class=\"modal-title\"><%= localization.FileAttachments %></h4>\\r\\n            </div>\\r\\n            <div class=\"modal-body\">\\r\\n                <div>\\r\\n                    <div class=\"fileattachment-list\"></div>\\r\\n                    <div class=\"fileattachment-img-modal\"></div>\\r\\n                </div>\\r\\n\\r\\n                <script type=\"text/x-kendo-template\" id=\"filesTemplate\">\\r\\n                    <div class=\"thumbnail-file\">\\r\\n                        <div class=\"cursor-pointer thumbnail-img\">\\r\\n                            # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                            <img src=\"data:image/png;base64,#= Content.data #\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\';\" alt=\"#: DisplayName # image\" />\\r\\n                            # } else{ #\\r\\n                            <img class=\"default-icon\" src=\"/Content/Images/Icons/FileUpload/document.svg\" action=\"download\" onerror=\"    this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\'\">\\r\\n                            # } #\\r\\n                        </div>\\r\\n                        <div class=\"thumbnail-caption\">\\r\\n                            <span>#: DisplayName #</span>\\r\\n                            <div class=\"overlay\">\\r\\n                                # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                                <span class=\"label\">\\r\\n                                    <a class=\"icon custom-click\" view-image action=\"view\" title=\"View Image\">\\r\\n                                        <i class=\"fa fa-eye\"></i>\\r\\n                                    </a>\\r\\n                                </span>\\r\\n                                <span class=\"label\">\\r\\n                                    <a class=\"icon custom-click\" title=\"Open in New Tab\" action=\"opennewtab\">\\r\\n                                        <i class=\"fa fa-external-link\"></i>\\r\\n                                    </a>\\r\\n                                </span>\\r\\n                                # } #\\r\\n                                # if (BaseId!=null) { #\\r\\n                                <span class=\"label\">\\r\\n                                    <a class=\"icon custom-click\" title=\"Download\" action=\"download\">\\r\\n                                        <i class=\"fa fa-download\"></i>\\r\\n                                    </a>\\r\\n                                </span>\\r\\n                                # } #\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </script>\\r\\n                \\r\\n            </div>\\r\\n            <div class=\"modal-footer\">\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-primary\"\\r\\n                        data-bind=\"events: { click: save }, visible: saveCancelBtn\">\\r\\n                    <%= localization.OK %>\\r\\n                </button>\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-default\"\\r\\n                        data-bind=\"events: { click: cancel }, visible: saveCancelBtn\">\\r\\n                    <%= localization.Cancel %>\\r\\n                </button>\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-default\"\\r\\n                        data-bind=\"events: { click: cancel}, visible: closeBtn \">\\r\\n                    <%= localization.Close %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n\\r\\n</div>';});\n\n","/**\r\nfileAttachmentsFlyout\r\n**/\r\n\r\nvar __fileAttachmentsPopupSingleton;\r\n\r\ndefine('forms/flyout/fileAttachmentsFlyout/controller',['require','text!forms/flyout/fileAttachmentsFlyout/mobile_view.html','text!forms/flyout/fileAttachmentsFlyout/view.html'],function (require) {\r\n    var tpl = app.isMobile() ? require(\"text!forms/flyout/fileAttachmentsFlyout/mobile_view.html\") : require(\"text!forms/flyout/fileAttachmentsFlyout/view.html\");\r\n    var singletonName = \"fileAttachmentsFlyout\"; // used to call for singleton\r\n    var definition = {\r\n        template: tpl,\r\n        getPopup: function (vm, task) {\r\n            //only build the template if the popup singleton does not exist.\r\n            var built = _.template(tpl);\r\n            var ele = $(built());\r\n\r\n            $(\"body\").append(ele);\r\n            __fileAttachmentsPopupSingleton = new FileAttachmentsPopup(vm, ele, task);\r\n\r\n            return __fileAttachmentsPopupSingleton;\r\n        }\r\n    }\r\n\r\n    // CONTROL\r\n    var FileAttachmentsPopup = function (vm, targetEle, task) {\r\n        var self = this;\r\n        var html = targetEle;\r\n\r\n        var _vmWindow, win;\r\n\r\n        // getter/setters        \r\n        this.setSaveCallback = function (callback) {\r\n            $(self).unbind(\"save\")\r\n                .bind(\"save\", function (e, obj) { callback(obj); });\r\n        }\r\n        this.setCancelCallback = function (callback) {\r\n            $(self).unbind(\"cancel\")\r\n                .bind(\"cancel\", function (e, obj) { callback(obj); });\r\n        }\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n\r\n            if (app.isMobile()) {\r\n                win = html.kendoCiresonWindow({\r\n                    title: localization.FileAttachments,\r\n                    width: 650,\r\n                    height: 740,\r\n                    actions: []\r\n                }).data(\"kendoWindow\");\r\n            }\r\n\r\n            _vmWindow = kendo.observable({\r\n                save: function() {\r\n                    $(self).trigger(\"save\", { selectedFiles: _vmWindow.selectedFiles });\r\n                    _vmWindow.closeModal();\r\n                },\r\n                cancel: function() {\r\n                    $(self).trigger(\"cancel\");\r\n                    _vmWindow.closeModal();\r\n                },\r\n                isDesktopView: !app.isMobileDevice(),\r\n                isMobileView: app.isMobileDevice(),\r\n                selectedFiles: [],\r\n                onOpenFile: function(e) {\r\n                    var data = this.dataSource.view();\r\n\r\n                    _vmWindow.selectedFiles = $.map(this.select(),\r\n                        function(item) {\r\n                            return data[$(item).index()];\r\n                        });\r\n                },\r\n                saveCancelBtn: (task),\r\n                closeBtn: (!task),\r\n                openModal: function () {\r\n                    if (!app.isMobile())\r\n                        html.modal('show');\r\n                    else {\r\n                        html.removeClass('hide');\r\n                        html.show();\r\n                        win.open();\r\n                    }\r\n                },\r\n                closeModal: function() {\r\n                    if (app.isMobile())\r\n                        win.close();\r\n                    else\r\n                        html.modal('hide');\r\n                },\r\n                selectFile: function(el, isImage) {\r\n                    var listView = html.find(\".fileattachment-list\").data(\"kendoListView\");\r\n                    var item = el.closest(\"[role='option']\");\r\n                    var dataItem = listView.dataSource.getByUid(item.data(\"uid\"));\r\n\r\n                    if (isImage && task == \"sendEmail\") return;\r\n\r\n                    action = el.attr(\"action\");\r\n                    if (action === \"download\") {\r\n                        var downloadUrl = app.config.rootURL + \"FileAttachment/ViewFile/\";\r\n                        location.href = downloadUrl + dataItem.BaseId;\r\n                    } else if (action === \"opennewtab\") {\r\n                        var win = window.open('about:blank');\r\n                        setTimeout(function () { //FireFox seems to require a setTimeout for this to work.\r\n                            win.document.body.appendChild(win.document.createElement('img')).src = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\r\n                            win.href = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\r\n                            win.focus();\r\n                        }, 0);\r\n                        \r\n                        \r\n                    } else {\r\n                        var dialog = $('.fileattachment-img-modal');\r\n\r\n                        if (dialog.length > 1) {\r\n                            for (var i = 1; i < dialog.length; i++) {\r\n                                if ($(dialog[i]).data(\"kendoDialog\"))\r\n                                    $(dialog[i]).data(\"kendoDialog\").destroy();\r\n                                dialog.eq(i).remove();\r\n                            }\r\n                        }\r\n\r\n                        if (dataItem) {\r\n\r\n                            var dialogs = $('.acivity-popup-window');\r\n                            if (dialogs.length > 1) {\r\n                                for (var i = 1; i < dialogs.length; i++) {\r\n                                    dialogs.eq(i).remove();\r\n                                }\r\n                            }\r\n\r\n                            dialog.kendoDialog({\r\n                                modal: true,\r\n                                title: dataItem.DisplayName,\r\n                                content: \"<div class='file-img-container'><img src=\\\"data:image/png;base64,\" +\r\n                                    dataItem.Content.data +\r\n                                    \"\\\" onerror=\\\"this.onerror = null; this.src = '/Content/Images/Icons/FileUpload/document.svg';\\\" alt=\\\"\" +\r\n                                    dataItem.DisplayName +\r\n                                    \"\\\" /></div>\",\r\n                                animation: {\r\n                                    open: {\r\n                                        effects: \"fade:in\"\r\n                                    }\r\n                                }\r\n                            });\r\n                            $('.k-window.k-widget').addClass('acivity-popup-window');\r\n                            dialog.data(\"kendoDialog\").open();\r\n\r\n                            //close preview window on overlay click\r\n                            $('.k-overlay').on(\"click\", function () {\r\n                                dialog.data(\"kendoDialog\").close();\r\n                            });\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            });\r\n            kendo.bind(html, _vmWindow);\r\n\r\n            if (!app.isMobile()) {\r\n\r\n                html.on('shown.bs.modal',\r\n                    function() {\r\n                        //reposition modal backdrop\r\n                        $('.modal-backdrop').each(function(i, obj) {\r\n                            html.before(obj);\r\n                        });\r\n\r\n                        //remove modal focus so tools with popup would work\r\n                        $(document).off('focusin.modal');\r\n                    });\r\n\r\n                html.on('hidden.bs.modal',\r\n                    function() {\r\n                        $('.modal-backdrop').remove();\r\n                    });\r\n\r\n            }\r\n\r\n            self.open = _vmWindow.openModal;\r\n            self.close = _vmWindow.closeModal;\r\n            self.vm = _vmWindow;\r\n\r\n            html.find(\".fileattachment-list\").kendoListView({\r\n                dataSource: vm.viewModel.FileAttachment,\r\n                template: kendo.template($(\"#filesTemplate\").html()),\r\n                selectable: (task) ? \"multiple\" : \"single\",\r\n                change: _vmWindow.onOpenFile,\r\n                dataBound: function () {\r\n                    //Remove view image icon if from send email.\r\n                    if (task == undefined && task != \"sendEmail\") {\r\n                        html.find(\"a[view-image]\").parent().hide();\r\n                    }\r\n\r\n                    html.find(\".custom-click\").on(\"click\", function () {\r\n                        _vmWindow.selectFile($(this), false);\r\n                    });\r\n\r\n                    if (!app.isMobile()) {\r\n                        html.find(\".thumbnail-img img\").on(\"click\", function () {\r\n                            _vmWindow.selectFile($(this), true);\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        __construct();\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/flyout/remoteManageWidget/view.html',[],function () { return '<div id=\"expanded_widget\" class=\"content-header__flyout\">\\r\\n    <h3 class=\"content-header__flyout__title\">\\r\\n        <img src=\"../../../../Content/Images/Icons/RemoteManage/remote_management.svg\" class=\"content-header__flyout__title__logo\" />\\r\\n        <span><%= localization.RemoteManagementText %></span>\\r\\n    </h3>\\r\\n    <div class=\"content-header__flyout__section\">\\r\\n        <div class=\"content-header__flyout__section__title\"><%= localization.Users %></div>\\r\\n        <div class=\"content-header__flyout__section__main\">\\r\\n        \\r\\n            <div class=\"dataUserContainer\"></div>\\r\\n            <div class=\"addUserContainer\"></div>\\r\\n\\r\\n            <div data-bind=\"attr: { class: widget.mainWidgetAttr }\">\\r\\n                <div class=\"support-tools__widget__selection\">\\r\\n                    <a class=\"support-tools__widget__select-type\" id=\"affectedUserAddLink\" data-bind=\"click: widget.addForm, value: widget.affectedUser.widgetType\">\\r\\n                        <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/affected_user.svg\" class=\"support-tools__widget__select-type__logo\"/>\\r\\n                        <div class=\"support-tools__widget__select-type__caption\">\\r\\n                            <%= localization.AffectedText  %>\\r\\n                        </div>\\r\\n                    </a>\\r\\n                    <a class=\"support-tools__widget__select-type\" id=\"assignedUserAddLink\" data-bind=\"click: widget.addForm, value: widget.assignedUser.widgetType\">\\r\\n                        <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/assigned_user.svg\" class=\"support-tools__widget__select-type__logo\"/>\\r\\n                        <div class=\"support-tools__widget__select-type__caption\">\\r\\n                            <%= localization.AssignedText  %>\\r\\n                        </div>\\r\\n                    </a>\\r\\n                    <a class=\"support-tools__widget__select-type\" id=\"primaryOwnerAddLink\" data-bind=\"click: widget.addForm, value: widget.primaryOwner.widgetType\">\\r\\n                        <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/primary_user.svg\" class=\"support-tools__widget__select-type__logo\"/>\\r\\n                        <div class=\"support-tools__widget__select-type__caption\">\\r\\n                            <%= localization.PrimaryText  %>\\r\\n                        </div>\\r\\n                    </a>\\r\\n                </div>\\r\\n                <div class=\"support-tools__widget__label\">\\r\\n                    <div class=\"support-tools__widget__icon-container\">\\r\\n                        <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/add_user.svg\" class=\"support-tools__widget__icon\"/>\\r\\n                    </div>\\r\\n                    <div class=\"support-tools__widget__main support-tools__widget__input\">\\r\\n                        <div class=\"support-tools__widget__input__label\">\\r\\n                            <%= localization.AddaUserText  %>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"content-header__flyout__section\">\\r\\n        <div class=\"content-header__flyout__section__title\"><%= localization.DevicesText  %></div>\\r\\n        <div class=\"content-header__flyout__section__main\">\\r\\n\\r\\n            <div class=\"dataDeviceContainer\"></div>\\r\\n            <div class=\"addDeviceContainer\"></div>\\r\\n    \\r\\n            <div data-bind=\"attr: { class: widget.mainWidgetDeviceAttr }\">\\r\\n                <div class=\"support-tools__widget__selection\">\\r\\n                    <a class=\"support-tools__widget__select-type\" data-bind=\"click: widget.addForm, value: widget.affectedDevice.widgetType\">\\r\\n                        <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/affected_device.svg\" class=\"support-tools__widget__select-type__logo\"/>\\r\\n                        <div class=\"support-tools__widget__select-type__caption\">\\r\\n                            <%= localization.AffectedText  %>\\r\\n                        </div>\\r\\n                    </a>\\r\\n                    <a class=\"support-tools__widget__select-type\" data-bind=\"click: widget.addForm, value: widget.relatedDevice.widgetType\">\\r\\n                        <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/related_device.svg\" class=\"support-tools__widget__select-type__logo\"/>\\r\\n                        <div class=\"support-tools__widget__select-type__caption\">\\r\\n                            <%= localization.RelatedText  %>\\r\\n                        </div>\\r\\n                    </a>\\r\\n                    <!--<a class=\"support-tools__widget__select-type\" data-bind=\"click: widget.addForm, value: widget.primaryDevice.widgetType\">\\r\\n                        <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/primary_device.svg\" class=\"support-tools__widget__select-type__logo\"/>\\r\\n                        <div class=\"support-tools__widget__select-type__caption\">\\r\\n                            Primary\\r\\n                        </div>\\r\\n                    </a>-->\\r\\n                    <a class=\"support-tools__widget__select-type\" data-bind=\"click: widget.addForm, value: widget.userDevice.widgetType\">\\r\\n                        <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/user_device.svg\" class=\"support-tools__widget__select-type__logo\"/>\\r\\n                        <div class=\"support-tools__widget__select-type__caption\">\\r\\n                            <%= localization.UserDeviceText  %>\\r\\n                        </div>\\r\\n                    </a>\\r\\n                </div>\\r\\n                <div class=\"support-tools__widget__label\">\\r\\n                    <div class=\"support-tools__widget__icon-container\">\\r\\n                        <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/add_device.svg\" class=\"support-tools__widget__icon\"/>\\r\\n                    </div>\\r\\n                    <div class=\"support-tools__widget__main support-tools__widget__input\" ng-show=\"assignedUser1 == null\">\\r\\n                        <div class=\"support-tools__widget__input__label\">\\r\\n                            <%= localization.AddaDeviceText  %>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<script id=\"multipleDataTemplate\" type=\"text/x-kendo-template\">\\r\\n    # for (var i = 0; i < devices.length; i++) { #\\r\\n    # var device = devices[i] #\\r\\n    <div class=\"support-tools__widget support-tools__widget--item-selected support-tools__widget--user-selected #:type#dataTemplate\" data-bind=\"click: widget.clickContainer, value: widget.#:type#[#:i#]\">\\r\\n        <div class=\"support-tools__widget__icon-container\">\\r\\n            <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/#:icon#\" class=\"support-tools__widget__icon\" />\\r\\n        </div>\\r\\n        <div class=\"support-tools__widget__main\">\\r\\n            <div class=\"support-tools__widget__selected-item\">\\r\\n                <div class=\"support-tools__widget__selected-item__title\" data-bind=\"text: widget.#:type#[#:i#].DisplayName\">\\r\\n                </div>\\r\\n                <div class=\"support-tools__widget__selected-item__details\">\\r\\n                    #: title #\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\"support-tools__widget__action\" data-bind=\"click: widget.removeItem, value: widget.#:type#[#:i#]\">\\r\\n                <a class=\"support-tools__widget__action__link\">\\r\\n                    <div class=\"support-tools__widget__action-icon\">\\r\\n                    </div>\\r\\n                </a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    # } #\\r\\n</script>\\r\\n\\r\\n<script id=\"dataTemplate\" type=\"text/x-kendo-template\">\\r\\n    <div class=\"support-tools__widget support-tools__widget--item-selected support-tools__widget--user-selected\" id=\"#:type#dataTemplate\" data-bind=\"click: widget.clickContainer, value: widget.#:type#\">\\r\\n        <div class=\"support-tools__widget__icon-container\">\\r\\n            <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/#:icon#\" class=\"support-tools__widget__icon\" />\\r\\n        </div>\\r\\n        <div class=\"support-tools__widget__main\">\\r\\n            <div class=\"support-tools__widget__selected-item\">\\r\\n                <div class=\"support-tools__widget__selected-item__title\" data-bind=\"text: widget.#:type#.DisplayName\">\\r\\n                </div>\\r\\n                <div class=\"support-tools__widget__selected-item__details\">\\r\\n                    #: title #\\r\\n                </div>\\r\\n                <div class=\"support-tools__widget__selected-item__email\" data-bind=\"visible: widget.#:type#.Email\">\\r\\n                    <a data-bind=\"click: widget.openSendEmail, value: widget.#:type#\">\\r\\n                        <span data-bind=\"text: widget.#:type#.Email\"></span>\\r\\n                    </a>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\"support-tools__widget__action\" data-bind=\"click: widget.removeItem, value: widget.#:type#\">\\r\\n                <a class=\"support-tools__widget__action__link\">\\r\\n                    <div class=\"support-tools__widget__action-icon\">\\r\\n                    </div>\\r\\n                </a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</script>\\r\\n\\r\\n<script id=\"addTemplate\" type=\"text/x-kendo-template\">\\r\\n    <div class=\"support-tools__widget\">\\r\\n        <div class=\"support-tools__widget__icon-container\">\\r\\n            <img alt=\"\" src=\"../../../../Content/Images/Icons/RemoteManage/#:icon#\" class=\"support-tools__widget__icon\" />\\r\\n        </div>\\r\\n        <div class=\"support-tools__widget__main support-tools__widget__input\">\\r\\n            <div class=\"support-tools__widget__input__form\">\\r\\n                <span class=\"fa fa-search support-tools__widget__input__form__icon\" data-bind=\"click: widget.openCombobox, value: widget.#:type#.widgetType\"></span>\\r\\n                <input id=\"#:type#Combobox1\" class=\"support-tools__widget__input__form__input\" />\\r\\n                <div id=\"#:type#Container\" class=\"support-tools__widget__input__form__dropdown\"></div>\\r\\n            </div>\\r\\n            <div class=\"support-tools__widget__action\" data-bind=\"click: widget.removeUserCombobox, value: widget.#:type#.widgetType\">\\r\\n                <a class=\"support-tools__widget__action__link\">\\r\\n                    <div class=\"support-tools__widget__action-icon\">\\r\\n                    </div>\\r\\n                </a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</script>\\r\\n\\r\\n<script id=\"comboboxusertemplate\" type=\"text/x-kendo-template\">\\r\\n    <div class=\"multi-query__list__selected-items multi-query__list__selected-items--no-border\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-sm-12\">\\r\\n                <div class=\"multi-query__list__selected-items__name\">#: Name #</div>\\r\\n                <div class=\"multi-query__list__selected-items__details\">#: (Email) ? Email : \"\" #</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</script>\\r\\n<script id=\"comboboxdevicetemplate\" type=\"text/x-kendo-template\">\\r\\n    <div class=\"multi-query__list__selected-items multi-query__list__selected-items--no-border\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-sm-12\">\\r\\n                <div class=\"multi-query__list__selected-items__name\">#: DisplayName #</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</script>\\r\\n<script id=\"comboboxuserdevicetemplate\" type=\"text/x-kendo-template\">\\r\\n    <div class=\"multi-query__list__selected-items multi-query__list__selected-items--no-border\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-sm-12\">\\r\\n                <div class=\"multi-query__list__selected-items__name\">#: Text #</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</script>\\r\\n<script id=\"comboboxprimarydevicetemplate\" type=\"text/x-kendo-template\">\\r\\n    <div class=\"multi-query__list__selected-items multi-query__list__selected-items--no-border\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-sm-12\">\\r\\n                <div class=\"multi-query__list__selected-items__name\">#: Name #</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</script>';});\n\n","var __remoteManageWidgetSingleton;\r\n\r\ndefine('forms/flyout/remoteManageWidget/controller',['require','text!forms/flyout/remoteManageWidget/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/flyout/remoteManageWidget/view.html\");\r\n    var definition = {\r\n        template: tpl,\r\n        getWidget: function (vm) {\r\n            //only build the template if the popup singleton does not exist.\r\n            var built = _.template(tpl);\r\n            var ele = $(built());\r\n\r\n            var main_row = $('.page_bar.sticky-header').first().children('.row').first();\r\n            main_row.after(ele);\r\n\r\n            var addUserContainer = $(\".addUserContainer\");\r\n            var addTemplate = kendo.template($(\"#addTemplate\").html());\r\n\r\n            var dataUserContainer = $(\".dataUserContainer\");\r\n            var dataTemplate = kendo.template($(\"#dataTemplate\").html());\r\n\r\n            var addDeviceContainer = $(\".addDeviceContainer\");\r\n\r\n            var dataDeviceContainer = $(\".dataDeviceContainer\");\r\n            var multipleDataTemplate = kendo.template($(\"#multipleDataTemplate\").html());\r\n\r\n            var deleteicon = '<?xml version=\"1.0\" encoding=\"utf-8\"?><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#403f40\"><path d=\"M12,2C6.47,2,2,6.47,2,12s4.47,10,10,10s10-4.47,10-10S17.53,2,12,2z M17,15.59L15.59,17L12,13.41L8.41,17L7,15.59 L10.59,12L7,8.41L8.41,7L12,10.59L15.59,7L17,8.41L13.41,12L17,15.59z\" fill=\"#403f40\"/></svg>';\r\n            var widgetActionIcon = $(\"<div class='support-tools__widget__action-icon'>\" + deleteicon + \"</div>\");\r\n\r\n            var createUserComboBox = function (type) {\r\n                initializePicker({\r\n                    element: $(\"#\" + type + \"Combobox1\"),\r\n                    eleContainer: $(\"#\" + type + \"Container\"),\r\n                    eleTemplate: $(\"#comboboxusertemplate\"),\r\n                    type: 'user',\r\n                    dataTextField: \"Name\"\r\n                });\r\n\r\n                var widget = $(\"#\" + type + \"Combobox1\").getKendoComboBox();\r\n                widget.input.focus();\r\n            }\r\n\r\n            var createUserDeviceComboBox = function (type) {\r\n                initializePicker({\r\n                    element: $(\"#\" + type + \"Combobox1\"),\r\n                    eleContainer: $(\"#\" + type + \"Container\"),\r\n                    eleTemplate: $(\"#comboboxuserdevicetemplate\"),\r\n                    type: 'userdevice',\r\n                    affectedUserId: vm.widget.affectedUser.BaseId,\r\n                    dataTextField: \"Text\"\r\n                });\r\n\r\n                var widget = $(\"#\" + type + \"Combobox1\").getKendoComboBox();\r\n                widget.input.focus();\r\n            }\r\n\r\n            var createPrimaryDeviceComboBox = function (type) {\r\n                initializePicker({\r\n                    element: $(\"#\" + type + \"Combobox1\"),\r\n                    eleContainer: $(\"#\" + type + \"Container\"),\r\n                    eleTemplate: $(\"#comboboxprimarydevicetemplate\"),\r\n                    type: 'primarydevice',\r\n                    dataTextField: \"Name\"\r\n                });\r\n\r\n                var widget = $(\"#\" + type + \"Combobox1\").getKendoComboBox();\r\n                widget.input.focus();\r\n            }\r\n\r\n            var createDeviceComboBox = function (type) {\r\n                initializePicker({\r\n                    element: $(\"#\" + type + \"Combobox1\"),\r\n                    eleContainer: $(\"#\" + type + \"Container\"),\r\n                    eleTemplate: $(\"#comboboxdevicetemplate\"),\r\n                    type: 'device',\r\n                    dataTextField: \"DisplayName\"\r\n                });\r\n\r\n                var widget = $(\"#\" + type + \"Combobox1\").getKendoComboBox();\r\n                widget.input.focus();\r\n            }\r\n\r\n            var affectedUserText = \"affectedUser\";\r\n            var assignedUserText = \"assignedUser\";\r\n            var primaryOwnerText = \"primaryOwner\";\r\n\r\n            var affectedDeviceText = \"affectedDevice\";\r\n            var primaryDeviceText = \"primaryDevice\";\r\n            var userDeviceText = \"userDevice\";\r\n            var relatedDeviceText = \"relatedDevice\";\r\n\r\n            var getObjectDetails = function (type) {\r\n                var details;\r\n                if (type === affectedUserText) {\r\n                    details = {\r\n                        type: type,\r\n                        title: localization.AffectedUserAppPage,\r\n                        icon: \"affected_user.svg\"\r\n                    }\r\n\r\n                } else if (type === assignedUserText) {\r\n                    details = {\r\n                        type: type,\r\n                        title: localization.AssignedUser,\r\n                        icon: \"assigned_user.svg\"\r\n                    }\r\n\r\n                } else if (type === primaryOwnerText) {\r\n                    details = {\r\n                        type: type,\r\n                        title: localization.PrimaryOwner,\r\n                        icon: \"primary_user.svg\"\r\n                    }\r\n                } else if (type === affectedDeviceText) {\r\n                    details = {\r\n                        type: type,\r\n                        title: localization.AffectedDeviceText,\r\n                        icon: \"affected_device.svg\"\r\n                    }\r\n                } else if (type === primaryDeviceText) {\r\n                    details = {\r\n                        type: type,\r\n                        title: \"Primary Device\",\r\n                        icon: \"primary_device.svg\"\r\n                    }\r\n                } else if (type === userDeviceText) {\r\n                    details = {\r\n                        type: type,\r\n                        title: \"User Device\",\r\n                        icon: \"user_device.svg\"\r\n                    }\r\n                } else if (type === relatedDeviceText) {\r\n                    details = {\r\n                        type: type,\r\n                        title: localization.RelatedDeviceText,\r\n                        icon: \"related_device.svg\"\r\n                    }\r\n                }\r\n\r\n                return details;\r\n            }\r\n\r\n            var filter = {};\r\n            var selected = { };\r\n            \r\n            var setSelected = function (key, picker) {\r\n\r\n                var tpl = $(picker).parents(\".support-tools__widget\").first();\r\n                tpl.remove();\r\n                \r\n                if (key.toLowerCase().indexOf(affectedUserText.toLowerCase()) > -1) {\r\n\r\n                    vm.widget[affectedUserText] = _.extend(selected[key] || {},\r\n                        {\r\n                            widgetType: affectedUserText,\r\n                            mailtoLink: (selected[key][\"Email\"]) ? \"mailto:\" + selected[key][\"Email\"] + \"?Subject=\" + \"[\" + vm.viewModel.Id + \"] \" + vm.viewModel.Title : \"\"\r\n                        });\r\n\r\n                    $(\"#\" + affectedUserText + \"AddLink\").addClass(\"isDisabled\");\r\n                    dataUserContainer.append(dataTemplate(getObjectDetails(affectedUserText)));\r\n\r\n                    vm.viewModel.set(\"RequestedWorkItem\", selected[key]);\r\n                    input = $(\"input[data-control-bind='RequestedWorkItem']\").data(\"kendoAutoComplete\");\r\n                    input.value(selected[key].DisplayName);\r\n\r\n                    vm.widget.mainWidgetAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                } else if (key.toLowerCase().indexOf(assignedUserText.toLowerCase()) > -1) {\r\n\r\n                    vm.widget[assignedUserText] = _.extend(selected[key] || {},\r\n                        {\r\n                            widgetType: assignedUserText,\r\n                            mailtoLink: (selected[key][\"Email\"]) ? \"mailto:\" +selected[key][\"Email\"]+ \"?Subject=\" + \"[\" +vm.viewModel.Id + \"] \" +vm.viewModel.Title: \"\"\r\n                        });\r\n\r\n                    $(\"#\" + assignedUserText + \"AddLink\").addClass(\"isDisabled\");\r\n                    dataUserContainer.append(dataTemplate(getObjectDetails(assignedUserText)));\r\n\r\n                    vm.viewModel.set(\"AssignedWorkItem\", selected[key]);\r\n                    input = $(\"input[data-control-bind='AssignedWorkItem']\").data(\"kendoAutoComplete\");\r\n                    input.value(selected[key].DisplayName);\r\n\r\n                    vm.widget.mainWidgetAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                } else if (key.toLowerCase().indexOf(primaryOwnerText.toLowerCase()) > -1) {\r\n\r\n                    vm.widget[primaryOwnerText] = _.extend(selected[key] || {},\r\n                        {\r\n                            widgetType: primaryOwnerText,\r\n                            mailtoLink: (selected[key][\"Email\"]) ? \"mailto:\" + selected[key][\"Email\"] + \"?Subject=\" + \"[\" + vm.viewModel.Id + \"] \" + vm.viewModel.Title : \"\"\r\n                        });\r\n\r\n                    $(\"#\" + primaryOwnerText + \"AddLink\").addClass(\"isDisabled\");\r\n                    dataUserContainer.append(dataTemplate(getObjectDetails(primaryOwnerText)));\r\n\r\n                    vm.viewModel.set(\"RelatesToIncident\", selected[key]);\r\n                    input = $(\"input[data-control-bind='RelatesToIncident']\").data(\"kendoAutoComplete\");\r\n                    input.value(selected[key].DisplayName);\r\n\r\n                    vm.widget.mainWidgetAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                } else if (key.toLowerCase().indexOf(affectedDeviceText.toLowerCase()) > -1) {\r\n\r\n                    if (selected[key] && !_.findWhere(vm.widget[affectedDeviceText + \"Arr\"], { BaseId: selected[key].Id })) {\r\n                        var item = _.extend(selected[key],\r\n                            {\r\n                                AssetStatus: \"\"\r\n                            });\r\n\r\n                        vm.viewModel.HasRelatedWorkItems.push(item);\r\n                    }\r\n\r\n                    vm.widget.mainWidgetDeviceAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                } else if (key.toLowerCase().indexOf(primaryDeviceText.toLowerCase()) > -1) {\r\n                    if (selected[key] && !_.findWhere(vm.widget[primaryDeviceText + \"Arr\"], { BaseId: selected[key].Id })) {\r\n                        var item = _.extend(selected[key],\r\n                            {\r\n                                AssetStatus: \"\"\r\n                            });\r\n\r\n                        vm.viewModel.HasRelatedWorkItems.push(item);\r\n                    }\r\n\r\n                    vm.widget.mainWidgetDeviceAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                } else if (key.toLowerCase().indexOf(userDeviceText.toLowerCase()) > -1) {\r\n                    if (selected[key] && !_.findWhere(vm.widget[affectedDeviceText + \"Arr\"], { BaseId: selected[key].Id })) {\r\n                        var item = _.extend(selected[key],\r\n                            {\r\n                                AssetStatus: \"\"\r\n                            });\r\n\r\n                        vm.viewModel.HasRelatedWorkItems.push(item);\r\n                    }\r\n\r\n                    vm.widget.mainWidgetDeviceAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                } else if (key.toLowerCase().indexOf(relatedDeviceText.toLowerCase()) > -1) {\r\n\r\n                    if (selected[key]&& !_.findWhere(vm.widget[relatedDeviceText + \"Arr\"], { BaseId: selected[key].Id })) {\r\n                        var item = _.extend(selected[key],\r\n                            {\r\n                                AssetStatus: \"\"\r\n                            });\r\n\r\n                        vm.viewModel.RelatesToConfigItem.push(item);\r\n                    }\r\n\r\n                    vm.widget.mainWidgetDeviceAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                }\r\n\r\n\r\n                selected[key] = null;\r\n                filter[key] = \"\";\r\n\r\n                if (vm.widget[affectedUserText].BaseId && vm.widget[assignedUserText].BaseId && vm.widget[primaryOwnerText].BaseId)\r\n                    $(\"#\" + primaryOwnerText + \"AddLink\").parents(\".support-tools__widget\").first().hide();\r\n\r\n                widgetActionIcon.replaceAll(\".support-tools__widget__action-icon\");\r\n                kendo.bind(ele, vm);\r\n            }\r\n\r\n            var initializePicker = function (config) {\r\n\r\n                var targetKey = config.element[0].id;\r\n\r\n                var ds;\r\n                if (config.type === \"user\") {\r\n                    ds = new kendo.data.DataSource({\r\n                        transport: {\r\n                            read: {\r\n                                url: \"/api/V3/User/GetUserList\",\r\n                                data: {\r\n                                    filterByAnalyst: false,\r\n                                    maxNumberOfResults: 1000,\r\n                                    userFilter: function() {\r\n                                        return (filter[targetKey]) ? filter[targetKey] : \"\";\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        serverFiltering: true\r\n                    });\r\n                }else if (config.type === \"device\") {\r\n                    ds = new kendo.data.DataSource({\r\n                        transport: {\r\n                            read: {\r\n                                url: \"/Search/GetSearchObjectsWithEnumObjectByClassId\",\r\n                                data: {\r\n                                    searchFilter: function() {\r\n                                        return (filter[targetKey]) ? filter[targetKey] : \"\";\r\n                                    },\r\n                                    classId: '7ad221e0-e4bb-39a8-6514-33b60bba46f5',\r\n                                    columnNames: 'DisplayName, Id'\r\n                                }\r\n                            }\r\n                        },\r\n                        serverFiltering: true,\r\n                        schema: {\r\n                            data: function(response) {\r\n                                return response.Data;\r\n                            }\r\n                        }\r\n                    });\r\n                } else if (config.type === \"primarydevice\") {\r\n                    ds = new kendo.data.DataSource({\r\n                        transport: {\r\n                            read: {\r\n                                url: session.consoleSetting.TrueControlCenterURL + \"/api/CmDevice\",\r\n                                data: {\r\n                                    search: function () {\r\n                                        return (filter[targetKey]) ? filter[targetKey] : \"\";\r\n                                    }\r\n                                },\r\n                                beforeSend: function (req) {\r\n                                    req.setRequestHeader('Authorization', 'Bearer ' + session.consoleSetting.TrueControlCenterAuthToken);\r\n                                }\r\n                            }\r\n                        },\r\n                        serverFiltering: true,\r\n                        schema: {\r\n                            data: function (response) {\r\n                                return response.value;\r\n                            }\r\n                        }\r\n                    });\r\n                } else {\r\n                    ds = new kendo.data.DataSource({\r\n                        transport: {\r\n                            read: {\r\n                                url: \"/ConfigItems/GetAffectedUserConfigItemsList\",\r\n                                data: {\r\n                                    affectedUserId: config.affectedUserId,\r\n                                    className: \"Microsoft.Windows.Computer\",\r\n                                    searchFilter: function () {\r\n                                        return (filter[targetKey]) ? filter[targetKey] : \"\";\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        serverFiltering: true\r\n                    });\r\n                }\r\n\r\n                var picker = config.element.kendoComboBox({\r\n                    dataSource: ds,\r\n                    template: kendo.template(config.eleTemplate.html()),\r\n                    placeholder: localization.Search,\r\n                    dataTextField: config.dataTextField,\r\n                    dataValueField: \"Id\",\r\n                    autoBind: false,\r\n                    filter: \"contains\",\r\n                    suggest: true,\r\n                    popup: {\r\n                        appendTo: config.eleContainer\r\n                    },\r\n                    filtering: function (e) {\r\n                        if (e.filter != undefined) {\r\n                            var key = e.sender.element[0].id;\r\n                            filter[key] = e.filter.value;\r\n                        }\r\n                    },\r\n                    select: function (e) {\r\n                        var key = e.sender.element[0].id;\r\n\r\n                        if (config.type === \"user\") {\r\n                            selected[key] = {\r\n                                DisplayName: e.dataItem.Name,\r\n                                BaseId: e.dataItem.Id,\r\n                                Email: e.dataItem.Email,\r\n                                Path: \"\"\r\n                            };\r\n                        } else if (config.type === \"device\") {\r\n                            selected[key] = e.dataItem;\r\n                        } else if (config.type === \"primarydevice\") {\r\n                            selected[key] = {\r\n                                DisplayName: e.dataItem.Name,\r\n                                BaseId: e.dataItem.Guid,\r\n                                Path: \"\"\r\n                            };\r\n                        } else {\r\n                            selected[key] = {\r\n                                DisplayName: e.dataItem.Text,\r\n                                BaseId: e.dataItem.Id,\r\n                                ClassName: e.dataItem.ClassName,\r\n                                Path: \"\"\r\n                            }\r\n                        }\r\n                        if ($(e.item[0]).hasClass('k-state-hover')) {\r\n                            setSelected(key, config.element);\r\n                        }\r\n                    }\r\n                }).data(\"kendoComboBox\");\r\n\r\n                picker.input.on(\"keydown\", function (e) {\r\n                    if (e.keyCode === 9 || e.keyCode === 13) {\r\n\r\n                        setSelected(targetKey, config.element);\r\n                    }\r\n                });\r\n            };\r\n\r\n            vm.widget = {\r\n                open: false,\r\n                mainWidgetAttr: 'support-tools__widget support-tools__widget--add-item',\r\n                mainWidgetDeviceAttr: 'support-tools__widget support-tools__widget--add-item',\r\n                addForm: function(e) {\r\n                    if ($(e.currentTarget).hasClass(\"isDisabled\")) return;\r\n\r\n                    var type = e.currentTarget.value;\r\n                    if (type === affectedUserText) {\r\n                        addUserContainer.append(addTemplate(getObjectDetails(type)));\r\n                        kendo.bind(addUserContainer);\r\n                        createUserComboBox(type);\r\n                        vm.widget.mainWidgetAttr =\r\n                            'support-tools__widget support-tools__widget--add-item support-tools__widget--hide';\r\n\r\n                    } else if (type === assignedUserText) {\r\n                        addUserContainer.append(addTemplate(getObjectDetails(type)));\r\n                        kendo.bind(addUserContainer);\r\n                        createUserComboBox(type);\r\n                        vm.widget.mainWidgetAttr =\r\n                            'support-tools__widget support-tools__widget--add-item support-tools__widget--hide';\r\n\r\n                    } else if (type === primaryOwnerText) {\r\n                        addUserContainer.append(addTemplate(getObjectDetails(type)));\r\n                        kendo.bind(addUserContainer);\r\n                        createUserComboBox(type);\r\n                        vm.widget.mainWidgetAttr =\r\n                            'support-tools__widget support-tools__widget--add-item support-tools__widget--hide';\r\n\r\n                    } else if (type === affectedDeviceText) {\r\n                        addDeviceContainer.append(addTemplate(getObjectDetails(type)));\r\n                        kendo.bind(addDeviceContainer);\r\n                        createDeviceComboBox(type);\r\n                        vm.widget.mainWidgetDeviceAttr =\r\n                            'support-tools__widget support-tools__widget--add-item support-tools__widget--hide';\r\n\r\n                    } else if (type === primaryDeviceText) {\r\n                        addDeviceContainer.append(addTemplate(getObjectDetails(type)));\r\n                        kendo.bind(addDeviceContainer);\r\n                        createPrimaryDeviceComboBox(type);\r\n                        vm.widget.mainWidgetDeviceAttr =\r\n                            'support-tools__widget support-tools__widget--add-item support-tools__widget--hide';\r\n\r\n                    } else if (type === userDeviceText) {\r\n                        addDeviceContainer.append(addTemplate(getObjectDetails(type)));\r\n                        kendo.bind(addDeviceContainer);\r\n                        createUserDeviceComboBox(type);\r\n                        vm.widget.mainWidgetDeviceAttr =\r\n                            'support-tools__widget support-tools__widget--add-item support-tools__widget--hide';\r\n\r\n                    } else if (type === relatedDeviceText) {\r\n                        addDeviceContainer.append(addTemplate(getObjectDetails(type)));\r\n                        kendo.bind(addDeviceContainer);\r\n                        createDeviceComboBox(type);\r\n                        vm.widget.mainWidgetDeviceAttr =\r\n                            'support-tools__widget support-tools__widget--add-item support-tools__widget--hide';\r\n\r\n                    }\r\n\r\n                    widgetActionIcon.replaceAll(\".support-tools__widget__action-icon\");\r\n\r\n                    kendo.bind(ele, vm);\r\n                },\r\n                affectedUser: _.extend(vm.viewModel.RequestedWorkItem || {},\r\n                    {\r\n                        widgetType: affectedUserText,\r\n                        mailtoLink: (vm.viewModel.RequestedWorkItem && vm.viewModel.RequestedWorkItem[\"Email\"]) ? \"mailto:\" +vm.viewModel.RequestedWorkItem[\"Email\"]+ \"?Subject=\" + \"[\" +vm.viewModel.Id + \"] \" +vm.viewModel.Title: \"\"\r\n                    }),\r\n                assignedUser: _.extend(vm.viewModel.AssignedWorkItem || {},\r\n                    {\r\n                        widgetType: assignedUserText,\r\n                        mailtoLink: (vm.viewModel.AssignedWorkItem && vm.viewModel.AssignedWorkItem[\"Email\"]) ? \"mailto:\" + vm.viewModel.AssignedWorkItem[\"Email\"] + \"?Subject=\" + \"[\" + vm.viewModel.Id + \"] \" + vm.viewModel.Title : \"\"\r\n                    }),\r\n                primaryOwner: _.extend(vm.viewModel.RelatesToIncident || {},\r\n                    {\r\n                        widgetType: primaryOwnerText,\r\n                        mailtoLink: (vm.viewModel.RelatesToIncident && vm.viewModel.RelatesToIncident[\"Email\"]) ? \"mailto:\" + vm.viewModel.RelatesToIncident[\"Email\"] + \"?Subject=\" + \"[\" + vm.viewModel.Id + \"] \" + vm.viewModel.Title : \"\"\r\n                    }),\r\n                affectedDevice: {\r\n                        widgetType: affectedDeviceText\r\n                    },\r\n                primaryDevice: {\r\n                        widgetType: primaryDeviceText\r\n                    },\r\n                userDevice: {\r\n                        widgetType: userDeviceText\r\n                    },\r\n                relatedDevice:  {\r\n                    widgetType: relatedDeviceText\r\n                },\r\n                relatedDeviceArr: _.filter(vm.viewModel.RelatesToConfigItem,\r\n                    function (el) {\r\n                        el = _.extend(el,\r\n                            {\r\n                                widgetType: relatedDeviceText\r\n                            });\r\n                        return el.ClassName === \"Microsoft.Windows.Computer\";\r\n                    }),\r\n                affectedDeviceArr: _.filter(vm.viewModel.HasRelatedWorkItems,\r\n                    function (el) {\r\n                        el = _.extend(el,\r\n                            {\r\n                                widgetType: affectedDeviceText\r\n                            });\r\n                        return el.ClassName === \"Microsoft.Windows.Computer\";\r\n                    }),\r\n                primaryDeviceArr: [],\r\n                clickContainer: function (e) {\r\n                    if (e.target.nodeName === \"DIV\" && e.target.className.indexOf(\"multi-query__list__selected-items\") === -1) {\r\n                        var value = e.currentTarget.value;\r\n                        if (value.BaseId) {\r\n                            var obj = { BaseId: value.BaseId, Name: value.DisplayName }\r\n                            var type = [affectedUserText, assignedUserText, primaryOwnerText].indexOf(value.widgetType) > -1 ? \"user\" : \"computer\";\r\n                            var src = app.slideOutNav.getTCCSourceURL(obj, type);\r\n                            var options = {\r\n                                url: src,\r\n                                tooltip: (type === \"user\") ? localization.UserManagement : localization.ComputerManagement\r\n                            }\r\n                            app.slideOutNav.show(options);\r\n                        }\r\n                    }\r\n                },\r\n                removeUserCombobox: function (e) {\r\n                    var widgetType = e.currentTarget.value;\r\n                    var tpl = $(e.currentTarget).parents(\".support-tools__widget\").first();\r\n                    tpl.remove();\r\n\r\n                    if ([affectedUserText, assignedUserText, primaryOwnerText].indexOf(widgetType) > -1)\r\n                        vm.widget.mainWidgetAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                    else\r\n                        vm.widget.mainWidgetDeviceAttr = 'support-tools__widget support-tools__widget--add-item';\r\n\r\n                    kendo.bind(ele, vm);\r\n                },\r\n                openCombobox: function (e) {\r\n                    var widgetType = e.currentTarget.value;\r\n                    var widget = $(\"#\" + widgetType + \"Combobox1\").getKendoComboBox();\r\n                    widget.open();\r\n                },\r\n                removeItem: function (e) {\r\n                    var widgetValue = e.currentTarget.value;\r\n                    var widgetType = widgetValue.widgetType;\r\n                    var propName;\r\n\r\n                    switch (widgetType) {\r\n                        case affectedUserText:\r\n                            propName = \"RequestedWorkItem\";\r\n                            vm.viewModel.set(propName,\r\n                                {\r\n                                    DisplayName: \"\",\r\n                                    BaseId: \"\"\r\n                                });\r\n                            $(\"#\" + affectedUserText + \"AddLink\").removeClass(\"isDisabled\");\r\n                            vm.widget.mainWidgetAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                            break;\r\n                        case assignedUserText:\r\n                            propName = \"AssignedWorkItem\";\r\n                            vm.viewModel.set(propName,\r\n                                {\r\n                                    DisplayName: \"\",\r\n                                    BaseId: \"\"\r\n                                });\r\n                            $(\"#\" + assignedUserText + \"AddLink\").removeClass(\"isDisabled\");\r\n                            vm.widget.mainWidgetAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                            break;\r\n                        case primaryOwnerText:\r\n                            propName = \"RelatesToIncident\";\r\n                            vm.viewModel.set(propName,\r\n                                {\r\n                                    DisplayName: \"\",\r\n                                    BaseId: \"\"\r\n                                });\r\n                            $(\"#\" + primaryOwnerText + \"AddLink\").removeClass(\"isDisabled\");\r\n                            vm.widget.mainWidgetAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                            break;\r\n                        case affectedDeviceText:\r\n                            var arr = _.map(vm.viewModel.HasRelatedWorkItems,\r\n                                function (el) {\r\n                                    return el.BaseId;\r\n                                });\r\n\r\n                            var i = _.indexOf(arr, widgetValue.BaseId);\r\n\r\n                            vm.viewModel.HasRelatedWorkItems.splice(i, 1);\r\n\r\n                            vm.widget[affectedDeviceText + \"Arr\"] = _.filter(vm.widget[affectedDeviceText + \"Arr\"],\r\n                                function (el) {\r\n                                    return el.BaseId !== widgetValue.BaseId;\r\n                                });\r\n\r\n                            vm.widget.mainWidgetDeviceAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                            break;\r\n                        case primaryDeviceText:\r\n                            var arr = _.map(vm.viewModel.HasRelatedWorkItems,\r\n                                function (el) {\r\n                                    return el.BaseId;\r\n                                });\r\n\r\n                            var i = _.indexOf(arr, widgetValue.BaseId);\r\n\r\n                            vm.viewModel.HasRelatedWorkItems.splice(i, 1);\r\n\r\n                            vm.widget[primaryDeviceText + \"Arr\"] = _.filter(vm.widget[primaryDeviceText + \"Arr\"],\r\n                                function (el) {\r\n                                    return el.BaseId !== widgetValue.BaseId;\r\n                                });\r\n\r\n                            vm.widget.mainWidgetDeviceAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                            break;\r\n                        case userDeviceText:\r\n                            var arr = _.map(vm.viewModel.HasRelatedWorkItems,\r\n                                function (el) {\r\n                                    return el.BaseId;\r\n                                });\r\n\r\n                            var i = _.indexOf(arr, widgetValue.BaseId);\r\n\r\n                            vm.viewModel.HasRelatedWorkItems.splice(i, 1);\r\n\r\n                            vm.widget[affectedDeviceText + \"Arr\"] = _.filter(vm.widget[affectedDeviceText + \"Arr\"],\r\n                                function (el) {\r\n                                    return el.BaseId !== widgetValue.BaseId;\r\n                                });\r\n\r\n                            vm.widget.mainWidgetDeviceAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                            break;\r\n                        case relatedDeviceText:\r\n\r\n                            var arr = _.map(vm.viewModel.RelatesToConfigItem,\r\n                                function (el) {\r\n                                    return el.BaseId;\r\n                                });\r\n\r\n                            var i = _.indexOf(arr, widgetValue.BaseId);\r\n\r\n                            vm.viewModel.RelatesToConfigItem.splice(i, 1);\r\n\r\n                            vm.widget[relatedDeviceText + \"Arr\"] = _.filter(vm.widget[relatedDeviceText + \"Arr\"],\r\n                                function(el) {\r\n                                    return el.BaseId !== widgetValue.BaseId;\r\n                                });\r\n\r\n                            vm.widget.mainWidgetDeviceAttr = 'support-tools__widget support-tools__widget--add-item';\r\n                            break;\r\n                    }\r\n\r\n                    if (propName && propName.length > 0) {\r\n                        var input = $(\"input[data-control-bind='\" + propName + \"']\");\r\n                        input.data(\"kendoAutoComplete\").value(\"\");\r\n                        var liParent = input.parent().children(\".menu-usr-mgt\");\r\n                        $(liParent).hide();\r\n                    }\r\n\r\n                    var tpl = $(e.currentTarget).parents(\".support-tools__widget\").first();\r\n                    tpl.remove();\r\n\r\n                    if (typeof (vm.widget[affectedUserText].BaseId && vm.widget[assignedUserText].BaseId && vm.widget[primaryOwnerText].BaseId) !== \"undefined\")\r\n                        $(\"#\" + primaryOwnerText + \"AddLink\").parents(\".support-tools__widget\").first().show();\r\n\r\n                    kendo.bind(ele, vm);\r\n                },\r\n                remoteManageRecepient: null,\r\n                openSendEmail: function (e) {\r\n                    var widgetValue = e.currentTarget.value;\r\n                    vm.widget.remoteManageRecepient = widgetValue;\r\n                    $('li.link[data-bind=\"click: sendEmail\"]').click();\r\n                }\r\n            }\r\n\r\n            if (vm.widget.affectedUser.BaseId) {\r\n                $(\"#\" + affectedUserText + \"AddLink\").addClass(\"isDisabled\");\r\n                dataUserContainer.append(dataTemplate(getObjectDetails(affectedUserText)));\r\n            }\r\n\r\n            if (vm.widget.assignedUser.BaseId) {\r\n                $(\"#\" + assignedUserText + \"AddLink\").addClass(\"isDisabled\");\r\n                dataUserContainer.append(dataTemplate(getObjectDetails(assignedUserText)));\r\n            }\r\n\r\n            if (vm.widget.primaryOwner.BaseId) {\r\n                $(\"#\" + primaryOwnerText + \"AddLink\").addClass(\"isDisabled\");\r\n                dataUserContainer.append(dataTemplate(getObjectDetails(primaryOwnerText)));\r\n            }\r\n\r\n            if (vm.widget.relatedDeviceArr.length > 0) {\r\n\r\n                var relatedDeviceObj = {\r\n                    devices: vm.widget[relatedDeviceText + \"Arr\"],\r\n                    type: relatedDeviceText + \"Arr\",\r\n                    title: localization.RelatedDeviceText,\r\n                    icon: \"related_device.svg\"\r\n                }\r\n                dataDeviceContainer.append(multipleDataTemplate(relatedDeviceObj));\r\n                kendo.bind(dataDeviceContainer);\r\n            }\r\n\r\n            if (vm.widget.affectedDeviceArr.length > 0) {\r\n\r\n                var affectedDeviceObj = {\r\n                    devices: vm.widget[affectedDeviceText + \"Arr\"],\r\n                    type: affectedDeviceText + \"Arr\",\r\n                    title: localization.AffectedDeviceText,\r\n                    icon: \"affected_device.svg\"\r\n                }\r\n                dataDeviceContainer.append(multipleDataTemplate(affectedDeviceObj));\r\n                kendo.bind(dataDeviceContainer);\r\n            }\r\n\r\n            if (!vm.viewModel.hasOwnProperty('RelatesToIncident'))\r\n                $(\"#\" + primaryOwnerText + \"AddLink\").addClass(\"isDisabled\");\r\n\r\n            if (!vm.viewModel.hasOwnProperty('RequestedWorkItem')) \r\n                $(\"#\" + affectedUserText + \"AddLink\").addClass(\"isDisabled\");\r\n\r\n            widgetActionIcon.replaceAll(\".support-tools__widget__action-icon\");\r\n\r\n            var changeCntr = 0;\r\n            vm.bind(\"change\",\r\n                function (e) {\r\n\r\n                    if (e.field.indexOf(\"RequestedWorkItem\") > -1 || e.field.indexOf(\"RelatesToIncident\") > -1 || e.field.indexOf(\"AssignedWorkItem\") > -1) {\r\n\r\n                        var propName, widgetName;\r\n\r\n                        if (e.field.indexOf(\"RequestedWorkItem\") > -1) {\r\n                            propName = \"RequestedWorkItem\";\r\n                            widgetName = affectedUserText;\r\n                        }\r\n\r\n                        if (e.field.indexOf(\"RelatesToIncident\") > -1) {\r\n                            propName = \"RelatesToIncident\";\r\n                            widgetName = primaryOwnerText;\r\n                        }\r\n\r\n                        if (e.field.indexOf(\"AssignedWorkItem\") > -1) {\r\n                            propName = \"AssignedWorkItem\";\r\n                            widgetName = assignedUserText;\r\n                        }\r\n\r\n                        if (e.field.indexOf(\"BaseId\") > -1) changeCntr++;\r\n                        if (e.field.indexOf(\"DisplayName\") > -1) changeCntr++;\r\n\r\n                        if (changeCntr === 2) {\r\n\r\n                            if (vm.viewModel[propName].BaseId) {\r\n\r\n                                $.getJSON('/api/V3/User/GetUserRelatedInfoByUserId',\r\n                                    { userId: vm.viewModel[propName].BaseId },\r\n                                    function(json) {\r\n\r\n                                        vm.widget[widgetName] = _.extend(JSON.parse(json) || {},\r\n                                            {\r\n                                                widgetType: widgetName\r\n                                            });\r\n\r\n                                        $('#' + widgetName + 'dataTemplate').remove();\r\n                                        changeCntr = 0;\r\n\r\n                                        $(\"#\" + widgetName + \"AddLink\").addClass(\"isDisabled\");\r\n                                        dataUserContainer.append(dataTemplate(getObjectDetails(widgetName)));\r\n\r\n                                        kendo.bind(dataUserContainer, vm);\r\n\r\n                                        widgetActionIcon.replaceAll(\".support-tools__widget__action-icon\");\r\n\r\n                                    });\r\n\r\n                            } else {\r\n\r\n                                $('#' + widgetName + 'dataTemplate').remove();\r\n                                $(\"#\" + widgetName + \"AddLink\").removeClass(\"isDisabled\");\r\n                                changeCntr = 0;\r\n\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (e.field.indexOf(\"RelatesToConfigItem\") > -1 || e.field.indexOf(\"HasRelatedWorkItems\") > -1) {\r\n                        var propName, widgetName;\r\n\r\n                        if(e.field.indexOf(\"RelatesToConfigItem\") > -1) {\r\n                            propName = \"RelatesToConfigItem\";\r\n                            widgetName = relatedDeviceText;\r\n                        }\r\n\r\n                        if(e.field.indexOf(\"HasRelatedWorkItems\") > -1) {\r\n                            propName = \"HasRelatedWorkItems\";\r\n                            widgetName = affectedDeviceText;\r\n                        }\r\n\r\n                        var item = e.items[0];\r\n\r\n                        if (item.ClassName && (item.ClassName === \"Microsoft.Windows.Computer\" || item.ClassName === \"Computer\")) {\r\n\r\n                            if (e.action === \"add\") {\r\n\r\n                                item = _.extend(item,\r\n                                    {\r\n                                        widgetType: widgetName\r\n                                    });\r\n\r\n                                vm.widget[widgetName + \"Arr\"].push(item);\r\n                            }\r\n\r\n                            if (e.action === \"remove\") {\r\n\r\n                                vm.widget[widgetName + \"Arr\"] = _.filter(vm.widget[widgetName + \"Arr\"],\r\n                                    function(el) {\r\n                                        return el.BaseId !== item.BaseId;\r\n                                    });\r\n                            }\r\n\r\n                            $('.' + widgetName + 'ArrdataTemplate').remove();\r\n\r\n                            var obj = {\r\n                                devices: vm.widget[widgetName + \"Arr\"],\r\n                                type: widgetName + \"Arr\",\r\n                                title: (e.field.indexOf(\"RelatesToConfigItem\") > -1)\r\n                                    ? localization.RelatedDeviceText\r\n                                    : localization.AffectedDeviceText,\r\n                                icon: (e.field.indexOf(\"RelatesToConfigItem\") > -1)\r\n                                    ? \"related_device.svg\"\r\n                                    : \"affected_device.svg\"\r\n                            }\r\n                            dataDeviceContainer.append(multipleDataTemplate(obj));\r\n                            kendo.bind(dataDeviceContainer, vm);\r\n\r\n                            widgetActionIcon.replaceAll(\".support-tools__widget__action-icon\");\r\n                        }\r\n                    }\r\n\r\n                });\r\n\r\n            kendo.bind(ele, vm);\r\n\r\n            return __remoteManageWidgetSingleton;\r\n        },\r\n        toggle: function (vm) {\r\n            vm.widget.open = !vm.widget.open;\r\n\r\n            if (vm.widget.open) {\r\n                if (vm.attachmentWidget) vm.attachmentWidget.open = false;\r\n                $(\"#headerAttachmentBtn\").removeClass('btn-icon-stack--active');\r\n                $(\"#attachment_widget\").removeClass('content-header__flyout--open');\r\n                $(\"#expanded_widget\").addClass('content-header__flyout--open');\r\n                $(\"#content-header-backdrop\").addClass('content-header__flyout__overlay--open');\r\n            } else {\r\n                $(\"#remoteManageBtn\").removeClass('btn-icon-stack--active');\r\n                $(\"#expanded_widget\").removeClass('content-header__flyout--open');\r\n                $(\"#content-header-backdrop\").removeClass('content-header__flyout__overlay--open');\r\n            }\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/flyout/headerAttachmentWidget/view.html',[],function () { return '<div id=\"attachment_widget\" class=\"content-header__flyout\">\\r\\n    <h3 class=\"content-header__flyout__title\">\\r\\n        <span><%= localization.FileAttachments %></span>\\r\\n    </h3>\\r\\n    <div id=\"headerAttachmentContainer\" class=\"panel-body\"></div>\\r\\n</div>';});\n\n","\ndefine('text!forms/predefined/fileAttachmentsDragDrop/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <div class=\"drop-zone-element\">\\r\\n        <div class=\"text-wrapper\">\\r\\n            <span class=\"drag-image-text\">\\r\\n                <img data-bind=\"visible:isDesktop\" src=\"/Content/Images/Icons/FileUpload/upload_to_cloud.svg\" />\\r\\n                <span data-bind=\"visible:isDesktop\"><b><%= localization.DragAndDrop %> </b> <%= localization.YourFilesOr %> <a class=\"browse-file\"><b><%= localization.Browse %></b></a></span>\\r\\n                <a  data-bind=\"visible:isMobile\" class=\"browse-file\"><b><%= localization.Browse %></b></a>\\r\\n                <div style=\"display:none\"><input name=\"files\" id=\"files\" type=\"file\"/></div>\\r\\n            </span>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div>\\r\\n    <div class=\"fileattachment-list\"></div>\\r\\n    <div class=\"fileattachment-img-modal\"></div>\\r\\n</div>\\r\\n\\r\\n<script type=\"text/x-kendo-template\" id=\"fileTemplate\">\\r\\n    <div class=\"thumbnail-file\">\\r\\n        <div class=\"cursor-pointer thumbnail-img\">\\r\\n            # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n            <img src=\"data:image/png;base64,#= Content.data #\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\';\" alt=\"#: DisplayName # image\" />\\r\\n            # } else{ #\\r\\n            <img class=\"default-icon\" src=\"/Content/Images/Icons/FileUpload/document.svg\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\'\">\\r\\n            # } #\\r\\n        </div>\\r\\n        <div class=\"thumbnail-caption\">\\r\\n            <span>#: DisplayName #</span>\\r\\n            <div class=\"overlay\">\\r\\n                # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                <span class=\"label\">\\r\\n                    <a class=\"icon custom-click view\" view-image title=\"View Image\">\\r\\n                        <i class=\"fa fa-eye\"></i>\\r\\n                    </a>\\r\\n                </span>\\r\\n                <span class=\"label\">\\r\\n                    <a class=\"icon custom-click opennewtab\" title=\"Open in New Tab\">\\r\\n                        <i class=\"fa fa-external-link\"></i>\\r\\n                    </a>\\r\\n                </span>\\r\\n                # } #\\r\\n                # if (BaseId!=null) { #\\r\\n                <span class=\"label\">\\r\\n                    <a class=\"icon custom-click download\" title=\"Download\">\\r\\n                        <i class=\"fa fa-download\"></i>\\r\\n                    </a>\\r\\n                </span>\\r\\n                # } #\\r\\n                <span class=\"label\">\\r\\n                    <a class=\"k-delete-button icon\" href=\"\\\\\\\\#\"  title=\"<%= localization.Remove %>\"><i class=\"fa fa-trash\"></i></a>\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</script>\\r\\n<style>\\r\\n\\r\\n</style>';});\n\n","/**\r\nfileAttachmentsDragDrop\r\n**/\r\n\r\ndefine('forms/predefined/fileAttachmentsDragDrop/controller',['require','text!forms/predefined/fileAttachmentsDragDrop/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/fileAttachmentsDragDrop/view.html\");\r\n   \r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n            //get file content for images\r\n            if (!_.isUndefined(vm.FileAttachment) && vm.FileAttachment.length > 0) {\r\n                _.each(vm.FileAttachment, function (file) {\r\n                    if (file.DisplayName.toLowerCase().match(/\\.(jpg|jpeg|png|gif)$/)) {\r\n                        $.ajax({\r\n                            type: \"GET\",\r\n                            async: false,\r\n                            url: \"/FileAttachment/GetFileContent/\",\r\n                            data: { id: file.BaseId }\r\n                        }).then(function (data) {\r\n                            file.Content.data = data;\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n\r\n            var properties = {\r\n                Required: node.Required,\r\n                BaseId: vm.BaseId,\r\n                AcceptExtension: _.isUndefined(node.AcceptExtension) ? \"\" : vm.AcceptExtension,\r\n                ClassName: vm.Clas\r\n            };\r\n            $.extend(true, properties, node);\r\n\r\n            var template = $(built(properties));\r\n\r\n            var viewModel = new kendo.observable({\r\n                isDesktop: !app.isMobile(),\r\n                isMobile: app.isMobile(),\r\n                isEnabled: true,\r\n                isVisible: true,\r\n                onSelect: function (e) {\r\n                    template.find(\".k-file-error\").remove();\r\n                    $.each(e.files, function (index, value) {\r\n                        if (!_.isUndefined(node.AcceptExtension)\r\n                            && node.AcceptExtension != \"\"\r\n                            && !(node.AcceptExtension.toLowerCase().indexOf(value.extension.toLowerCase()) > -1)) {\r\n                            kendo.ui.ExtAlertDialog.show({\r\n                                title: localization.ErrorDescription,\r\n                                message: localization.FileExtensionInvalid + node.AcceptExtension,\r\n                                icon: \"fa fa-exclamation\"\r\n                            });\r\n                            e.preventDefault();\r\n                        }\r\n                    });\r\n                },\r\n                onUploadSuccess: function (e) {\r\n                    var vmFiles = !_.isUndefined(vm.FileAttachment) ? vm.FileAttachment : [];\r\n                    var response = e.response;\r\n\r\n                    if (e.operation == \"upload\") {\r\n                        for (var i = 0; i < e.files.length; i++) {\r\n                            var file = e.files[i].rawFile;\r\n                            if (file) {\r\n                                if (!_.isUndefined(response.FileAttachment)) {\r\n                                    var f = _.filter(vm.FileAttachment,\r\n                                        function(el) {\r\n                                            return el.Content.data === response.FileAttachment.Content.data && el.BaseId === response.FileAttachment.BaseId;\r\n                                        });\r\n                                    if(f.length === 0)\r\n                                        vm.FileAttachment.push(response.FileAttachment); //save to viewModel\r\n                                } else if (!_.isUndefined(response.success) && response.success == false) {\r\n                                    kendo.ui.ExtAlertDialog.show({\r\n                                        title: localization.ErrorDescription,\r\n                                        message: response.message,\r\n                                        icon: \"fa fa-exclamation\"\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                onUploadError: function (e) {\r\n                    var err = $.parseJSON(e.XMLHttpRequest.responseText);\r\n                    $.map(e.files, function (file) {\r\n                        console.warn(\"Could not upload \" + file.name);\r\n                    });\r\n                },\r\n                onRemove: function (e) {\r\n                    $.get(\"/FileAttachment/RemoveFileUpload/\", { BaseId: vm.BaseId, fieldName: node.PropertyName }, function (data) {\r\n                        template.find(\".k-file\").parent().remove();\r\n                        //template.find(\"img\").hide();\r\n                        template.find(\"#div\" + node.PropertyName).hide();\r\n                        vm[node.PropertyName] = null;\r\n                    });\r\n                },\r\n                onOpenFile: function (el) {\r\n\r\n                    if (el.hasClass(\"opennewtab\")) {\r\n                        var win = window.open('about:blank');\r\n                        setTimeout(function () { //FireFox seems to require a setTimeout for this to work.\r\n                            win.document.body.appendChild(win.document.createElement('img')).src = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\r\n                            win.href = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\r\n                            win.focus();\r\n                        }, 0);\r\n\r\n                    }\r\n                    else {\r\n                        var dialog = $('.fileattachment-img-modal');\r\n                        var downloadUrl = app.config.rootURL + \"FileAttachment/ViewFile/\";\r\n                        var listView = template.find(\".fileattachment-list\").data(\"kendoListView\");\r\n                        var item = el.closest(\"[role='option']\");\r\n                        var dataItem = listView.dataSource.getByUid(item.data(\"uid\"));\r\n                        \r\n                        \r\n                        if (dataItem.DisplayName.toLowerCase().match(/\\.(jpg|jpeg|png|gif)$/) && !el.hasClass(\"download\")) {\r\n                            dialog.kendoDialog({\r\n                                modal: true,\r\n                                title: dataItem.DisplayName,\r\n                                content: \"<div class='file-img-container'><img src=\\\"data:image/png;base64,\" + dataItem.Content.data + \"\\\" onerror=\\\"this.onerror = null; this.src = '/Content/Images/Icons/FileUpload/document.svg';\\\" alt=\\\"\" + dataItem.DisplayName + \"\\\" /></div>\",\r\n                                animation: {\r\n                                    open: {\r\n                                        effects: \"fade:in\"\r\n                                    }\r\n                                }\r\n                            });\r\n                            $('.k-window.k-widget').addClass('acivity-popup-window');\r\n                            dialog.data(\"kendoDialog\").open();\r\n                            dialog.parent().css(\"position\", \"fixed\");\r\n\r\n                            //close preview window on overlay click\r\n                            $('.k-overlay').on(\"click\", function () {\r\n                                dialog.data(\"kendoDialog\").close();\r\n                            });\r\n\r\n                        } else {\r\n                            if (dataItem.Content.data && !dataItem.DisplayName.toLowerCase().match(/\\.(jpg|jpeg|png|gif)$/)) {\r\n                                var blob = new Blob([dataItem.Content.data]);\r\n                                var url = window.URL.createObjectURL(blob);\r\n                                var fileName = dataItem.DisplayName;\r\n\r\n                                if (navigator.msSaveOrOpenBlob) {\r\n                                    navigator.msSaveOrOpenBlob(blob, fileName);\r\n                                    return;\r\n                                } else if (window.navigator.msSaveBlob) { // for IE browser\r\n                                    window.navigator.msSaveBlob(blob, fileName);\r\n                                    return;\r\n                                }\r\n\r\n                                var a = document.createElement(\"a\");\r\n                                document.body.appendChild(a);\r\n                                a.style = \"display: none\";\r\n\r\n                                a.href = url;\r\n                                a.download = fileName;\r\n                                a.click();\r\n                                window.URL.revokeObjectURL(url);\r\n                                document.body.removeChild(a);\r\n                            } else if (dataItem.BaseId) {\r\n                                if (dataItem.BaseId != null) {\r\n                                    location.href = downloadUrl + dataItem.BaseId;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            _.defer(function () {\r\n                kendo.bind(template, viewModel);\r\n                template.find(\".fileattachment-list\").kendoListView({\r\n                    dataSource: vm.FileAttachment,\r\n                    template: kendo.template($(\"#fileTemplate\").html()),\r\n                    selectable: \"single\",\r\n                    //change: viewModel.onOpenFile,\r\n                    dataBound: function () {\r\n                        template.find(\".custom-click\").on(\"click\", function () {\r\n                            viewModel.onOpenFile($(this));\r\n                        });\r\n\r\n                        if (!app.isMobile()) {\r\n                            //Remove view image icon if not in mobile.\r\n                            template.find(\"a[view-image]\").parent().hide();\r\n\r\n                            template.find(\".thumbnail-img img\").on(\"click\", function () {\r\n                                viewModel.onOpenFile($(this));\r\n                            });\r\n                        }\r\n                        \r\n                    }\r\n                });\r\n\r\n                $(\"#files\").kendoUpload({\r\n                    async: {\r\n                        saveUrl: \"/FileAttachment/UploadAttachment/\" + vm.BaseId + \"?className=\" + vm.ClassName,\r\n                        removeUrl: \"remove\",\r\n                        autoUpload: true\r\n                    },\r\n                    success:  viewModel.onUploadSuccess,\r\n                    error: viewModel.onUploadError,\r\n                    showFileList: false,\r\n                    dropZone: \".drop-zone-element\"\r\n                });\r\n\r\n                $(\".browse-file\").off('click').on('click', function () {\r\n                    $(\"#files\").trigger(\"click\");\r\n                });\r\n\r\n               \r\n            });\r\n            callback(template);\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","var __headerAttachmentWidgetSingleton;\r\n\r\ndefine('forms/flyout/headerAttachmentWidget/controller',['require','text!forms/flyout/headerAttachmentWidget/view.html','text!forms/predefined/fileAttachmentsDragDrop/view.html','forms/predefined/fileAttachmentsDragDrop/controller'],function (require) {\r\n    var tpl = require(\"text!forms/flyout/headerAttachmentWidget/view.html\");\r\n    var attachmentTpl = require(\"text!forms/predefined/fileAttachmentsDragDrop/view.html\");\r\n    var fileAttachmentsDragDrop = require(\"forms/predefined/fileAttachmentsDragDrop/controller\");\r\n    var definition = {\r\n        template: tpl,\r\n        getWidget: function (vm) {\r\n            //only build the template if the popup singleton does not exist.\r\n            var built = _.template(tpl);\r\n            var ele = $(built());\r\n\r\n            var main_row = $('.page_bar.sticky-header').first().children('.row').first();\r\n            main_row.after(ele);\r\n\r\n            var getContainer = function (tplReturn) {\r\n                return (typeof (tplReturn) === \"string\") ? $(tplReturn) : tplReturn;\r\n            }\r\n\r\n            var headerAttachmentContainer = $('#headerAttachmentContainer');\r\n            //headerAttachmentContainer.append(eleAttachment);\r\n\r\n            fileAttachmentsDragDrop.build(vm.viewModel, { name: \"File Attachments\", type: \"fileAttachmentsDragDrop\" }, function (tplReturn) {\r\n                var _container = getContainer(tplReturn);\r\n                headerAttachmentContainer.append(_container);\r\n            });\r\n\r\n            vm.attachmentWidget = {\r\n                open: false\r\n            }\r\n\r\n            kendo.bind(ele, vm);\r\n\r\n            return __headerAttachmentWidgetSingleton;\r\n        },\r\n        toggle: function (vm) {\r\n            vm.attachmentWidget.open = !vm.attachmentWidget.open;\r\n\r\n            if (vm.attachmentWidget.open) {\r\n                if (vm.widget) vm.widget.open = false;\r\n                $(\"#remoteManageBtn\").removeClass('btn-icon-stack--active');\r\n                $(\"#expanded_widget\").removeClass('content-header__flyout--open');\r\n                $(\"#attachment_widget\").addClass('content-header__flyout--open');\r\n                $(\"#content-header-backdrop\").addClass('content-header__flyout__overlay--open');\r\n            } else {\r\n                $(\"#headerAttachmentBtn\").removeClass('btn-icon-stack--active');\r\n                $(\"#attachment_widget\").removeClass('content-header__flyout--open');\r\n                $(\"#content-header-backdrop\").removeClass('content-header__flyout__overlay--open');\r\n            }\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","/**\r\nHeader Sticky\r\n**/\r\ndefine('forms/header/sticky/controller',['require','text!forms/header/sticky/view.html','forms/flyout/fileAttachmentsFlyout/controller','forms/flyout/remoteManageWidget/controller','forms/flyout/headerAttachmentWidget/controller'],function (require) {\r\n    var tpl = require(\"text!forms/header/sticky/view.html\");\r\n    var attachmentPickerFlyout = require(\"forms/flyout/fileAttachmentsFlyout/controller\");\r\n    var remoteManageWidget = require(\"forms/flyout/remoteManageWidget/controller\");\r\n    var headerAttachmentWidget = require(\"forms/flyout/headerAttachmentWidget/controller\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            //add FileAttachment on viewModel if not found\r\n            if (_.isUndefined(vm.viewModel.FileAttachment)) {\r\n                vm.viewModel.set(\"FileAttachment\", []);\r\n            }\r\n\r\n            //modify vm for this view\r\n            //vm.view.viewAttachments = function () {\r\n\r\n            //    var flyoutWindow = attachmentPickerFlyout.getPopup(vm);\r\n            //    flyoutWindow.open();\r\n            //}\r\n\r\n            //vm.view.filesCount = vm.viewModel.FileAttachment.length;\r\n\r\n            vm.view.statusVisible = function () {\r\n                if (vm.newWI) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            vm.view.showRemoteManageIcon = (session.consoleSetting.TrueControlCenterURL && !app.isMobile()) ? true : false;\r\n\r\n            var view = new kendo.View(built(), {\r\n                wrap: false,\r\n                init: function () {\r\n\r\n                    setTimeout(function() {\r\n                        DoWork(); \r\n                        if ($(\"#expanded_widget\").length === 0) {\r\n                            remoteManageWidget.getWidget(vm);\r\n                        }\r\n                        if ($(\"#attachment_widget\").length === 0) {\r\n                            headerAttachmentWidget.getWidget(vm);\r\n                        }\r\n                    }, 100);\r\n                },\r\n                model: vm\r\n            });\r\n\r\n            //this function is called from the link parent task so we need to allow callback function to be an input\r\n            vm.view.buildParentHeaderView = function (viewCallBack) {\r\n                //build template using underscore.js so that we can interpret kendo template vars if needed\r\n                var built = _.template(tpl);\r\n\r\n                //modify vm for this view\r\n                vm.view.controller = {\r\n                    parentIncident: (vm.type === \"ReleaseRecord\") ? localization.ParentRecord : localization.Parentincident,\r\n                    editHref: \"/\" + vm.type + \"/Edit/\" + vm.viewModel.ParentWorkItem.Id + \"/\",\r\n                    editLink: vm.viewModel.ParentWorkItem.Id + \"-\" + vm.viewModel.ParentWorkItem.Title,\r\n                    unlinkParent: function () {\r\n                        $.when(kendo.ui.ExtYesNoDialog.show({\r\n                            title: localization.UnlinkToParent,\r\n                            message: localization.SureUnlinkToParent\r\n                        })\r\n                        ).done(function (response) {\r\n                            if (response.button === \"yes\") {\r\n                                delete vm.viewModel.ParentWorkItem;\r\n                                vm.viewModel.set(\"isDirty\", true);\r\n                                vm.view.controller.isParent = false;\r\n                                view.destroy();\r\n                                view = new kendo.View(built(), {\r\n                                    wrap: false,\r\n                                    init: function () {\r\n\r\n                                        setTimeout(function () {\r\n                                            DoWork();\r\n                                            if ($(\"#expanded_widget\").length === 0) {\r\n                                                remoteManageWidget.getWidget(vm);\r\n                                            }\r\n                                            if ($(\"#attachment_widget\").length === 0) {\r\n                                                headerAttachmentWidget.getWidget(vm);\r\n                                            }\r\n                                        }, 100);\r\n                                    },\r\n                                    model: vm\r\n                                });\r\n\r\n                                callback(view.render());\r\n                            }\r\n                        });\r\n                    },\r\n                    isParent: (vm.viewModel.ParentWorkItem) ? true : false\r\n                }\r\n\r\n                view.destroy();\r\n\r\n                view = new kendo.View(built(), {\r\n                    wrap: false,\r\n                    init: function () {\r\n\r\n                        setTimeout(function () {\r\n                            DoWork();\r\n                            if ($(\"#expanded_widget\").length === 0) {\r\n                                remoteManageWidget.getWidget(vm);\r\n                            }\r\n                            if ($(\"#attachment_widget\").length === 0) {\r\n                                headerAttachmentWidget.getWidget(vm);\r\n                            }\r\n                        }, 100);\r\n                    },\r\n                    model: vm\r\n                });\r\n\r\n\r\n                viewCallBack(callback(view.render()));\r\n            }\r\n\r\n            vm.view.isSLOopen = false;\r\n\r\n            vm.view.toggleSLODropdown = function () {\r\n                vm.view.isSLOopen = !vm.view.isSLOopen;\r\n\r\n                if(vm.view.isSLOopen)\r\n                    $(\".content-header__collapser__dropdown\").addClass(\"content-header__collapser__dropdown--show\");\r\n                else\r\n                    $(\".content-header__collapser__dropdown\").removeClass(\"content-header__collapser__dropdown--show\");\r\n            }\r\n\r\n            window.closeSLODropdown = function() {\r\n                vm.view.toggleSLODropdown();\r\n            }\r\n\r\n            var DoWork = function () {\r\n\r\n                if (vm.viewModel[\"SLO\"] && vm.viewModel[\"SLO\"].length > 0) {\r\n\r\n                    var first_sloObjects = [vm.viewModel[\"SLO\"][0]],\r\n                        first_sloContainer = $(\".first-header-slo-container\");\r\n\r\n                    DoWorkSLOHeader(first_sloContainer, first_sloObjects, false);\r\n\r\n                    var sloContainer = $(\".header-slo-container\"),\r\n                        sloObjects = vm.viewModel[\"SLO\"];\r\n\r\n                    DoWorkSLOHeader(sloContainer, sloObjects, true);\r\n\r\n                } else {\r\n                    $(\".first-header-slo-container\").parent().hide();\r\n                }\r\n            }\r\n\r\n            var DoWorkSLOHeader = function (sloContainer, sloObjects, isDropdown) {\r\n                var sloActive = \"SLAInstance.Status.Active\",\r\n                    sloPaused = \"SLAInstance.Status.Paused\",\r\n                    sloMet = \"SLAInstance.Status.Met\",\r\n                    sloWarning = \"SLAInstance.Status.Warning\",\r\n                    sloBreached = \"SLAInstance.Status.Breached\",\r\n                    sloNotReady = \"SLAInstance.Status.NotReady\";\r\n\r\n                for (var key in sloObjects) {\r\n                    if (sloObjects[key].DisplayName == null) continue;\r\n                    var isMet = false;\r\n                    var isPaused = false;\r\n\r\n                    //var sloTemplate = kendo.template(sloViewObj.find(\"#slo-template\").html());\r\n                    var sloTemplate = (isDropdown) ? kendo.template($(\"#header-slo-template\").html()) : kendo.template($(\"#first-header-slo-template\").html());\r\n\r\n                    var sloObj = {};\r\n                    sloObj.index = key;\r\n                    sloObj.count = vm.viewModel[\"SLO\"].length;\r\n                    sloObj.Id = sloObjects[key].DisplayName.replace(\" \", \"\");\r\n                    sloObj.Title = sloObjects[key].DisplayName;\r\n\r\n                    switch (sloObjects[key].Status) {\r\n                        case sloActive:\r\n                            sloObj.imageClass = \"fa-clock-o text-primary\";\r\n                            break;\r\n                        case sloPaused:\r\n                        case sloNotReady:\r\n                            isPaused = true;\r\n                            sloObj.imageClass = \"fa-pause text-info\";\r\n                            break;\r\n                        case sloMet:\r\n                            sloObj.imageClass = \"fa-check-circle-o text-success\";\r\n                            //vm.view.controller.isMet = true;\r\n                            isMet = true;\r\n                            break;\r\n                        case sloWarning:\r\n                            sloObj.imageClass = \"fa-exclamation-circle text-warning\";\r\n                            break;\r\n                        case sloBreached:\r\n                            sloObj.imageClass = \"fa-bell text-danger\";\r\n                            isBreach = true;\r\n                            break;\r\n                    }\r\n\r\n                    var sloImg = sloObj.imageClass; //should remove\r\n\r\n                    var clone = $('<div/>').addClass(\"content-header__collapser\");\r\n                    clone.html(sloTemplate(sloObj));\r\n\r\n                    //alert(sloObjects[key].Time.Hours);\r\n                    SLOCoundown(clone, isMet, isPaused, sloObjects[key].Time.Hours, sloObjects[key].Time.Minutes, sloObjects[key].Time.Seconds,\r\n                        eval(sloObjects[key].WarningDate), eval(sloObjects[key].ServerDatetimeNow), false);\r\n                    sloContainer.append(clone);\r\n                }\r\n            }\r\n\r\n            var SLOCoundown = function (sloCloned, isMetStat, isPaused, hours, minutes, seconds, warningDate, serverCurrentDate, isBreach) {\r\n                //force warning image\r\n                if (!isMetStat && !isBreach && warningDate <= serverCurrentDate) {\r\n                    //reset all classes \r\n                    sloCloned.find(\".header-slo-icon\").attr('class', \"header-slo-icon fa fa-exclamation-circle text-warning fa-lg\");\r\n                }\r\n\r\n                //set breached\r\n                if (!isMetStat && (seconds <= 0 && minutes <= 0 && hours <= 0)) {\r\n                    isBreach = true;\r\n                    sloCloned.find(\".header-slo-icon\").attr('class', \"header-slo-icon fa fa-bell text-danger fa-lg\");\r\n                    sloCloned.find(\".header-slo-timer\").addClass(\"text-danger\");\r\n                }\r\n\r\n                //set time in view\r\n                if (!isMetStat) {\r\n                    var secs = (Math.abs(seconds) < 10) ? \"0\" + Math.abs(seconds) : Math.abs(seconds);\r\n                    var mins = (Math.abs(minutes) < 10) ? \"0\" + Math.abs(minutes) : Math.abs(minutes);\r\n                    var hrs = (Math.abs(hours) < 10) ? \"0\" + Math.abs(hours) : Math.abs(hours);\r\n                    if (isBreach) {\r\n                        sloCloned.find(\".header-slo-timer\").html(\"\");\r\n                    } else\r\n                        sloCloned.find(\".header-slo-timer\").html((isBreach ? \"-\" : \"\") + Math.abs(hrs) + \":\" + mins + \":\" + secs);\r\n                    //return;\r\n                } else {\r\n                    sloCloned.find(\".header-slo-timer\").html(\"&nbsp;\");\r\n                    return;\r\n                }\r\n\r\n                if (isPaused) return;\r\n\r\n                //make the fancy js countdown\r\n                serverCurrentDate.setSeconds(serverCurrentDate.getSeconds() + 1);\r\n                seconds = parseInt(seconds) - 1;\r\n\r\n\r\n                if (seconds <= 0 && minutes <= 0 && hours <= 0) {\r\n                    if (seconds <= -60) {\r\n                        seconds = 0;\r\n                        minutes = parseInt(minutes) - 1;\r\n                    }\r\n\r\n                    if (minutes <= -60) {\r\n                        minutes = 0;\r\n                        hours = parseInt(hours) - 1;\r\n                    }\r\n                } else {\r\n                    if (minutes < 0) {\r\n                        minutes = 59;\r\n                        hours = parseInt(hours) - 1;\r\n                    }\r\n\r\n                    if (seconds < 0) {\r\n                        seconds = 59;\r\n                        minutes = parseInt(minutes) - 1;\r\n                    }\r\n                }\r\n\r\n\r\n                setTimeout(function () {\r\n                    SLOCoundown(sloCloned, isMetStat, isPaused, hours, minutes, seconds,\r\n                        warningDate, serverCurrentDate, isBreach);\r\n                }, 1000);\r\n            }\r\n\r\n            vm.view.doClick = function (e) {\r\n                if ($(e.currentTarget).hasClass(\"btn-icon-stack--active\"))\r\n                    $(e.currentTarget).removeClass(\"btn-icon-stack--active\");\r\n                else\r\n                    $(e.currentTarget).addClass(\"btn-icon-stack--active\");\r\n                remoteManageWidget.toggle(vm);\r\n            }\r\n\r\n            vm.view.toggleMore = function() {\r\n                $('#openmore').modal('show');\r\n\r\n                $('#openmore').on('shown.bs.modal',\r\n                    function() {\r\n                        $('.modal-backdrop').each(function (i, obj) {\r\n                            $('#openmore').before(obj);\r\n                        });\r\n                    });\r\n            }\r\n\r\n            vm.view.viewAttachments = function (e) {\r\n                if ($(e.currentTarget).hasClass(\"btn-icon-stack--active\"))\r\n                    $(e.currentTarget).removeClass(\"btn-icon-stack--active\");\r\n                else\r\n                    $(e.currentTarget).addClass(\"btn-icon-stack--active\");\r\n                headerAttachmentWidget.toggle(vm);\r\n            }\r\n\r\n            //set page <title>\r\n            document.title = vm.view.title + ' - ' + vm.view.id;\r\n\r\n            if (!_.isNull(vm.viewModel.ParentWorkItem) &&\r\n                !_.isUndefined(vm.viewModel.ParentWorkItem)) {\r\n                vm.view.buildParentHeaderView(function(tpl) {\r\n                });\r\n            } else {\r\n                vm.view.controller = {\r\n                    isParent: (vm.viewModel.ParentWorkItem) ? true : false\r\n                }\r\n            }\r\n\r\n            $('body').click(function (e) {\r\n\r\n                if (e.target.id === 'expanded_widget' || $(e.target).parents('#expanded_widget').length > 0)\r\n                    return;\r\n\r\n                if (e.target.id === 'remoteManageBtn' || $(e.target).parents('#remoteManageBtn').length > 0)\r\n                    return;\r\n\r\n                if ($(e.target).hasClass(\"support-tools__widget__action\") || $(e.target).parents('.support-tools__widget__action').length > 0)\r\n                    return;\r\n\r\n                if ($(e.target).hasClass(\"multi-query__list__selected-items\") || $(e.target).parents('.multi-query__list__selected-items').length > 0)\r\n                    return;\r\n\r\n                if (e.target.id === 'attachment_widget' || $(e.target).parents('#attachment_widget').length > 0)\r\n                    return;\r\n\r\n                if (e.target.id === 'headerAttachmentContainer' || $(e.target).parents('#headerAttachmentContainer').length > 0)\r\n                    return;\r\n\r\n                if (e.target.id === 'headerAttachmentBtn' || $(e.target).parents('#headerAttachmentBtn').length > 0)\r\n                    return;\r\n\r\n                if ($(e.target).hasClass(\"thumbnail-file\") || $(e.target).parents('.thumbnail-file').length > 0)\r\n                    return;\r\n\r\n                if (vm.widget) vm.widget.open = false;\r\n                $(\"#remoteManageBtn\").removeClass('btn-icon-stack--active');\r\n                $(\"#expanded_widget\").removeClass('content-header__flyout--open');\r\n                $(\"#content-header-backdrop\").removeClass('content-header__flyout__overlay--open');\r\n\r\n                if (vm.attachmentWidget) vm.attachmentWidget.open = false;\r\n                $(\"#headerAttachmentBtn\").removeClass('btn-icon-stack--active');\r\n                $(\"#attachment_widget\").removeClass('content-header__flyout--open');\r\n            });\r\n\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/header/status/view.html',[],function () { return '<h1 class=\"page_title\">\\r\\n    <span data-bind=\"text: view.title\"></span><span>-</span><span class=\"uppercase\" data-bind=\"text: view.id\"></span>\\r\\n    <span class=\"cursor-pointer\" id=\"viewAttachments\" data-bind=\"click: view.viewAttachments, visible: view.filesCount > 0\"><i class=\"fa fa-paperclip text-primary\" style=\"font-size: inherit\"></i></span>\\r\\n    <span class=\"label label-info label-heading\" id=\"statusname\" data-bind=\"visible: view.statusVisible, text: viewModel.Status.Name\"></span>\\r\\n    <span class=\"label label-heading\" data-bind=\"visible: viewModel.IsParent\"><img src=\"/Content/Images/Icons/WorkItemsStatus/workitem-parent-icon.svg\"></span>\\r\\n</h2>\\r\\n\\r\\n\\r\\n';});\n\n","/**\r\nHeader Status\r\n**/\r\ndefine('forms/header/status/controller',['require','text!forms/header/status/view.html','forms/flyout/fileAttachmentsFlyout/controller'],function (require) {\r\n    var tpl = require(\"text!forms/header/status/view.html\");\r\n    var attachmentPickerFlyout = require(\"forms/flyout/fileAttachmentsFlyout/controller\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            //add FileAttachment on viewModel if not found\r\n            if (_.isUndefined(vm.viewModel.FileAttachment)) {\r\n                vm.viewModel.set(\"FileAttachment\", []);\r\n            }\r\n            \r\n            //modify vm for this view\r\n            vm.view.viewAttachments = function () {\r\n\r\n                var flyoutWindow = attachmentPickerFlyout.getPopup(vm);\r\n                flyoutWindow.open();\r\n            }\r\n\r\n            vm.view.filesCount = vm.viewModel.FileAttachment.length;\r\n\r\n            vm.view.statusVisible = function () {\r\n                if (vm.newWI) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }\r\n            //set page <title>\r\n            document.title = vm.view.title + ' - ' + vm.view.id;\r\n\r\n            var view = new kendo.View(built(), { wrap: false, model: vm });\r\n\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/header/relationships/view.html',[],function () { return '<div class=\"parent-header-link\" >\\r\\n    <label data-bind=\"text: view.controller.parentIncident\"></label> :\\r\\n    <a data-bind=\"attr: { href: view.controller.editHref}, text: view.controller.editLink\" target=\"_blank\"></a>\\r\\n    <span class=\"fa fa-trash-o fa-lg cursor-pointer\" data-bind=\"click: view.controller.unlinkParent\"></span>\\r\\n</div>';});\n\n","/**\r\nHeader Status\r\n**/\r\ndefine('forms/header/relationships/controller',['require','text!forms/header/relationships/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/relationships/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //we need to have a container to add to via task\r\n            var container = $('<div/>').attr(\"id\", \"parent-header-space\");\r\n            var view = new kendo.View(container, { wrapper: false });\r\n           \r\n            //this function is called from the link parent task so we need to allow callback function to be an input\r\n            vm.view.buildParentHeaderView = function (viewCallBack) {\r\n                //build template using underscore.js so that we can interpret kendo template vars if needed\r\n                var built = _.template(tpl);\r\n                \r\n                //modify vm for this view\r\n                vm.view.controller = {\r\n                    parentIncident: (vm.type === \"ReleaseRecord\") ? localization.ParentRecord : localization.Parentincident,\r\n                    editHref: \"/\"+vm.type+\"/Edit/\" + vm.viewModel.ParentWorkItem.Id + \"/\",\r\n                    editLink: vm.viewModel.ParentWorkItem.Id + \"-\" + vm.viewModel.ParentWorkItem.Title,\r\n                    unlinkParent: function () {\r\n                        $.when(kendo.ui.ExtYesNoDialog.show({\r\n                            title: localization.UnlinkToParent,\r\n                            message: localization.SureUnlinkToParent\r\n                        })\r\n                        ).done(function (response) {\r\n                            if (response.button === \"yes\") {\r\n                                delete vm.viewModel.ParentWorkItem;\r\n                                vm.viewModel.set(\"isDirty\", true);\r\n                                view.content.hide();\r\n                            } else {\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n\r\n                viewCallBack(built());\r\n            }\r\n\r\n            if (!_.isNull(vm.viewModel.ParentWorkItem) &&\r\n                !_.isUndefined(vm.viewModel.ParentWorkItem)) {\r\n                vm.view.buildParentHeaderView(function (tpl) {\r\n                    //destroy default container\r\n                    view.destroy();\r\n\r\n                    container.append(tpl);\r\n                    view = new kendo.View(container, { wrapper: false, model: vm });\r\n                    callback(view.render());\r\n                });\r\n            } else {\r\n                callback(view.render());\r\n            }\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/header/slo/view.html',[],function () { return '<div class=\"slo-container pull-right\">\\r\\n\\r\\n</div>\\r\\n<script id=\"slo-template\" type=\"text/x-kendo-template\">\\r\\n        <li class=\"slo-timer\"></li>\\r\\n        <li class=\"slo-icon fa #: imageClass # fa-lg\"></li>\\r\\n        <li class=\"slo-title\">#: Title #</li>\\r\\n</script>';});\n\n","/**\r\nHeader Status\r\n**/\r\ndefine('forms/header/slo/controller',['require','text!forms/header/slo/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/slo/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function(vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            if (vm.isAnalyst) {\r\n                var built = _.template(tpl);\r\n\r\n                var view = new kendo.View(built(), {\r\n                    wrap: false,\r\n                    init: function() {\r\n                        setTimeout(function() { DoWork(); }, 100);\r\n                    },\r\n                    model: vm\r\n                });\r\n                view.render(); //so we can manipulate it\r\n\r\n                var DoWork = function() {\r\n\r\n                    if (vm.viewModel[\"SLO\"] == null) return;\r\n\r\n                    var sloViewObj = view.element,\r\n                        sloObjects = vm.viewModel[\"SLO\"],\r\n                        sloActive = \"SLAInstance.Status.Active\",\r\n                        sloPaused = \"SLAInstance.Status.Paused\",\r\n                        sloMet = \"SLAInstance.Status.Met\",\r\n                        sloWarning = \"SLAInstance.Status.Warning\",\r\n                        sloBreached = \"SLAInstance.Status.Breached\",\r\n                        sloNotReady = \"SLAInstance.Status.NotReady\";\r\n\r\n                    //var sloContainer = sloViewObj.find(\".slo-container\");\r\n                    var sloContainer = $(\".slo-container\");\r\n\r\n                    for (var key in sloObjects) {\r\n                        if (sloObjects[key].DisplayName == null) continue;\r\n                        var isMet = false;\r\n                        var isPaused = false;\r\n\r\n                        //var sloTemplate = kendo.template(sloViewObj.find(\"#slo-template\").html());\r\n                        var sloTemplate = kendo.template($(\"#slo-template\").html());\r\n\r\n                        var sloObj = {};\r\n                        sloObj.Id = sloObjects[key].DisplayName.replace(\" \", \"\");\r\n                        sloObj.Title = sloObjects[key].DisplayName;\r\n\r\n                        switch (sloObjects[key].Status) {\r\n                        case sloActive:\r\n                            sloObj.imageClass = \"fa-clock-o text-primary\";\r\n                            break;\r\n                        case sloPaused:\r\n                        case sloNotReady:\r\n                            isPaused = true;\r\n                            sloObj.imageClass = \"fa-pause text-info\";\r\n                            break;\r\n                        case sloMet:\r\n                            sloObj.imageClass = \"fa-check-circle-o text-success\";\r\n                            //vm.view.controller.isMet = true;\r\n                            isMet = true;\r\n                            break;\r\n                        case sloWarning:\r\n                            sloObj.imageClass = \"fa-exclamation-circle text-warning\";\r\n                            break;\r\n                        case sloBreached:\r\n                            sloObj.imageClass = \"fa-bell text-danger\";\r\n                            isBreach = true;\r\n                            break;\r\n                        }\r\n\r\n                        var sloImg = sloObj.imageClass; //should remove\r\n\r\n                        var clone = $('<ul/>').addClass(\"slo-status-item\");\r\n                        clone.html(sloTemplate(sloObj));\r\n\r\n                        //alert(sloObjects[key].Time.Hours);\r\n                        SLOCoundown(clone, isMet, isPaused, sloObjects[key].Time.Hours, sloObjects[key].Time.Minutes, sloObjects[key].Time.Seconds,\r\n                            eval(sloObjects[key].WarningDate), eval(sloObjects[key].ServerDatetimeNow), false);\r\n                        sloContainer.append(clone);\r\n                    }\r\n                }\r\n\r\n                var SLOCoundown = function(sloCloned, isMetStat, isPaused, hours, minutes, seconds, warningDate, serverCurrentDate, isBreach) {\r\n                    //force warning image\r\n                    if (!isMetStat && !isBreach && warningDate <= serverCurrentDate) {\r\n                        //reset all classes \r\n                        sloCloned.find(\".slo-icon\").attr('class', \"slo-icon fa fa-exclamation-circle text-warning fa-lg\");\r\n                    }\r\n\r\n                    //set breached\r\n                    if (!isMetStat && (seconds <= 0 && minutes <= 0 && hours <= 0)) {\r\n                        isBreach = true;\r\n                        sloCloned.find(\".slo-icon\").attr('class', \"slo-icon fa fa-bell text-danger fa-lg\");\r\n                        sloCloned.find(\".slo-timer\").addClass(\"text-danger\");\r\n                    }\r\n\r\n                    //set time in view\r\n                    if (!isMetStat) {\r\n                        var secs = (Math.abs(seconds) < 10) ? \"0\" + Math.abs(seconds) : Math.abs(seconds);\r\n                        var mins = (Math.abs(minutes) < 10) ? \"0\" + Math.abs(minutes) : Math.abs(minutes);\r\n                        var hrs = (Math.abs(hours) < 10) ? \"0\" + Math.abs(hours) : Math.abs(hours);\r\n                        if (isBreach) {\r\n                            sloCloned.find(\".slo-timer\").html(\"\");\r\n                        } else\r\n                            sloCloned.find(\".slo-timer\").html((isBreach ? \"-\" : \"\") + Math.abs(hrs) + \":\" + mins + \":\" + secs);\r\n                        //return;\r\n                    } else {\r\n                        sloCloned.find(\".slo-timer\").html(\"&nbsp;\");\r\n                        return;\r\n                    }\r\n\r\n                    if (isPaused) return;\r\n\r\n                    //make the fancy js countdown\r\n                    serverCurrentDate.setSeconds(serverCurrentDate.getSeconds() + 1);\r\n                    seconds = parseInt(seconds) - 1;\r\n\r\n\r\n                    if (seconds <= 0 && minutes <= 0 && hours <= 0) {\r\n                        if (seconds <= -60) {\r\n                            seconds = 0;\r\n                            minutes = parseInt(minutes) - 1;\r\n                        }\r\n\r\n                        if (minutes <= -60) {\r\n                            minutes = 0;\r\n                            hours = parseInt(hours) - 1;\r\n                        }\r\n                    } else {\r\n                        if (minutes < 0) {\r\n                            minutes = 59;\r\n                            hours = parseInt(hours) - 1;\r\n                        }\r\n\r\n                        if (seconds < 0) {\r\n                            seconds = 59;\r\n                            minutes = parseInt(minutes) - 1;\r\n                        }\r\n                    }\r\n\r\n\r\n                    setTimeout(function() {\r\n                        SLOCoundown(sloCloned, isMetStat, isPaused, hours, minutes, seconds,\r\n                            warningDate, serverCurrentDate, isBreach);\r\n                    }, 1000);\r\n                }\r\n\r\n\r\n                callback(view.render());\r\n            }\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\r\n\n","\ndefine('text!forms/header/spacer/view.html',[],function () { return '<div></div>';});\n\n","/**\r\nHeader Spacer\r\n**/\r\ndefine('forms/header/spacer/controller',['require','text!forms/header/spacer/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/spacer/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            //modify vm for this view\r\n\r\n            var view = new kendo.View(built(), { model: vm });\r\n\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/header/title/view.html',[],function () { return '<h1 class=\"page_title\">\\r\\n    <span data-bind=\"html: title\"></span>\\r\\n</h1>\\r\\n\\r\\n';});\n\n","/**\r\nHeader Status\r\n**/\r\ndefine('forms/header/title/controller',['require','text!forms/header/title/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/title/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            vm.title = (!_.isUndefined(localization[vm.type]) && [vm.type].length > 0) ? localization[vm.type] : vm.type;\r\n\r\n            //set page <title>\r\n            document.title = vm.title;\r\n\r\n            var view = new kendo.View(built(), { wrap: false, model: vm });\r\n\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/header/approval/view.html',[],function () { return '<div class=\"container-fluid\" data-bind=\"visible: isDesktopView\">\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-6 col-xs-12\">\\r\\n            <h1 class=\"page_title\">\\r\\n                <span data-bind=\"text: title\"></span><span>-</span><span class=\"uppercase\" data-bind=\"text: workItemId\"></span>\\r\\n                <span class=\"label label-info label-heading\" id=\"statusName\" data-bind=\"text: statusName\"></span>\\r\\n                <span class=\"label label-heading\" data-bind=\"visible: isParent\"><img src=\"/Content/Images/Icons/WorkItemsStatus/workitem-parent-icon.svg\"></span>\\r\\n            </h1>\\r\\n        </div>\\r\\n        <div class=\"col-md-6 col-xs-12\">       \\r\\n            <div class=\"pull-right ra-approval-space\">\\r\\n                <!-- Support group -->\\r\\n                <div class=\"pull-left\">\\r\\n                    <div class=\"form-control-picker input-sm ra-input\"\\r\\n                         data-url=\"/api/V3/Enum/GetList\"\\r\\n                         data-combourl=\"/api/V3/Enum/GetFlatList/\"\\r\\n                         data-bind=\"ciresonDropDownTree: SupportGroupEnumId, value: SupportGroupFieldValue, visible: SupportGroupVisible, click: onChangeSupportGroup, options: {disabled:disabledMAButtons}\"\\r\\n                         data-role=\"SupportGroupField\"\\r\\n                         data-placeholder=\"SupportGroup\"></div>\\r\\n                </div>\\r\\n                <div class=\"pull-right\">\\r\\n                    <!--RA buttons-->\\r\\n                    <button class=\"btn btn-success\"\\r\\n                            data-bind=\"events: { click: onApproveClick }, disabled:disabledButtons, visible:isReviewActivity\">\\r\\n                        <%= localization.Approve %>\\r\\n                    </button>\\r\\n                    <button class=\"btn btn-danger\"\\r\\n                            data-bind=\"events: { click: onRejectClick }, disabled:disabledButtons, visible:isReviewActivity\">\\r\\n                        <%= localization.Reject %>\\r\\n                    </button>\\r\\n                    <!--RA buttons-->\\r\\n                    <!--MA buttons-->\\r\\n                    <button class=\"btn btn-success\"\\r\\n                            data-bind=\"events: { click: onCompleteClick }, disabled:disabledMAButtons, visible:isManualActivity\">\\r\\n                        <%= localization.Completed %>\\r\\n                    </button>\\r\\n                    <button class=\"btn btn-danger\"\\r\\n                            data-bind=\"events: { click: onFailClick }, disabled:disabledMAButtons, visible:isManualActivity\">\\r\\n                        <%= localization.Failed %>\\r\\n                    </button>\\r\\n                    <!--MA buttons-->\\r\\n                    <span>\\r\\n                        <button class=\"btn-link\" data-bind=\"disabled:disablePrevious, events:{click: previousClick}\"><i class=\"fa fa-chevron-left\"></i></button>\\r\\n                        <span data-bind=\"html: pageText\"></span>\\r\\n                        <button class=\"btn-link\" data-bind=\"disabled:disableNext, events:{click: nextClick}\"><i class=\"fa fa-chevron-right\"></i></button>\\r\\n                    </span>\\r\\n                </div>\\r\\n             </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\"container-fluid\" data-bind=\"visible: isMobileView\">\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space pull-right\">\\r\\n                <div>\\r\\n                    <button class=\"btn-link\" data-bind=\"disabled:disablePrevious, events:{click: previousClick}\"><i class=\"fa fa-chevron-left\"></i></button>\\r\\n                    <span data-bind=\"html: pageText\"></span>\\r\\n                    <button class=\"btn-link\" data-bind=\"disabled:disableNext, events:{click: nextClick}\"><i class=\"fa fa-chevron-right\"></i></button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"row\">\\r\\n        <!-- Support group -->\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"form-control-picker ra-input\"\\r\\n                 data-url=\"/api/V3/Enum/GetList\"\\r\\n                 data-combourl=\"/api/V3/Enum/GetFlatList/\"\\r\\n                 data-bind=\"ciresonDropDownTree: SupportGroupEnumId, value: SupportGroupFieldValue, visible: SupportGroupVisible, click: onChangeSupportGroup\"\\r\\n                 data-role=\"SupportGroupField\"\\r\\n                 data-placeholder=\"SupportGroup\"></div>\\r\\n        </div>\\r\\n        <!--RA buttons-->\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space\">\\r\\n                <button class=\"btn btn-success\"\\r\\n                        data-bind=\"events: { click: onApproveClick }, disabled:disabledButtons, visible:isReviewActivity\">\\r\\n                    <%= localization.Approve %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space\">\\r\\n                <button class=\"btn btn-danger\"\\r\\n                        data-bind=\"events: { click: onRejectClick }, disabled:disabledButtons, visible:isReviewActivity\">\\r\\n                    <%= localization.Reject %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!--RA buttons-->\\r\\n\\r\\n        <!--MA buttons-->\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space\">\\r\\n                <button class=\"btn btn-success\"\\r\\n                        data-bind=\"events: { click: onCompleteClick }, disabled:disabledMAButtons, visible:isManualActivity\">\\r\\n                    <%= localization.Completed %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space\">\\r\\n                <button class=\"btn btn-danger\"\\r\\n                        data-bind=\"events: { click: onFailClick }, disabled:disabledMAButtons, visible:isManualActivity\">\\r\\n                    <%= localization.Failed %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!--MA buttons-->\\r\\n    </div>\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-6 col-xs-12\">\\r\\n            <h1 class=\"page_title\">\\r\\n                <span data-bind=\"text: title\"></span><span>-</span><span class=\"uppercase\" data-bind=\"text: workItemId\"></span>\\r\\n                <span class=\"label label-info label-heading\" id=\"statusname\" data-bind=\"text: statusName\"></span>\\r\\n                <span class=\"label label-heading\" data-bind=\"visible: isParent\"><img src=\"/Content/Images/Icons/WorkItemsStatus/workitem-parent-icon.svg\"></span>\\r\\n            </h1>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n';});\n\n","/**\r\nRA Approval controls\r\n**/\r\ndefine('forms/header/approval/controller',['require','text!forms/header/approval/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/approval/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n            var rejected = \"107fc6bd-2bb3-0282-4425-f43b5b32ef13\";\r\n            var approve = \"0e856c6c-04e5-0a8e-6041-bc7715b4747e\";\r\n            var notYetVoted = \"dae75d12-89ac-a8d8-4fe3-516c2a6a26f7\";\r\n\r\n\r\n            vm.view.approvalModel = new kendo.observable({\r\n                decisionEnumId: null,\r\n                comments: \"\",\r\n                onRejectClick: function () {\r\n                    vm.view.approvalModel.decisionEnumId = rejected;\r\n                    this.updateStatus();\r\n                },\r\n                onApproveClick: function () {\r\n                    vm.view.approvalModel.decisionEnumId = approve;\r\n\r\n                    this.updateStatus();\r\n                },\r\n                onCompleteClick: function () {\r\n                    var status = { Id: app.constants.workItemStatuses.ManualActivity.Completed, Name: localization.Completed };\r\n                    vm.view.approvalModel.updateManualActivity(status);\r\n                },\r\n                onFailClick: function () {\r\n                    var status = { Id: app.constants.workItemStatuses.ManualActivity.Failed, Name: localization.Failed }\r\n                    vm.view.approvalModel.updateManualActivity(status);\r\n                },\r\n                updateStatus: function () {\r\n                    if (vm.view.approvalModel.isReviewActivity) {\r\n                        vm.view.approvalModel.updateReviewActivity();\r\n                    }\r\n\r\n                    if (vm.view.approvalModel.isManualActivity) {\r\n                        vm.view.approvalModel.updateManualActivity();\r\n                    }\r\n                },\r\n                updateReviewActivity: function () {\r\n                    $.when(kendo.ui.ExtYesNoTextAreaDialog.show({\r\n                        title: localization.Comments,\r\n                        message: localization.DoYouHaveComments,\r\n                        required: true,\r\n                        height: 250\r\n                    })\r\n                  ).done(function (response) {\r\n                      if (response.button === \"yes\") {\r\n                          vm.view.approvalModel.comments = response.input;\r\n                      }\r\n\r\n\r\n                      _.each(pageForm.viewModel.Reviewer, function (reviewItem) {\r\n\r\n                          var group = _.find(pageForm.userGroup, function (group) {\r\n                              return (!_.isUndefined(reviewItem.User)) ? reviewItem.User.BaseId == group.Id : false;\r\n                          });\r\n\r\n                          if (reviewItem.Decision.Id == notYetVoted\r\n                              && ((!_.isUndefined(reviewItem.User) && reviewItem.User.BaseId == session.user.Id)\r\n                              || !_.isUndefined(group))) {\r\n\r\n                              var comment = \"\";\r\n                              if (_.isNull(reviewItem.Comments)) {\r\n                                  comment = vm.view.approvalModel.comments;\r\n                              }\r\n                              else {\r\n                                  comment = reviewItem.Comments + \" \" + vm.view.approvalModel.comments;\r\n                              }\r\n\r\n                              reviewItem.VotedBy = {};\r\n                              reviewItem.VotedBy.BaseId = session.user.Id;\r\n                              reviewItem.Decision.set(\"Id\", vm.view.approvalModel.decisionEnumId);\r\n                              reviewItem.set(\"Comments\", comment);\r\n                              reviewItem.set(\"DecisionDate\", new Date().toISOString());\r\n\r\n                          }\r\n                      });\r\n\r\n                      //exclude parent workitem details\r\n                      if (pageForm.viewModel.ParentWorkItem) delete pageForm.viewModel.ParentWorkItem;\r\n\r\n                      vm.view.approvalModel.save();\r\n                  });\r\n                },\r\n                updateManualActivity: function (status) {\r\n                    $.when(kendo.ui.ExtYesNoTextAreaDialog.show({\r\n                        title: session.consoleSetting.RequireImplementationNotes ? localization.ImplementationdetailsRequired : localization.Implementationdetails,\r\n                        buttons: [\r\n                            {\r\n                                name: localization.Save,\r\n                                click: function (e) {\r\n                                    var $inputText = $(\"#extInputDialog .k-ext-input-dialog-input\");\r\n                                    var comment = $(\"#extInputDialog .k-ext-input-dialog-input\").val();\r\n                                    var currentNotes = !_.isNull(pageForm.viewModel.Notes) ? pageForm.viewModel.Notes : \"\";\r\n\r\n                                    if (e.dialog.options.required && $inputText.val().length == 0) {\r\n                                        $inputText.addClass(e.dialog.options.requiredCss);\r\n                                    } else {\r\n                                        //exclude parent workitem details\r\n                                        if (pageForm.viewModel.ParentWorkItem) delete pageForm.viewModel.ParentWorkItem;\r\n\r\n                                        //set status \r\n                                        pageForm.viewModel.set(\"Status\", status)\r\n\r\n                                        //set notes\r\n                                        pageForm.viewModel.set(\"Notes\", currentNotes + \"\\n\" + comment);\r\n                                        vm.view.approvalModel.save();\r\n                                        e.dialog.close();\r\n                                    }\r\n                                },\r\n                                cls: \"btn-primary\"\r\n                            },\r\n                            {\r\n                                name: localization.Cancel,\r\n                                click: function (e) {\r\n                                    e.dialog.close();\r\n                                }\r\n                        }],\r\n                        required: session.consoleSetting.RequireImplementationNotes,\r\n                        requiredCss: \"k-ext-required\"\r\n                    })\r\n                 );\r\n                },\r\n                save: function () {\r\n                    var postData = encodeURIComponent(JSON.stringify({\r\n                        isDirty: true,\r\n                        current: pageForm.viewModel.toJSON(),\r\n                        original: pageForm.jsonRaw\r\n                    }));\r\n\r\n                    $.ajax({\r\n                        type: 'POST',\r\n                        dataType: 'text',\r\n                        url: pageForm.saveUrl,\r\n                        data: \"formJson=\" + postData,\r\n                        success: function (data, status, xhr) {\r\n                            location.reload();\r\n                            if (data.search('loginForm') < 0) { // Logged out check    \r\n                                var successMessage = vm.view.approvalModel.decisionEnumId == \"0e856c6c-04e5-0a8e-6041-bc7715b4747e\" ?\r\n                                    localization.ReviewActivityApprovedMessage : localization.ReviewActivityRejectedMessage;\r\n                                \r\n                                if (pageForm.viewModel.ClassName == \"System.WorkItem.Activity.ManualActivity\") {\r\n                                    successMessage = (pageForm.viewModel.Status.Id == app.constants.workItemStatuses.ManualActivity.Completed) ?\r\n                                                    localization.ManualActivityCompletedMessage :\r\n                                                    localization.ManualActivityFailedMessage;\r\n                                }\r\n\r\n                                app.lib.message.add(successMessage.replace(\"{0}\", vm.viewModel.Id), \"success\");\r\n                                app.lib.handleMessages();\r\n                            } else {\r\n                                //session expired\r\n                                window.location = \"/Login/Login?ReturnUrl=\" + window.location.pathname;\r\n                            }\r\n                        },\r\n                        error: function (xhr, ajaxOptions, thrownError) {\r\n                            //do we have a data conflict\r\n                            if (xhr.status == 409) {\r\n\r\n                                $.when(kendo.ui.ExtYesNoDialog.show({\r\n                                    title: localization.DataConflict,\r\n                                    message: localization.DataConflictError + \"<br/><br/><small>(\" + localization.DataConflictDescription + \")</small>\",\r\n                                    icon: \"fa fa-exchange text-danger\",\r\n                                    width: \"500px\",\r\n                                    height: \"175px\"\r\n                                })\r\n                                ).done(function (response) {\r\n                                    if (response.button === \"yes\") {\r\n                                        //open in new tab, may not work this way in all browsers\r\n                                        window.open(window.location.pathname);\r\n                                    } else {\r\n                                        //refresh page\r\n                                        location.href = window.location.pathname;\r\n                                    }\r\n                                });\r\n\r\n                            } else if (xhr.status == 503) { //SDK unavailable\r\n                                var jsonRsp = xhr.responseText;\r\n                                app.lib.log(jsonRsp);\r\n                                //determine error Message\r\n                                var errorMsg = localization.ReconnectRequired;\r\n                                if (jsonRsp.exception && jsonRsp.exception.length > 0) {\r\n                                    errorMsg = jsonRsp.exception;\r\n                                }\r\n                                //alert the user\r\n                                kendo.ui.ExtAlertDialog.show({\r\n                                    title: localization.Failed,\r\n                                    message: errorMsg,\r\n                                    icon: \"fa fa-times-circle text-danger\"\r\n                                });\r\n                            } else if (xhr.status == 403) { //user does not have access\r\n                                var jsonRsp = xhr.responseText;\r\n                                app.lib.log(jsonRsp);\r\n                                //determine error Message\r\n                                var errorMsg = localization.RequestFailed;\r\n                                if (jsonRsp.exception && jsonRsp.exception.length > 0) {\r\n                                    errorMsg = jsonRsp.exception;\r\n                                }\r\n                                //alert the user\r\n                                kendo.ui.ExtAlertDialog.show({\r\n                                    title: localization.Failed,\r\n                                    message: errorMsg,\r\n                                    icon: \"fa fa-times-circle text-danger\"\r\n                                });\r\n\r\n                            } else {\r\n                                console && app.lib.log(localization.RequestFailed);\r\n                                app.lib.log(thrownError);\r\n\r\n                                var jsonRsp = xhr.responseText;\r\n                                app.lib.log(jsonRsp);\r\n\r\n                                var errorMsg = localization.RequestFailed;\r\n                                if (jsonRsp.exception && jsonRsp.exception.length > 0) {\r\n                                    errorMsg = jsonRsp.exception;\r\n                                }\r\n\r\n                                kendo.ui.ExtAlertDialog.show({\r\n                                    title: localization.ErrorDescription,\r\n                                    message: errorMsg,\r\n                                    icon: \"fa fa-exclamation\"\r\n                                });\r\n                            }\r\n                        },\r\n                        processData: false,\r\n                        async: false\r\n                    });\r\n                },\r\n                pageDataSource: new kendo.data.DataSource({\r\n                    serverFiltering: true,\r\n                    serverSorting: true,\r\n                    transport: {\r\n                        read: {\r\n                            url: pageForm.viewModel.ClassTypeId.toLowerCase() == \"bfd90aaa-80dd-0fbb-6eaf-65d92c1d8e36\" ? \"/api/V3/WorkItem/GetGridWorkItemsMyApprovals/\" : \"/api/V3/WorkItem/GetGridWorkItemsMyManualActivities/\",\r\n                            data: {\r\n                                userId: session.user.Id,\r\n                                isScoped: session.user.Security.IsWorkItemScoped,\r\n                                showInActives: false\r\n                            },\r\n                            cache: false\r\n                        }\r\n                    },\r\n                    requestEnd: function (e) {\r\n                        vm.view.approvalModel.updatePageDetails(e.response);\r\n                    }\r\n                }),\r\n                updatePageDetails: function (data) {\r\n                    var index = 1;\r\n                    var pageCount = (data) ? data.length : 0;\r\n\r\n                    _.find(data, function (item, idx) {\r\n                        if (item.Id == vm.viewModel.Id) {\r\n                            index = idx;\r\n                        }\r\n                    });\r\n\r\n                    var pageString = (index + 1) + \" / \" + pageCount;\r\n\r\n                    vm.view.approvalModel.set(\"currentPage\", index);\r\n                    vm.view.approvalModel.set(\"toatPage\", pageCount);\r\n                    vm.view.approvalModel.set(\"pageText\", pageString);\r\n                    vm.view.approvalModel.set(\"disablePrevious\", (index == 0) ? true : false);\r\n                    vm.view.approvalModel.set(\"disableNext\", (index == pageCount - 1) ? true : false);\r\n\r\n                    var statusInProgress = vm.viewModel.Status.Id === \"11fc3cef-15e5-bca4-dee0-9c1155ec8d83\";\r\n\r\n                    if (!statusInProgress || (!_.isUndefined(vm.viewModel.reviewDetails) && (vm.viewModel.reviewDetails.fullDetails.Decision.Id == approve || vm.viewModel.reviewDetails.fullDetails.Decision.Id == rejected) && (vm.viewModel.reviewDetails.fullDetails.User.BaseId == session.user.Id))) {\r\n                        vm.view.approvalModel.set(\"disabledButtons\", true);\r\n                    }\r\n                    else {\r\n                        var review = _.find(pageForm.viewModel.Reviewer, function (reviewItem) {\r\n                            if (_.isUndefined(reviewItem.User)) {\r\n                                return null;\r\n                            }\r\n                            var group = _.find(pageForm.userGroup, function (group) {\r\n                                return reviewItem.User.BaseId == group.Id;\r\n                            });\r\n\r\n                            return !_.isUndefined(reviewItem.User) && reviewItem.Decision.Id == notYetVoted && (reviewItem.User.BaseId == session.user.Id || !_.isUndefined(group));\r\n                        });\r\n\r\n                        if (!review) return;\r\n\r\n                        if (!statusInProgress || (_.isUndefined(review) || _.isNull(review))) {\r\n                            vm.view.approvalModel.set(\"disabledButtons\", true);\r\n                        }\r\n                    }\r\n                },\r\n                nextClick: function () {\r\n                    var index = vm.view.approvalModel.get(\"currentPage\") + 1;\r\n                    vm.view.approvalModel.navigate(index);\r\n                },\r\n                previousClick: function () {\r\n                    var index = vm.view.approvalModel.get(\"currentPage\") - 1;\r\n                    vm.view.approvalModel.navigate(index);\r\n                },\r\n                navigate: function (index) {\r\n                    vm.view.approvalModel.pageDataSource.read();\r\n                    var dSource = vm.view.approvalModel.pageDataSource.data();\r\n\r\n                    var nextItem = dSource[index];\r\n                    var url = vm.view.approvalModel.isReviewActivity ? \"/ReviewActivity/Approval/\" : \"/ManualActivity/Complete/\";\r\n                    var approvalUrl = url + nextItem.Id;\r\n\r\n                    location.href = approvalUrl;\r\n                },\r\n                onChangeSupportGroup: function() {\r\n                    vm.viewModel[pageForm.MASupportGroupField] = vm.view.approvalModel.SupportGroupFieldValue;\r\n                },\r\n                currentPage: 0,\r\n                toatPage: 0,\r\n                pageText: \"\",\r\n                disablePrevious: false,\r\n                disableNext: false,\r\n                title: vm.view.title,\r\n                workItemId: vm.viewModel.Id,\r\n                statusVisible: vm.view.statusVisible,\r\n                statusName: vm.viewModel.Status.Name,\r\n                isParent: vm.viewModel.IsParent,\r\n                isDesktopView: !app.isMobile(),\r\n                isMobileView: app.isMobile(),\r\n                disabledButtons: false,\r\n                reviewResult: null,\r\n                reviewId: 0,\r\n                SupportGroupVisible: pageForm.MASupportGroupField !== \"\",\r\n                SupportGroupEnumId: pageForm.MASupportGroupGuid,\r\n                SupportGroupFieldValue: vm.viewModel[pageForm.MASupportGroupField],\r\n                isManualActivity: pageForm.viewModel.ClassName == \"System.WorkItem.Activity.ManualActivity\",\r\n                isReviewActivity: pageForm.viewModel.ClassName == \"System.WorkItem.Activity.ReviewActivity\",\r\n                disabledMAButtons: pageForm.viewModel.Status.Id == app.constants.workItemStatuses.ManualActivity.Completed ||\r\n                    pageForm.viewModel.Status.Id == app.constants.workItemStatuses.ManualActivity.Failed\r\n                \r\n            });\r\n\r\n            vm.view.approvalModel.pageDataSource.read();\r\n            var view = new kendo.View(built(), { wrap: false, model: vm.view.approvalModel });\r\n\r\n            callback(view.render());\r\n\r\n\r\n        }\r\n    }\r\n    \r\n    return definition;\r\n\r\n});\n","define('forms/headerBuilder',[\r\n    \"forms/header/sticky/controller\",\r\n    \"forms/header/status/controller\",\r\n    \"forms/header/relationships/controller\",\r\n    \"forms/header/slo/controller\",\r\n    \"forms/header/spacer/controller\",\r\n    \"forms/header/title/controller\",\r\n    \"forms/header/approval/controller\"\r\n\r\n], function (\r\n    sticky,\r\n    status,\r\n    relationships,\r\n    slo,\r\n    spacer,\r\n    title,\r\n    approval\r\n        ) {\r\n\r\n\r\n    var definition = {\r\n        build: function (vm, callback) {\r\n            //loop all rows in header definition\r\n            _.each(vm.headerTemplate.rows, function (row) {\r\n                //create row dom element\r\n                var rowElm = $('<div/>').addClass(\"row\");\r\n                //loop all cols in def\r\n                _.each(row.columns, function (column) {\r\n                    //create col element\r\n                    var colElm = $('<div/>').addClass(column.Class);\r\n\r\n                    // Decide on Template\r\n                    eval(\"var _obj = \" + column.View + \";\");\r\n                    // Check if Template Exists\r\n                    if (!_obj) {\r\n                        //TODO: should we maybe just default to the string object?\r\n                        throw Exception(column.View + \" is not part of the templating system\");\r\n                        return false;\r\n                    }\r\n\r\n                    _obj.build(vm, column, function (view) {\r\n                        //callback(view);\r\n                        colElm.append(view);\r\n                        colElm.appendTo(rowElm);\r\n                    });\r\n\r\n\r\n                });\r\n\r\n                callback(rowElm);\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return definition;\r\n});\n","\ndefine('text!forms/structure/formPanel/view.html',[],function () { return '<div class=\"form-panel\">\\r\\n\\r\\n</div>';});\n\n","/**\r\nForm Panel\r\n**/\r\ndefine('forms/structure/formPanel/controller',['require','text!forms/structure/formPanel/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/formPanel/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (callback) {\r\n            var built = _.template(tpl);\r\n            callback(built());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/formPanelFull/view.html',[],function () { return '<div class=\"form-panel\">\\r\\n\\r\\n</div>';});\n\n","/**\r\nForm Panel\r\n**/\r\ndefine('forms/structure/formPanelFull/controller',['require','text!forms/structure/formPanelFull/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/formPanelFull/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (callback) {\r\n            var built = _.template(tpl);\r\n            callback(built());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/customFieldGroup/view.html',[],function () { return '<div class=\"row\">\\r\\n    <div class=\"panel panel-default no-shadow\">\\r\\n        <div class=\"panel-heading\"><%= name %></div>\\r\\n        <div class=\"panel-body append-here\">\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nCustom Field Group\r\n**/\r\ndefine('forms/structure/customFieldGroup/controller',['require','text!forms/structure/customFieldGroup/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/customFieldGroup/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n            if (!_.isUndefined(node.Visible) && !node.Visible) {\r\n                return;\r\n            }\r\n\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/customFieldGroupRow/view.html',[],function () { return '<div class=\"row\"></div>';});\n\n","/**\r\ncustomFieldGroupRow\r\n**/\r\ndefine('forms/structure/customFieldGroupRow/controller',['require','text!forms/structure/customFieldGroupRow/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/customFieldGroupRow/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            callback(tpl);\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/columnField/view.html',[],function () { return '<div class=\"col-md-<%= ColSize %>\"></div>';});\n\n","/**\r\ncolumnField\r\n**/\r\ndefine('forms/structure/columnField/controller',['require','text!forms/structure/columnField/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/columnField/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/tab/view.html',[],function () { return '<div class=\"tab-content\"></div>';});\n\n","/**\r\nTab List\r\n**/\r\ndefine('forms/structure/tab/controller',['require','text!forms/structure/tab/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/tab/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/tabPane/view.html',[],function () { return '<div class=\"tab-pane <%= active %>\" id=\"<%= tabId %>\"></div>   ';});\n\n","/**\r\nTab pane\r\n**/\r\ndefine('forms/structure/tabPane/controller',['require','text!forms/structure/tabPane/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/tabPane/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/structure/tabNavigation/view.html',[],function () { return '<ul class=\"nav nav-pills\" id=\"myTab\" data-bind=\"tabDrop:true\"></ul>';});\n\n","\ndefine('text!forms/structure/tabNavigation/mobile.html',[],function () { return '<div class=\"nav-dropdown\">\\r\\n    <span class=\"nav-dropdown-default\"></span>\\r\\n    <div class=\"nav-dropdown-trigger\">\\r\\n        <i class=\"fa fa-sort-desc\"></i>\\r\\n    </div>\\r\\n    <div class=\"nav-dropdown-content\">\\r\\n        <ul id=\"myTab\" data-bind=\"navDrop:true\"></ul>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nTab navigation\r\n**/\r\ndefine('forms/structure/tabNavigation/controller',['require','text!forms/structure/tabNavigation/view.html','text!forms/structure/tabNavigation/mobile.html'],function (require) {\r\n    var dtpl = require(\"text!forms/structure/tabNavigation/view.html\");\r\n    var mtpl = require(\"text!forms/structure/tabNavigation/mobile.html\");\r\n    \r\n    var tpl = (app.isMobile()) ? mtpl : dtpl;\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/structure/tabData/view.html',[],function () { return '<li class=\"<%= active %>\"><a href=\"#<%= tabId %>\" data-toggle=\"tab\" data-cid=\"<%= cid %>\"><%= name %></a></li>';});\n\n","\ndefine('text!forms/structure/tabData/mobile.html',[],function () { return '<li value=\"<%= tabId %>\" data-cid=\"<%= cid %>\" data-toggle=\"tab\"\\r\\n      <% if ( active ){ %>\\r\\n         class=\"selected\" \\r\\n       <% } %>\\r\\n         > <%= name %>\\r\\n</li>\\r\\n\\r\\n';});\n\n","/**\r\nTab data\r\n**/\r\ndefine('forms/structure/tabData/controller',['require','text!forms/structure/tabData/view.html','text!forms/structure/tabData/mobile.html'],function (require) {\r\n    var dtpl = require(\"text!forms/structure/tabData/view.html\");\r\n    var mtpl = require(\"text!forms/structure/tabData/mobile.html\");\r\n  \r\n    var tpl = (app.isMobile()) ? mtpl : dtpl;\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            node.cid = node.name;\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/predefined/actionLog/view.html',[],function () { return '<div data-control=\"actionLog\">\\r\\n    <div class=\"row\" data-bind=\"visible:isDesktop\">\\r\\n        <div class=\"col-md-12\">\\r\\n            <div class=\"form-group\">\\r\\n                <label for=\"commentBoxEditor\" data-localize=\"Comment\"></label>\\r\\n                <textarea id=\"commentBoxEditor\" class=\"k-textbox form-control input-sm action-log-textarea\" data-bind=\"value: commentBoxHTML\"\\r\\n                <% if ( Disabled ){ %>\\r\\n                disabled\\r\\n                <% } %>>\\r\\n                    </textarea>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-12\">\\r\\n            <div class=\"pull-left\">\\r\\n                <span data-bind=\"text: charactersRemaining\"></span>\\r\\n                <span data-localize=\"CharactersRemaining\"> </span>\\r\\n            </div>\\r\\n            <div class=\"pull-right\">\\r\\n                <button type=\"button\" data-bind=\"click: addComment, enabled: addEnabled\" class=\"k-button btn btn-primary action-log-add-button\" data-localize=\"Add\"></button>\\r\\n            </div>\\r\\n            <div data-bind=\"visible: isAnalyst\" class=\"pull-right checkbox action-log-private\">\\r\\n                <input type=\"checkbox\" data-bind=\"checked: isPrivate\" id=\"actionLogisPrivate\" \\r\\n                       <% if (Disabled) { %>\\r\\n                        disabled\\r\\n                    <% } %>>\\r\\n                </input>\\r\\n\\r\\n                <label class=\"label-middle-align checkbox-inline checkbox-label\" data-localize=\"IsPrivate\" for=\"actionLogisPrivate\" />\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\"row\" data-bind=\"visible:isMobile\">\\r\\n        <div class=\"action-log-mobile\">\\r\\n            <textarea id=\"commentBoxEditorMobile\" class=\"k-textbox form-control input-sm action-log-textarea\" data-bind=\"value: commentBoxHTML\"\\r\\n            <% if (Disabled) { %>disabled<% } %>></textarea>\\r\\n            <div class=\"action-log-mobile-buttons\">\\r\\n                <button type=\"button\" data-bind=\"click: addComment\" data-localize=\"Add Comment\" class=\"col-xs-7 btn btn-primary\"></button>\\r\\n                <div data-bind=\"visible: isAnalyst\" class=\"pull-left checkbox checkbox-inline action-log-mobile-private\">\\r\\n                    <input type=\"checkbox\" data-bind=\"checked: isPrivate\" id=\"actionLogisPrivate\"><% if (Disabled) { %>\\r\\n                    disabled\\r\\n                    <% } %>></input>\\r\\n                    <label class=\"label-middle-align control-label\" data-localize=\"IsPrivate\" for=\"actionLogisPrivate\" />\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"row\">\\r\\n\\r\\n        <div class=\"col-md-12\" data-bind=\"visible:isDesktop\">\\r\\n\\r\\n            <div data-control-grid=\"actionLogGrid\" class=\"inline-spacing\"></div>\\r\\n\\r\\n            <!-- kendo details template used by action grid -->\\r\\n            <script data-id=\"commentDetailTemplate\" type=\"text/kendo-tmpl\">\\r\\n                <p name=\"CommentBoxDetail\" class=\"action-log-comment\">#=DescriptionDisplay#</p>\\r\\n            </script>\\r\\n        </div>\\r\\n        <div data-bind=\"visible:isMobile\">\\r\\n            <div data-role=\"listview\" data-bind=\"source: actionLogSource\" data-template=\"action-log-grid-mobile-template\" class=\"action-log-mobile-grid \"></div>\\r\\n            <script type=\"text/x-kendo-template\" id=\"action-log-grid-mobile-template\">\\r\\n                <div class=\"col-md-12 action-log-info\">\\r\\n                    <div class=\"row\">\\r\\n                        <div class=\"col-xs-2 action-log-icon\">\\r\\n                            <img src=\"#:data.Image#\" alt=\"#:data.Image#\" />\\r\\n                        </div>\\r\\n                        <div class=\"col-xs-10 action-log-details\">\\r\\n                            <p>\\r\\n                                #: EnteredBy # &middot; #: (EnteredDate) ? kendo.toString(new Date(EnteredDate), \\'d\\'):\\'\\' #\\r\\n                            </p>\\r\\n                            <p> #: Title #</p>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\"row\">\\r\\n                        <div class=\"col-xs-offset-2 col-xs-10 action-log-content\">\\r\\n                            #: Description #\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </script>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nactionLog\r\n**/\r\n\r\ndefine('forms/predefined/actionLog/controller',['require','text!forms/predefined/actionLog/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/actionLog/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n            var view = built(properties);\r\n\r\n            callback(view);\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/fileAttachments/view.html',[],function () { return '<div class=\"row\">\\r\\n    <div class=\"col-md-12 fileAttachmentGrid\" data-control=\"fileAttachmentGrid\" data-control-bind=\"FileAttachment\"\\r\\n\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        >\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nfileAttachments\r\n**/\r\n\r\ndefine('forms/predefined/fileAttachments/controller',['require','text!forms/predefined/fileAttachments/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/fileAttachments/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n\r\n            var properties = {\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/affectedItems/view.html',[],function () { return '<div data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileGridTemplate\" class=\"\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">#: DisplayName #</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <p>#: (typeof AssetStatus!=\"undefined\") ? !_.isUndefined(AssetStatus.Name)?AssetStatus.Name:\"\" : \"\" #</p>\\r\\n                <p># if ((typeof AssetStatus!=\"undefined\") && !_.isUndefined(AssetStatus.Name)) { # &middot # } # </p>\\r\\n                <p>#: (Path!=null ) ? Path : \"\" # </p>\\r\\n                <p># if (Path!=null && Path!=\"\") { # &middot # } # </p>\\r\\n\\r\\n            </div>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <a class=\"k-delete-button\">#: localization.Remove #</a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12 affecteditems-grid\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-md-6\">\\r\\n                <div class=\"form-group\">\\r\\n                    <label class=\"control-label\"><%= localization.Configurationitem %></label>\\r\\n                    <div class=\"two-action-input-group\">\\r\\n                        <input data-role=\"combobox\" class=\"search-combo\"\\r\\n                               data-placeholder=\"<%= localization.ChooseOne %>\"\\r\\n                               data-value-primitive=\"true\"\\r\\n                               data-text-field=\"Text\"\\r\\n                               data-value-field=\"Value\"\\r\\n                               data-filter=\"contains\"\\r\\n                               data-auto-bind=\"false\"\\r\\n                               data-min-length=\"3\"\\r\\n                               data-bind=\"value: view.affectedItemController.selectedConfigItem, source: view.affectedItemController.configItemDataSource, events:{change:view.affectedItemController.onConfigItemChange }\"\\r\\n                               data-cid=\"ci-searchbox\" />\\r\\n                        <span class=\"search\"\\r\\n                              data-bind=\"events:{click: view.affectedItemController.searchConfigItem}\"\\r\\n                              data-cid=\"affecteditemssearchicon\">\\r\\n                            <i class=\"fa fa-search\"></i>\\r\\n                        </span>\\r\\n                        <button data-role=\"button\" class=\"search-button two-action-input-group__primary-action\"\\r\\n                                data-bind=\"events:{click: view.affectedItemController.addConfigItem}\"\\r\\n                                data-cid=\"affectedItemsSearchBoxAddButton\">\\r\\n                            <%= localization.Add %>\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-6\">\\r\\n                <div class=\"form-group affected-user-item-search\" data-bind=\"visible: view.affectedItemController.isUserCIVisible\">\\r\\n                    <label class=\"control-label\"><%= localization.AffectedUserItems %></label>\\r\\n                    <div class=\"two-action-input-group\">\\r\\n                        <input data-role=\"combobox\" class=\"search-combo\"\\r\\n                               data-placeholder=\"<%= localization.ChooseOne %>\"\\r\\n                               data-value-primitive=\"true\"\\r\\n                               data-text-field=\"Text\"\\r\\n                               data-value-field=\"Value\"\\r\\n                               data-filter=\"contains\"\\r\\n                               data-auto-bind=\"false\"\\r\\n                               data-bind=\"value: view.affectedItemController.selectedUserConfigItem, source: view.affectedItemController.userConfigItemDataSource, events:{change:view.affectedItemController.onUserConfigItemChange }\"\\r\\n                               data-cid=\"auitems-searchbox\" />\\r\\n                        <button class=\"two-action-input-group__primary-action\" data-role=\"button\"\\r\\n                                data-bind=\"events:{click: view.affectedItemController.addUserConfigItem}\"\\r\\n                                data-cid=\"affectedItemsComboBoxAddButton\">\\r\\n                            <%= localization.Add %>\\r\\n\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div data-role=\"grid\"\\r\\n             data-bind=\"visible: view.affectedItemController.isDesktopView, source: view.affectedItemController.dataSource, events:{dataBinding: view.affectedItemController.onDataBinding}\"\\r\\n             data-selectable=\"false\"\\r\\n             data-sortable=\"true\"\\r\\n             data-filterable=\"true\"\\r\\n             data-scrollable=\"false\"\\r\\n             data-column-menu=\"true\"\\r\\n             data-pageable=\"false\"\\r\\n             data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n             data-columns=\\'[\\r\\n                    { title: \"\", width: \"1%\", template: \"\\\\u003cdiv data-base-id=\\\\\"#=BaseId#\\\\\" class=\\\\\"aci-context-menu open-modal pull-right\\\\\" data-bind=\\\\\"visible: view.affectedItemController.isSlideOut\\\\\"\\\\u003e\\\\u003ci class=\\\\\"fa fa-info-circle\\\\\"\\\\u003e\\\\u003c/i\\\\u003e\\\\u003c/div\\\\u003e\\\\u003cdiv class=\\\\\"open-modal pull-right\\\\\" data-bind=\\\\\"visible: view.affectedItemController.isMoreInfo, events:{click:view.affectedItemController.showMoreInfo }\\\\\"\\\\u003e\\\\u003ci class=\\\\\"fa fa-info-circle\\\\\"/\\\\u003e\\\\u003c/i\\\\u003e\\\\u003c/div\\\\u003e\"},\\r\\n                    { field: \"DisplayName\", title: localization.DisplayName, width: \"50%\"},\\r\\n                    { field: \"BaseId\", title: localization.BaseId, width: \"25%\", hidden: true },\\r\\n                    { field: \"Path\", title: localization.Path, width: \"25%\" },\\r\\n                    { field: \"AssetStatus.Name\", title: localization.Status, width: \"25%\" },\\r\\n                    { title: localization.Actions, width: \"15%\", command: [{ name: \"destroy\", buttonType: \"ImageAndText\", text: localization.Remove, className:\"custom__grid-remove\" }] }\\r\\n                ]\\'>\\r\\n        </div>\\r\\n        <div data-bind=\"visible: view.affectedItemController.isMobileView\">\\r\\n            <div data-bind=\"mobileGrid: HasRelatedWorkItems\" data-template-name=\"mobileGridTemplate\" class=\"mobile-grid-parent\"></div>\\r\\n        </div>\\r\\n        <!--context menu for info icon-->\\r\\n        <ul id=\"tccmenu\" data-role=\"contextmenu\"\\r\\n            data-filter=\".aci-context-menu\"\\r\\n            data-show-on=\"click\"\\r\\n            data-bind=\"events:{select:view.affectedItemController.onContextmenuSelect, activate:view.affectedItemController.onContextmenuActivate}\">\\r\\n        </ul>\\r\\n   </div>\\r\\n</div>';});\n\n","\ndefine('text!forms/popups/multipleObjectPickerPopup/view.html',[],function () { return '<div id=\"MultiObjectPickerWindow\" class=\"cireson-window defined-form task-window\" data-cid=\"MultiObjectPickerWindow\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-5\">\\r\\n                    <div class=\"form-group\">\\r\\n                        <label><%= localization.SearchText %></label>\\r\\n                        <span class=\"k-textbox k-space-right object-picker-search\">\\r\\n                            <input type=\"text\" data-objectpicker-action=\"search\" data-objectpicker-action-value=\"search\" value=\"\" data-cid=\"MultiObjectPickerWindowSearchBox\" />\\r\\n                            <span data-objectpicker-action=\"search\" class=\"fa fa-search text-primary cursor-pointer\"></span>\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\"col-md-5\">\\r\\n                    <div class=\"form-group\">\\r\\n                        <label><%= localization.SearchObjectText %></label>\\r\\n                        <input type=\"text\" data-objectpicker-control=\"comboBox\">\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <label><%= localization.SelectObjects %></label>\\r\\n\\r\\n            <div class=\"objectPicker-container\">\\r\\n                <div class=\"k-widget k-grid k-secondary\" data-objectpicker-control=\"objectPickerGrid\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"objectPicker-actions\">\\r\\n                <button data-objectpicker-action=\"addObject\" class=\"btn btn-primary k-button\" data-cid=\"multiobject-picker-add-object-btn\"><%= localization.Add %></button>\\r\\n                <button data-objectpicker-action=\"removeObject\" class=\"btn btn-danger k-button\" data-cid=\"multiobject-picker-remove-object-btn\"><%= localization.Remove %></button>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"k-widget k-grid k-secondary objectPicker-grid2-container\" data-objectpicker-control=\"objectPickerGrid2\"></div>\\r\\n        </div>\\r\\n        <div class=\"cireson-window--footer window-buttons\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }\"\\r\\n                    data-cid=\"multiobject-picker-ok-btn\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }\"\\r\\n                    data-cid=\"multiobject-picker-cancel-btn\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nmultipleObjectPickerPopup\r\n**/\r\n\r\ndefine('forms/popups/multipleObjectPickerPopup/controller',['require','text!forms/popups/multipleObjectPickerPopup/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/popups/multipleObjectPickerPopup/view.html\");\r\n    var singletonName = \"objectPickerPopup\"; // used to call for singleton\r\n    var definition = {\r\n        template: tpl,\r\n        getPopup: function (classId, columnNames, gridUrl, dataSourceFilter, isConfigItem) {\r\n            var built = _.template(tpl);\r\n            var templateFrag = $(built());\r\n            //var classId = classId;\r\n            //var columnNames = columnNames;\r\n            //var gridUrl = gridUrl;\r\n            // keep popup window as singleton\r\n            // check to see if dom element exists, if so get userPickerPopup object from it\r\n            var ele = $('[datasingleton=\"' + singletonName + '\"]');\r\n            var objectPickerPopup = ele.data(singletonName);\r\n            if (!ele.length) {\r\n                ele = templateFrag;\r\n                $(\"body\").append(ele);\r\n                objectPickerPopup = new ObjectPickerPopup(ele, classId, columnNames, gridUrl, dataSourceFilter, isConfigItem);\r\n                ele.data(singletonName, objectPickerPopup);\r\n            }\r\n            return objectPickerPopup;\r\n\r\n        }\r\n    }\r\n\r\n    /* -- ObjectPickerPopup --\r\n        // params\r\n            targetEle = domEle to create popup with\r\n        // public methods               \r\n            open = function(classId){ // opens popup with this classId }\r\n            close = function(){ // closes popup }\r\n            setSaveCallback = function(callback) sets callback to listen for save event\r\n            // callback(obj){  } returns selected user object\r\n    */\r\n    \r\n    // CONTROL\r\n    var ObjectPickerPopup = function (targetEle, classId, columnNames, gridUrl, dataSourceFilter, isConfigItem) {\r\n        var self = this;\r\n        var html = targetEle;\r\n        var classId = classId;\r\n        var columnNames = columnNames;\r\n        var controllerUrl = gridUrl;\r\n        var filter = dataSourceFilter;\r\n        var isConfigItem = isConfigItem;\r\n        var popup;\r\n        var _vm;\r\n\r\n        // model getters/setters\r\n        // Props return from grid search to match to generic model\r\n        var _textProp = \"DisplayName\";\r\n        var _idProp = \"Id\";\r\n       // var _model = new NameIdModel(_textProp, _idProp);\r\n\r\n        // getter/setters        \r\n        this.setSaveCallback = function (callback) {\r\n            $(self).unbind(\"save\")\r\n                .bind(\"save\", function (e, objects) { callback(objects); });\r\n        }\r\n        this.setCancelCallback = function (callback) {\r\n            $(self).unbind(\"cancel\")\r\n                .bind(\"cancel\", function (e, objects) { callback(objects); });\r\n        }\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n            _vm = kendo.observable({\r\n                save: onSaveClick,\r\n                cancel: onCancelClick\r\n            });\r\n            kendo.bind(html, _vm);\r\n            createPopup();\r\n            bindEvents();\r\n            self.open = openPopup;\r\n            self.close = closePopup;\r\n        }\r\n\r\n        /************************/\r\n        /*** CONTROL EVENTS *****/\r\n        /************************/\r\n\r\n        var bindEvents = function () {\r\n\r\n        }\r\n\r\n        /******************************/\r\n        /*** CONTROL USER ACTIONS *****/\r\n        /******************************/\r\n\r\n        var onSaveClick = function () {\r\n            var selectedRows = popup.grid2.dataSource.data();\r\n            if (selectedRows) {\r\n                $.each(selectedRows, function (i, itm) {\r\n                    if (_.isUndefined(itm.BaseId)) { itm.BaseId = itm.Id;}\r\n                    $(self).trigger(\"save\", itm);\r\n                });\r\n                closePopup();\r\n            }\r\n        }\r\n        var onCancelClick = function () {\r\n            $(self).trigger(\"cancel\");\r\n            closePopup();\r\n        }\r\n\r\n        /*************************/\r\n        /*** CONTROL METHODS *****/\r\n        /*************************/\r\n\r\n        var openPopup = function () {\r\n            popup.actions.clearSearchText();\r\n            popup.gridFunctions.clear();\r\n            popup.kendoWindow.open();\r\n        }\r\n        var closePopup = function () {\r\n            popup.kendoWindow.close();\r\n        }\r\n        var createPopup = function () {\r\n            popup = new Popup();\r\n        }\r\n\r\n        /****************************/\r\n        /*** CONTROL SUBCLASSES *****/\r\n        /****************************/\r\n\r\n        /* -- Popup --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n               \r\n        */\r\n        var Popup = function () {\r\n            var self = this;\r\n            var kendoWindow;\r\n\r\n            var gridUrl = (!_.isUndefined(controllerUrl) && !_.isNull(controllerUrl)) ? controllerUrl : \"/Search/GetSearchObjectsWithEnumObjectByClassId\";\r\n            var comboUrl = \"/Search/GetSearchClasses\";\r\n            var combo;\r\n            var grid;\r\n            var grid2;\r\n            var searchText;\r\n            var gridFunctions;\r\n            var actions;\r\n            var outObjs = new kendo.data.ObservableArray([]);\r\n            // CONSTRUCT\r\n            var __construct = function () {\r\n                createKendoWindow();\r\n                createCombo();\r\n                createGrid();\r\n                createGrid2();\r\n                bindEvents();\r\n                self.kendoWindow = kendoWindow;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            // ACTIONS\r\n           \r\n\r\n            var callback = function () { }\r\n\r\n            var actions = new (function () {\r\n                this.addObject = function () {\r\n                    var selected = grid.select();\r\n                    for (var i = 0, max = selected.length; i < max; i++) {\r\n                        var item = grid.dataItem(selected[i]);\r\n                        if (item) grid2Funcs.addItem(item);\r\n                    }\r\n\r\n                    //var item = grid.dataItem(grid.select());\r\n                    //if (item) grid2Funcs.addItem(item);\r\n                }\r\n                this.removeObject = function () {\r\n                    //grid2.removeRow(grid2.select());\r\n                    var selected = grid2.select();\r\n                    for (var i = 0, max = selected.length; i < max; i++) {\r\n                        grid2.removeRow(selected[i]);\r\n                    }\r\n                }\r\n                this.search = function () {\r\n                    var ele = html.find('[data-objectpicker-action-value=\"search\"]');\r\n                    searchText = (ele) ? ele.val() : \"\";\r\n                    grid.dataSource.read();\r\n\r\n                    //used on RelatesToWorkItem relatinship, exclude current workitem from list\r\n                    if (!_.isUndefined(filter) && !_.isNull(filter)) {\r\n                        grid.dataSource.filter(filter);\r\n                    }\r\n                    grid.dataSource.page(1);\r\n                }\r\n                this.clearSearchText = function () {\r\n                    html.find('[data-objectpicker-action-value=\"search\"]').val('');\r\n                    searchText = \"\";\r\n                }\r\n            })();\r\n            self.actions = actions;\r\n\r\n            var gridFuncs = new (function () {\r\n                this.searchFilter = function () {\r\n                    return { searchFilter: searchText, classId: comboFuncs.getIdValue, columnNames: columnNames };\r\n                }\r\n                this.onChange = function () {\r\n\r\n                }\r\n                this.onDataBound = function () {\r\n                    if (grid.dataSource.totalPages() == 1) {\r\n                        grid.pager.element.hide();\r\n                    }\r\n                }\r\n                this.clear = function () {\r\n                    self.grid.dataSource.data([]);\r\n                    while (outObjs.length != 0) {\r\n                        $.each(self.grid2.items(), function (ii, iitem) {\r\n                            self.grid2.removeRow(iitem)\r\n                        });\r\n                    }\r\n                }\r\n                this.dblClick = function () {\r\n                    // $(this) add to grid 2\r\n                    grid2Funcs.addItem(grid.dataItem($(this)));\r\n                }\r\n                \r\n            })();\r\n            self.gridFunctions = gridFuncs;\r\n\r\n            var grid2Funcs = new (function () {\r\n                this.addItem = function (item) {\r\n                    var a = true;\r\n                    $.each(outObjs, function (i, itm) {\r\n                        if (item.uid == itm.uid) {\r\n                            a = false;\r\n                        }\r\n                    })\r\n                    if (a) outObjs.push(item);\r\n                }\r\n            })();\r\n\r\n            var comboFuncs = new (function () {\r\n                this.getIdValue = function () {\r\n                    var item1 = self.combo.value();\r\n                    return !_.isNull(item1) ? item1 : classId.toLowerCase();\r\n                }\r\n            })();\r\n\r\n            // METHODS\r\n            var createKendoWindow = function () {\r\n                kendoWindow = html.kendoCiresonWindow({\r\n                    title: localization.SelectObject,\r\n                    content: null,\r\n                    width: 750,\r\n                    height: 710,\r\n                    actions: [\"Close\"],\r\n                    activate: function () {\r\n                        self.combo.value(classId.toLowerCase());\r\n                    }\r\n                }).data(\"kendoWindow\");\r\n            }\r\n\r\n\r\n            //combo\r\n            var createCombo = function () {\r\n                self.combo = html.find(\"[data-objectpicker-control='comboBox']\").kendoComboBox({\r\n                    \"dataSource\": {\r\n                        \"transport\": {\r\n                            \"prefix\": \"\",\r\n                            \"read\": {\r\n                                \"url\": comboUrl,\r\n                                \"data\": { classId: classId }\r\n                            }\r\n                        },\r\n                        \"schema\": {\r\n                            \"errors\": \"Errors\"\r\n                        }\r\n                    },\r\n                    \"dataTextField\": \"Item2\",\r\n                    \"autoBind\": true,\r\n                    \"dataValueField\": \"Item1\",\r\n                    \"filter\": \"contains\"\r\n                }).data(\"kendoComboBox\");\r\n            }\r\n\r\n            //first grid\r\n            var createGrid = function () {\r\n                var gc = html.find('[data-objectpicker-control=\"objectPickerGrid\"]');\r\n                var gridSettings = function () {\r\n                    var dataSource = {\r\n                        \"transport\": {\r\n                            \"prefix\": \"\",\r\n                            \"read\": {\r\n                                \"url\": gridUrl,\r\n                                \"data\": gridFuncs.searchFilter,\r\n                                \"type\": \"GET\",\r\n                                \"cache\": false\r\n                            }\r\n                        },\r\n                        \"pageSize\": 5,\r\n                        \"type\": \"aspnetmvc-ajax\",\r\n                        \"schema\": {\r\n                            \"data\": \"Data\",\r\n                            \"total\": \"Total\",\r\n                            \"errors\": \"Errors\",\r\n                        }\r\n                    }\r\n                    var columns = [\r\n                        {\r\n                            \"title\": \"Id\",\r\n                            \"hidden\": true,\r\n                            \"field\": \"Id\",\r\n                            \"filterable\": { },\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.DisplayName,\r\n                            \"attributes\": {\r\n                                \"class\": \"grid-highlight-column\"\r\n                            },\r\n                            \"field\": \"DisplayName\",\r\n                            \"filterable\": { },\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.Class,\r\n                            \"field\": \"FullClassName\",\r\n                            \"hidden\": app.isMobile(),\r\n                            \"filterable\": { },\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.Path,\r\n                            \"field\": \"Path\",\r\n                            \"hidden\": app.isMobile(),\r\n                            \"filterable\": { },\r\n                            \"encoded\": true\r\n                        }\r\n                    ];\r\n                    var userClassId = \"10a7f898-e672-ccf3-8881-360bfb6a8f9a\";\r\n                    var userColumns = [\r\n                       {\r\n                           \"title\": localization.FirstName,\r\n                           \"attributes\": {\r\n                               \"class\": \"grid-highlight-column\"\r\n                           },\r\n                           \"field\": \"FirstName\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       }, {\r\n                           \"title\": localization.LastName,\r\n                           \"attributes\": {\r\n                               \"class\": \"grid-highlight-column\"\r\n                           },\r\n                           \"field\": \"LastName\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       }, {\r\n                           \"title\": localization.Title,\r\n                           \"field\": \"Title\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       }, {\r\n                           \"title\": localization.UserName,\r\n                           \"field\": \"UserName\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       },{\r\n                           \"title\": localization.Domain,\r\n                           \"field\": \"Domain\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       },{\r\n                           \"title\": localization.Company,\r\n                           \"field\": \"Company\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       }\r\n                    ];\r\n                    return {\r\n                        \"columns\": (classId.toLowerCase() == userClassId) ? userColumns : columns,\r\n                        \"sortable\": {\r\n                            \"mode\": \"multiple\"\r\n                        },\r\n                        \"selectable\": \"Multiple, Row\",\r\n                        \"filterable\": {\r\n                            \"operators\": {\r\n                                \"string\": {\r\n                                    \"startswith\": localization.Startswith,\r\n                                    \"contains\": localization.Contains,\r\n                                    \"eq\": localization.Isequalto,\r\n                                    \"neq\": localization.Isnotequalto\r\n                                }\r\n                            }\r\n                        },\r\n                        \"columnMenu\": false,\r\n                        \"autoBind\": false,\r\n                        \"dataSource\": dataSource,\r\n                        \"pageable\": true\r\n                    }\r\n                }\r\n                grid = gc.kendoGrid(gridSettings()).data(\"kendoGrid\");\r\n                gridFuncs.onDataBound();\r\n                gc.on(\"dblclick\", \"tbody>tr\", gridFuncs.dblClick);\r\n                self.grid = grid;\r\n            }\r\n\r\n            //second grid\r\n            var createGrid2 = function () {\r\n                var gc = html.find('[data-objectpicker-control=\"objectPickerGrid2\"]');\r\n                var dataSource = {\r\n                    \"transport\": {\r\n                        \"prefix\": \"\",\r\n                        \"read\": {\r\n                            \"url\": \"\"\r\n                        }\r\n                    },\r\n                    \"pageSize\": 5,\r\n                    \"type\": \"aspnetmvc-ajax\",\r\n                    data: {\r\n                        Data: outObjs,\r\n                        Total: outObjs.length\r\n                    },\r\n                    \"schema\": {\r\n                        \"data\": \"Data\",\r\n                        \"total\": \"Total\",\r\n                        \"errors\": \"Errors\",\r\n                    }\r\n                }\r\n                var columns = [\r\n                        {\r\n                            \"title\": \"Id\",\r\n                            \"hidden\": true,\r\n                            \"field\": \"Id\",\r\n                            \"filterable\": {},\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.DisplayName,\r\n                            \"attributes\": {\r\n                                \"class\": \"grid-highlight-column\"\r\n                            },\r\n                            \"field\": \"DisplayName\",\r\n                            \"filterable\": {},\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.Class,\r\n                            \"field\": \"FullClassName\",\r\n                            \"hidden\": app.isMobile(),\r\n                            \"filterable\": {},\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.Path,\r\n                            \"field\": \"Path\",\r\n                            \"hidden\": app.isMobile(),\r\n                            \"filterable\": {},\r\n                            \"encoded\": true\r\n                        }\r\n                ];\r\n                var userClassId = \"10a7f898-e672-ccf3-8881-360bfb6a8f9a\";\r\n                var userColumns = [\r\n                   {\r\n                       \"title\": localization.FirstName,\r\n                       \"attributes\": {\r\n                           \"class\": \"grid-highlight-column\"\r\n                       },\r\n                       \"field\": \"FirstName\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.LastName,\r\n                       \"attributes\": {\r\n                           \"class\": \"grid-highlight-column\"\r\n                       },\r\n                       \"field\": \"LastName\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.Title,\r\n                       \"field\": \"Title\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.UserName,\r\n                       \"field\": \"UserName\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.Domain,\r\n                       \"field\": \"Domain\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.Company,\r\n                       \"field\": \"Company\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }\r\n                ];\r\n                grid2 = gc.kendoGrid({\r\n                    \"columns\": (classId.toLowerCase() == userClassId) ? userColumns : columns,\r\n                    \"pageable\": true,\r\n                    \"dataSource\": dataSource,\r\n                    \"selectable\": \"Multiple, Row\",\r\n                    \"filterable\": {\r\n                        \"operators\": {\r\n                            \"string\": {\r\n                                \"startswith\": localization.Startswith,\r\n                                \"contains\": localization.contains,\r\n                                \"eq\": localization.Isequalto,\r\n                                \"neq\": localization.Isnotequalto\r\n                            }\r\n                        }\r\n                    },\r\n\r\n                    \"columnMenu\": false\r\n                }).data(\"kendoGrid\");\r\n\r\n                self.grid2 = grid2;\r\n            }\r\n\r\n            //bind events\r\n            var bindEvents = function () {\r\n                html.find('[data-objectpicker-action]').each(function (i, ele) {\r\n                    var action = $(this).attr('data-objectpicker-action');\r\n                    var nd = ele.nodeName.toLowerCase();\r\n                    if (!actions[action]) { app.lib.exception(\"The method action.\" + action + \" does not exist\"); }\r\n                    if ((nd == \"input\" && $(this).attr(\"type\").toLowerCase() == \"text\") || nd == \"textarea\") {\r\n                        $(this).bind('enter', actions[action]);\r\n                    } else {\r\n                        $(this).click(actions[action]);\r\n                    }\r\n                });\r\n            }\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /*************/\r\n        /*** END *****/\r\n        /*************/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        __construct();\r\n\r\n\r\n    }\r\n    return definition;\r\n\r\n});\n","/**\naffectedItems\n**/\n\ndefine('CustomSpace/Scripts/forms/predefined/affectedItems/controller',['require','text!forms/predefined/affectedItems/view.html','forms/popups/multipleObjectPickerPopup/controller'],function (require) {\n    var tpl = require(\"text!forms/predefined/affectedItems/view.html\");\n    var objectPickerPopup = require(\"forms/popups/multipleObjectPickerPopup/controller\");\n\n    var definition = {\n        template: tpl,\n        build: function (vm, node, callback) {\n            var built = _.template(tpl);\n            var properties = {\n                Disabled: !_.isUndefined(node.disabled) ? node.disabled : false\n            };\n\n            $.extend(true, properties, node);\n\n            var view = new kendo.View();\n\n            var cur_table = false;\n\n            //use setters and getters if you want vm boundOdj to trigger change\n            if (_.isUndefined(vm.HasRelatedWorkItems)) {\n                vm.set('HasRelatedWorkItems', new kendo.data.ObservableArray([]));\n            }\n            var boundArray = vm.get('HasRelatedWorkItems');\n\n            vm.view.affectedItemController = new kendo.observable({\n                addConfigItem: function (e) {\n                    if (!_.isUndefined(this.selectedConfigItemId)) { addAffectedItem(this.selectedConfigItemId); }\n                },\n                searchConfigItem: function () {\n                    var popupWindow = objectPickerPopup.getPopup(\"62F0BE9F-ECEA-E73C-F00D-3DD78A7422FC\", \"DisplayName,Path,Status\", null, null, true);\n                    popupWindow.setSaveCallback(function (object) {\n                        addAffectedItem(object.BaseId);\n                    });\n                    popupWindow.open();\n                },\n                selectedConfigItemId: \"\",\n                selectedConfigItem: \"\",\n                configItemDataSource: new kendo.data.DataSource({\n                    serverFiltering: true,\n                    transport: {\n                        read: {\n                            url: function (data) {\n                                var configItem = (data.filter.filters.length > 0) ? data.filter.filters[0].value : \"\";\n                                return \"/api/V3/Config/GetAffectedItemsList?itemFilter=\" + configItem;\n                            },\n                            dataType: \"json\"\n                        }\n                    }\n                }),\n                onConfigItemChange: function (e) {\n                    var dataItem = e.sender.dataItem(e.sender.selectedIndex);\n                    if (!_.isUndefined(dataItem))\n                        this.selectedConfigItemId = dataItem.Id;\n                },\n                isUserCIVisible: !_.isUndefined(vm.RequestedWorkItem) ? true : false,\n                selectedUserConfigItemId: \"\",\n                selectedUserConfigItem: \"\",\n                addUserConfigItem: function (e) {\n                    if (!_.isUndefined(this.selectedUserConfigItemId)) { addAffectedItem(this.selectedUserConfigItemId); }\n                },\n                userConfigItemDataSource: new kendo.data.DataSource({\n                    serverFiltering: true,\n                    transport: {\n                        read: {\n                            url: \"/ConfigItems/GetAffectedUserConfigItemsList\",\n                            data: {\n                                affectedUserId: function () {\n                                    return !_.isUndefined(vm.RequestedWorkItem) && !_.isNull(vm.RequestedWorkItem.BaseId) ? vm.RequestedWorkItem.BaseId : \"\";\n                                }\n                            },\n                            dataType: \"json\",\n                            type: \"GET\"\n                        },\n                        parameterMap: function (data) {\n                            var searchFilter = (data.filter && data.filter.filters.length > 0) ? data.filter.filters[0].value : \"\";\n                            return _.extend(data, { searchFilter: searchFilter });\n                        }\n                    }\n                }),\n                onUserConfigItemChange: function (e) {\n                    var dataItem = e.sender.dataItem(e.sender.selectedIndex);\n                    if (!_.isUndefined(dataItem))\n                        this.selectedUserConfigItemId = dataItem.Id;\n                },\n                dataSource: new kendo.data.DataSource({\n                    schema: {\n                        data: \"Data\",\n                        total: \"Total\",\n                        errors: \"Errors\",\n                        model: {\n                            id: \"BaseId\",\n                        }\n                    },\n                    data: {\n                        Data: boundArray,\n                        Total: boundArray.length\n                    }\n                }),\n                showMoreInfo: function (e) {\n                    var detailsPopupEle = $(\"<div>\");\n                    detailsPopupEle.appendTo(\"body\");\n\n                    var detailsPopup = detailsPopupEle.kendoCiresonWindow({\n                        title: \"\",\n                        width: 550,\n                        height: 500,\n                        actions: [\"Close\"]\n                    }).data(\"kendoWindow\");\n\n                    var baseId = null;\n                    var displayName = \"\";\n                    if (e.data == null && e.BaseId != null) {\n                        baseId = e.BaseId;\n                        displayName = e.DisplayName;\n                    } else {\n                        baseId = e.data.BaseId;\n                        displayName = e.data.DisplayName;\n                    }\n\n                    detailsPopup.refresh({\n                        url: \"/Search/ObjectViewer\",\n                        data: { id: baseId }\n                    });\n                    detailsPopupEle.find(\".k-content\").html(\"<div style='padding: 55px'>Loading...</div>\");\n                    detailsPopup.title(displayName).center().open();\n                },\n                onDataBinding: function (e) {\n                    cur_table = e.sender.table;\n                    _.each(boundArray, function (item) {\n                        item.AssetStatus = (!_.isUndefined(item.AssetStatus) && !_.isNull(item.AssetStatus))? item.AssetStatus : { Id: null, Name: null };\n                        item.Status = (!_.isUndefined(item.Status) && !_.isNull(item.Status)) ? item.Status : { Id: null, Name: null };\n                        item.Hidden = properties.Disabled;\n                    });\n                },\n                isDesktopView: !app.isMobileDevice(),\n                isMobileView: app.isMobileDevice(),\n                isWindowsComputer: false,\n                isConfigItemWindowsComputer: function (id) {\n                    $.ajax({\r\n                        type: \"GET\",\n                        async: false,\n                        url: \"/ConfigItems/IsComputer\",\n                        data: { objectId: id },\n                        success: function (result) {\r\n                            vm.view.affectedItemController.isWindowsComputer = (result.toLowerCase() === \"true\");\r\n                        }\r\n                    });\n                },\n                isUser: false,\n                isConfigItemUser: function (id) {\n                    // Replaced IsUser call due to large delays in returning data\n                    /*\n                    $.ajax({\r\n                        type: \"GET\",\n                        async: false,\n                        url: \"/ConfigItems/IsUser\",\n                        data: { objectId: id },\n                        success: function (result) {\r\n                            vm.view.affectedItemController.isUser = (result.toLowerCase() === \"true\");\r\n                        }\r\n                    });\n                    */\n                    $.ajax({\n                        type: \"GET\",\n                        async: false,\n                        url: \"/Search/GetObjectProperties\",\n                        data: {\n\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t},\n                        success: function (result) {\n                            vm.view.affectedItemController.isUser = (result.IsUser === true);\n                        }\n                    });\n                },\n                isMoreInfo: function (viewModel) {\n                    var bSlideOut = vm.view.affectedItemController.isSlideOut(viewModel);\n                    return !bSlideOut;\n                },\n                isSlideOut: function (viewModel) {\n                    // Replaced unneeded calls to IsUser/IsWindowsComputer\n                    /*\n                    vm.view.affectedItemController.isConfigItemWindowsComputer(viewModel.BaseId);\n                    vm.view.affectedItemController.isConfigItemUser(viewModel.BaseId);\n\n                    var bIsWindowsComputer = vm.view.affectedItemController.isWindowsComputer;\n                    var bIsUser = vm.view.affectedItemController.isUser;\n                    */\n                    // Get IsUser Result\n                    vm.view.affectedItemController.isConfigItemUser(viewModel.BaseId);\n\t\t\t\t\tvar bIsUser = vm.view.affectedItemController.isUser;\n\n                    // Set Default IsWindowsComputer Result\n                    vm.view.affectedItemController.isWindowsComputer = false;\n\t\t\t\t\tvar bIsWindowsComputer = false;\n\n                    // If ConfigItem is not a user then check if it is a computer\n                    if (!bIsUser) {\n                        // Get IsWindowsComputer Result\n                        vm.view.affectedItemController.isConfigItemWindowsComputer(viewModel.BaseId);\n                        bIsWindowsComputer = vm.view.affectedItemController.isWindowsComputer;\n                    }\n\n                    var hasControlCenterURL = !_.isNull(session.consoleSetting.TrueControlCenterURL) && (session.consoleSetting.TrueControlCenterURL != \"\");\n\n                    return ((bIsWindowsComputer || bIsUser) && hasControlCenterURL) ? true : false;\n                },\n                showTCCInfo: function (dataItem) {\n                    var src = session.consoleSetting.TrueControlCenterURL;\n                    var bIsWindowsComputer = vm.view.affectedItemController.isWindowsComputer;\n                    var bIsUser = vm.view.affectedItemController.isUser;\n                    var tooltip = localization.ComputerManagement;\n\n                    if (bIsWindowsComputer) {\r\n                        src = app.slideOutNav.getTCCSourceURL(dataItem, \"computer\");\r\n                    } else if (bIsUser) {\r\n                        src = app.slideOutNav.getTCCSourceURL(dataItem, \"user\");\n                        tooltip = localization.UserManagement;\r\n                    }\n\n                    var options = {\r\n                        url: src,\r\n                        tooltip: tooltip\r\n                    }\n                    app.slideOutNav.show(options);\n                },\n                onContextmenuSelect: function (e) {\n                    var type = e.item.attributes[\"custom\"].value;\n                    var baseId = e.target.attributes[\"data-base-id\"].value;\n                    var dataItem = _.find(e.data.HasRelatedWorkItems, function (item) { return item.BaseId == baseId; });\n\n                    (type == \"slideout\") ? vm.view.affectedItemController.showTCCInfo(dataItem) : vm.view.affectedItemController.showMoreInfo(dataItem);\n                },\n                onContextmenuActivate: function (e) {\n                    var baseId = e.target.attributes[\"data-base-id\"].value;\n                    // Replaced unneeded calls to IsUser/IsWindowsComputer\n                    /*\n                    vm.view.affectedItemController.isConfigItemWindowsComputer(baseId);\n                    vm.view.affectedItemController.isConfigItemUser(baseId);\n                    */\n                    // Get IsUser Result\n                    vm.view.affectedItemController.isConfigItemUser(baseId);\n                    vm.view.affectedItemController.isWindowsComputer = false;\n\n                    // If ConfigItem is not a user then check if it is a computer\n                    if (!vm.view.affectedItemController.isUser) {\n                        vm.view.affectedItemController.isConfigItemWindowsComputer(baseId);\n                    }\n\n                    var managementTitle = localization.UserManagement;\n                    if (vm.view.affectedItemController.isWindowsComputer) {\n                        managementTitle = localization.ComputerManagement;\n                    }\n\n                    var menuItems = [{\n                        text: managementTitle,\n                        imageUrl: \"/Content/Images/Icons/Other/control-center-launcher.png\",\n                        imageAttr: {\n                            height: '16px',\n                            width: '16px'\n                        },\n                        attr: {\n                            custom: 'slideout' //custom attribute holds the link type\n                        }\n                    },\n                     {\n                         text: \"<i class='fa fa-info-circle cursor-pointer'></i>\" + localization.AdditionalDetails,\n                         encoded: false,\n                         attr: {\n                             custom: 'info' //custom attribute holds the link type\n                         }\n                     }];\n\n                    var contextmenu = $(\"#tccmenu\").data(\"kendoContextMenu\");\n                    contextmenu.setOptions({\n                        dataSource: menuItems\n                    });\n                }\n\n            });\n\n            var grid = vm.view.affectedItemController;\n\n            grid.dataSource.originalFilter = grid.dataSource.filter;\n\n            // Replace the original filter function.\n            grid.dataSource.filter = function () {\n\n                // Call the original filter function.\n                var result = grid.dataSource.originalFilter.apply(this, arguments);\n\n                // If a column is about to be filtered, then raise a new \"filtering\" event.\n                if (arguments.length > 0) {\n                    this.trigger(\"filterApplied\", arguments);\n                }\n\n                return result;\n            }\n\n            grid.dataSource.bind(\"filterApplied\", function () {\n\n                $.each($(cur_table).find(\"th a.k-header-column-menu i\"), function () {\n                    $(this).remove();\n                });\n\n                if (grid.dataSource.filter()) {\n\n                    var filters = grid.dataSource.filter().filters || [];\n                    var dsFilters = [];\n                    for (var i in filters) {\n                        if (filters[i].filters) {\n                            var innerFilters = filters[i].filters;\n                            for (var x in innerFilters) {\n                                dsFilters.push(innerFilters[x]);\n                            }\n                        } else {\n                            dsFilters.push(filters[i]);\n                        }\n                    }\n\n                    dsFilters = _.uniq(dsFilters, function (el) { return el.field; });\n\n                    for (var i in dsFilters) {\n                        $(cur_table).find(\"th[data-field=\" + dsFilters[i].field + \"] a.k-header-column-menu\").append(\"<i class=\\\"fa fa-filter\\\"></i>\");\n                    }\n\n                }\n            });\n\n            var templateFrag = built(properties);\n            view = new kendo.View(templateFrag, { wrap: true, model: vm.view.affectedtemController });\n            callback(templateFrag);\n\n            if (vm.view.affectedItemController.isUserCIVisible) {\n                vm.RequestedWorkItem.bind(\"change\", function (e) {\n                    vm.view.affectedItemController.userConfigItemDataSource.read();\n                });\n            }\n\n            //more functions\n            var isDuplicate = function (idToAdd) {\n                var n = false;\n                $.each(boundArray, function (i, item) {\n                    if (item.BaseId == idToAdd) {\n                        n = true;\n                    }\n                });\n                return n;\n            }\n\n            var addAffectedItem = function (baseId) {\n                if (isDuplicate(baseId)) { return; }\n                $.getJSON('/ConfigItems/GetAffectedItem', { id: baseId }, function (json) {\n                    var item = {\n                        BaseId: baseId,\n                        DisplayName: json.DisplayName,\n                        ClassName: json.ObjectClassName,\n                        Path: json.Path,\n                        AssetStatus: !_.isUndefined(json.AssetStatus) ? (json.AssetStatus != null) ? json.AssetStatus : \"\" : { Name: !_.isUndefined(json.AssetStatus) ? json.AssetStatus : \"\" },\n                        Status: !_.isUndefined(json.Status) ? (json.Status != null) ? json.Status : \"\" : { Name: !_.isUndefined(json.Status) ? json.Status : \"\" }\n                    };\n                    boundArray.push(item);\n                });\n            }\n        }\n    }\n\n    return definition;\n\n});\n","\ndefine('text!forms/predefined/relatedItems/view.html',[],function () { return '<div id=\"relatedItemTemplate\" data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileGridTemplate\" class=\"\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">#: DisplayName #</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <p>#: (typeof AssetStatus!=\"undefined\") ? !_.isUndefined(AssetStatus.Name)?AssetStatus.Name:\"\" : \"\" #</p>\\r\\n                <p># if ((typeof AssetStatus!=\"undefined\") && !_.isUndefined(AssetStatus.Name)) { # &middot # } # </p>\\r\\n                <p>#: (Path!=null ) ? Path : \"\" # </p>\\r\\n                <p># if (Path!=null && Path!=\"\") { # &middot # } # </p>\\r\\n                \\r\\n            </div>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <a class=\"k-delete-button\">#: localization.Remove #</a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12 relateditems-grid\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-md-6\">\\r\\n                <div class=\"form-group\">\\r\\n                    <label class=\"control-label\"><%= localization.Configurationitem %></label>\\r\\n                    <div class=\"two-action-input-group\">\\r\\n                        <input data-role=\"combobox\" class=\"search-combo\"\\r\\n                               data-placeholder=\"<%= localization.ChooseOne %>\"\\r\\n                               data-value-primitive=\"true\"\\r\\n                               data-text-field=\"Text\"\\r\\n                               data-value-field=\"Value\"\\r\\n                               data-filter=\"contains\"\\r\\n                               data-auto-bind=\"false\"\\r\\n                               data-bind=\"value: view.relatedItemController.selectedConfigItem, source: view.relatedItemController.configItemDataSource, events:{change:view.relatedItemController.onConfigItemChange }\"\\r\\n                               <% if ( Disabled ){ %> disabled <% } %>/>\\r\\n\\r\\n                        <span data-bind=\"events:{click: view.relatedItemController.searchConfigItem}\"\\r\\n                              data-cid=\"relatedItemsSearchIcon\"\\r\\n                          <% if ( Disabled ){ %> disabled class=\"search search-disabled\" <% } else{ %> class=\"search\" <% } %>\\r\\n                          >\\r\\n                        <i class=\"fa fa-search\"></i>\\r\\n                    </span>\\r\\n                        <button data-role=\"button\" class=\"search-button two-action-input-group__primary-action\"\\r\\n                                data-bind=\"events:{click: view.relatedItemController.addConfigItem}\"\\r\\n                                data-cid=\"relatedItemSearchAddBbtn\"\\r\\n                            <% if ( Disabled ){ %> disabled <% } %>\\r\\n                            >\\r\\n                        <%= localization.Add %>\\r\\n                    </button>\\r\\n                    </div>\\r\\n                 </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-6\">\\r\\n                <div class=\"form-group affected-user-item-search\" data-bind=\"visible: view.relatedItemController.isUserCIVisible\">\\r\\n                    <label class=\"control-label\"><%= localization.AffectedUserItems %></label>\\r\\n                    <div class=\"two-action-input-group\">\\r\\n                        <input data-role=\"combobox\" class=\"search-combo\"\\r\\n                               data-placeholder=\"<%= localization.ChooseOne %>\"\\r\\n                               data-value-primitive=\"true\"\\r\\n                               data-text-field=\"Text\"\\r\\n                               data-value-field=\"Value\"\\r\\n                               data-filter=\"contains\"\\r\\n                               data-auto-bind=\"false\"\\r\\n                               data-bind=\"value: view.relatedItemController.selectedUserConfigItem, source: view.relatedItemController.userConfigItemDataSource, events:{change:view.relatedItemController.onUserConfigItemChange }\"\\r\\n                               data-cid=\"affectedItemsUserItemBox\"\\r\\n                               <% if ( Disabled ){ %> disabled <% } %> />\\r\\n\\r\\n                        <button class=\"two-action-input-group__primary-action\"\\r\\n                                data-role=\"button\"\\r\\n                                data-bind=\"events:{click: view.relatedItemController.addUserConfigItem}\"\\r\\n                            <% if ( Disabled ){ %> disabled <% } %>\\r\\n                            >\\r\\n                        <%= localization.Add %>\\r\\n                    </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div data-role=\"grid\"\\r\\n             data-bind=\"visible: view.relatedItemController.isDesktopView, source: view.relatedItemController.dataSource, events:{dataBinding: view.relatedItemController.onDataBinding}\"\\r\\n             data-selectable=\"false\"\\r\\n             data-sortable=\"true\"\\r\\n             data-filterable=\"true\"\\r\\n             data-scrollable=\"false\"\\r\\n             data-column-menu=\"true\"\\r\\n             data-pageable=\"false\"\\r\\n             data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n             data-columns=\\'[\\r\\n                    { title: \"\", width: \"1%\", template: \"\\\\u003cdiv data-base-id=\\\\\"#=BaseId#\\\\\" class=\\\\\"ci-context-menu open-modal pull-right\\\\\" data-bind=\\\\\"visible: view.relatedItemController.isSlideOut\\\\\"\\\\u003e\\\\u003ci class=\\\\\"fa fa-info-circle\\\\\"\\\\u003e\\\\u003c/i\\\\u003e\\\\u003c/div\\\\u003e\\\\u003cdiv class=\\\\\"open-modal pull-right\\\\\" data-bind=\\\\\"visible: view.relatedItemController.isMoreInfo, events:{click:view.relatedItemController.showMoreInfo }\\\\\"\\\\u003e\\\\u003ci class=\\\\\"fa fa-info-circle\\\\\"/\\\\u003e\\\\u003c/i\\\\u003e\\\\u003c/div\\\\u003e\"},\\r\\n                    { field: \"DisplayName\", title: localization.DisplayName, width: \"50%\"},\\r\\n                    { field: \"BaseId\", title: localization.BaseId, width: \"25%\", hidden: true },\\r\\n                    { field: \"Path\", title: localization.Path, width: \"25%\" },\\r\\n                    { field: \"AssetStatus.Name\", title: localization.Status, width: \"25%\" },\\r\\n                    { title: localization.Actions, width: \"15%\", command: [{ name: \"destroy\", buttonType: \"ImageAndText\", text: localization.Remove, className:\"custom__grid-remove\" }] }\\r\\n                ]\\'>\\r\\n        </div>\\r\\n        <div data-bind=\"visible: view.relatedItemController.isMobileView\">\\r\\n            <div data-bind=\"mobileGrid: RelatesToConfigItem\" data-template-name=\"mobileGridTemplate\" class=\"mobile-grid-parent\"></div>\\r\\n        </div>\\r\\n        <!--context menu for info icon-->\\r\\n        <ul id=\"tccmenu-related-ci\" data-role=\"contextmenu\" \\r\\n            data-filter=\".ci-context-menu\"\\r\\n            data-show-on=\"click\"\\r\\n            data-bind=\"events:{select:view.relatedItemController.onContextmenuSelect, activate:view.relatedItemController.onContextmenuActivate}\">\\r\\n        </ul>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\nrelatedItems\n**/\n\ndefine('CustomSpace/Scripts/forms/predefined/relatedItems/controller',['require','text!forms/predefined/relatedItems/view.html','forms/popups/multipleObjectPickerPopup/controller'],function (require) {\n    var tpl = require(\"text!forms/predefined/relatedItems/view.html\");\n    var objectPickerPopup = require(\"forms/popups/multipleObjectPickerPopup/controller\");\n\n    var definition = {\n        template: tpl,\n        build: function (vm, node, callback) {\n            var built = _.template(tpl);\n            var properties = {\n                Disabled: !_.isUndefined(node.disabled) ? node.disabled : false\n            };\n\n            $.extend(true, properties, node);\n\n            var view = new kendo.View();\n\n            var cur_table = false;\n\n            //use setters and getters if you want vm boundOdj to trigger change\n            if (_.isUndefined(vm.RelatesToConfigItem)) {\n                vm.set('RelatesToConfigItem', new kendo.data.ObservableArray([]));\n            }\n            var boundArray = vm.get('RelatesToConfigItem');\n\n            vm.view.relatedItemController = new kendo.observable({\n                addConfigItem: function (e) {\n                    if (!_.isUndefined(this.selectedConfigItemId)) {\n                        addAffectedItem(this.selectedConfigItemId);\n                    }\n                },\n                searchConfigItem: function() {\n                    var popupWindow = objectPickerPopup.getPopup(\"62F0BE9F-ECEA-E73C-F00D-3DD78A7422FC\", \"DisplayName,Path,Status\", null, null, true);\n                    popupWindow.setSaveCallback(function(object) {\n                        addAffectedItem(object.BaseId);\n                    });\n                    popupWindow.open();\n                },\n                selectedConfigItemId: \"\",\n                selectedConfigItem: \"\",\n                configItemDataSource: new kendo.data.DataSource({\n                    serverFiltering: true,\n                    transport: {\n                        read: {\n                            url: function (data) {\n                                var configItem = (data.filter.filters.length > 0) ? data.filter.filters[0].value : \"\";\n                                return \"/api/V3/Config/GetAffectedItemsList?itemFilter=\" + configItem;\n                            },\n                            dataType: \"json\"\n                        }\n                    }\n                }),\n                onConfigItemChange: function(e) {\n                    var dataItem = e.sender.dataItem(e.sender.selectedIndex);\n                    if (!_.isUndefined(dataItem))\n                        this.selectedConfigItemId = dataItem.Id;\n                },\n                isUserCIVisible: !_.isUndefined(vm.RequestedWorkItem) ? true : false,\n                selectedUserConfigItemId: \"\",\n                selectedUserConfigItem: \"\",\n                addUserConfigItem: function(e) {\n                    if (!_.isUndefined(this.selectedUserConfigItemId)) {\n                        addAffectedItem(this.selectedUserConfigItemId);\n                    }\n                },\n                userConfigItemDataSource: new kendo.data.DataSource({\n                    serverFiltering: true,\n                    transport: {\n                        read: {\n                            url: \"/ConfigItems/GetAffectedUserConfigItemsList\",\n                            data: { affectedUserId: function() { return !_.isUndefined(vm.RequestedWorkItem) && !_.isNull(vm.RequestedWorkItem.BaseId) ? vm.RequestedWorkItem.BaseId : \"\" } },\n                            dataType: \"json\",\n                            type: \"GET\"\n                        },\n                        parameterMap: function (data) {\n                            var searchFilter = (data.filter && data.filter.filters.length > 0) ? data.filter.filters[0].value : \"\";\n                            return _.extend(data, { searchFilter: searchFilter });\n                        }\n                    }\n                }),\n                onUserConfigItemChange: function(e) {\n                    var dataItem = e.sender.dataItem(e.sender.selectedIndex);\n                    if (!_.isUndefined(dataItem))\n                        this.selectedUserConfigItemId = dataItem.Id;\n                },\n                dataSource: new kendo.data.DataSource({\n                    schema: {\n                        data: \"Data\",\n                        total: \"Total\",\n                        errors: \"Errors\",\n                        model: {\n                            id: \"BaseId\",\n                        }\n                    },\n                    data: {\n                        Data: boundArray,\n                        Total: boundArray.length\n                    }\n                }),\n                showMoreInfo: function (e) {\n                    var detailsPopupEle = $(\"<div>\");\n                    detailsPopupEle.appendTo(\"body\");\n\n                    var detailsPopup = detailsPopupEle.kendoCiresonWindow({\n                        title: \"\",\n                        width: 550,\n                        height: 500,\n                        actions: [\"Close\"]\n                    }).data(\"kendoWindow\");\n\n                    var baseId = null;\n                    var displayName = \"\";\n                    if (e.data == null && e.BaseId != null) {\n                        baseId = e.BaseId;\n                        displayName = e.DisplayName;\n                    } else {\n                        baseId = e.data.BaseId;\n                        displayName = e.data.DisplayName;\n                    }\n\n                    detailsPopup.refresh({\n                        url: \"/Search/ObjectViewer\",\n                        data: { id: baseId }\n                    });\n                    detailsPopupEle.find(\".k-content\").html(\"<div style='padding: 55px'>Loading...</div>\");\n                    detailsPopup.title(displayName).center().open();\n                },\n                onDataBinding: function (e) {\n                    cur_table = e.sender.table;\n                    _.each(boundArray, function(item) {\n                        item.AssetStatus = !_.isUndefined(item.AssetStatus) ? item.AssetStatus : { Id: null, Name: null };\n                        item.Status = !_.isUndefined(item.Status) ? item.Status : { Id: null, Name: null };\n                    });\n                },\n                isDesktopView: !app.isMobileDevice(),\n                isMobileView: app.isMobileDevice(),\n                isEnabled: !properties.Disabled,\n                isWindowsComputer: false,\n                isConfigItemWindowsComputer: function (id) {\n                    $.ajax({\r\n                        type: \"GET\",\n                        async: false,\n                        url: \"/ConfigItems/IsComputer\",\n                        data: { objectId: id },\n                        success: function (result) {\r\n                            vm.view.relatedItemController.isWindowsComputer = (result.toLowerCase() === \"true\");\r\n                        }\r\n                    });\n                },\n                isUser: false,\n                isConfigItemUser: function (id) {\n                    // Replaced IsUser call due to large delays in returning data\n                    /*\n                    $.ajax({\r\n                        type: \"GET\",\n                        async: false,\n                        url: \"/ConfigItems/IsUser\",\n                        data: { objectId: id },\n                        success: function (result) {\r\n                            vm.view.relatedItemController.isUser = (result.toLowerCase() === \"true\");\r\n                        }\r\n                    });\n                    */\n                    $.ajax({\n                        type: \"GET\",\n                        async: false,\n                        url: \"/Search/GetObjectProperties\",\n                        data: {\n\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t},\n                        success: function (result) {\n                            vm.view.relatedItemController.isUser = (result.IsUser === true);\n                        }\n                    });\n                },\n                isMoreInfo: function (viewModel) {\n                    var bSlideOut = vm.view.relatedItemController.isSlideOut(viewModel);\n                    return !bSlideOut;\n                },\n                isSlideOut: function (viewModel) {\n                    // Replaced unneeded calls to IsUser/IsWindowsComputer\n                    /*\n                    vm.view.relatedItemController.isConfigItemWindowsComputer(viewModel.BaseId);\n                    vm.view.relatedItemController.isConfigItemUser(viewModel.BaseId);\n\n                    var bIsWindowsComputer = vm.view.relatedItemController.isWindowsComputer;\n                    var bIsUser = vm.view.relatedItemController.isUser;\n                    */\n                    // Get IsUser Result\n                    vm.view.relatedItemController.isConfigItemUser(viewModel.BaseId);\n\t\t\t\t\tvar bIsUser = vm.view.relatedItemController.isUser;\n\n                    // Set Default IsWindowsComputer Result\n                    vm.view.relatedItemController.isWindowsComputer = false;\n\t\t\t\t\tvar bIsWindowsComputer = false;\n\n                    // If ConfigItem is not a user then check if it is a computer\n                    if (!bIsUser) {\n                        // Get IsWindowsComputer Result\n                        vm.view.relatedItemController.isConfigItemWindowsComputer(viewModel.BaseId);\n                        bIsWindowsComputer = vm.view.relatedItemController.isWindowsComputer;\n                    }\n\n                    var hasControlCenterURL = !_.isNull(session.consoleSetting.TrueControlCenterURL) && (session.consoleSetting.TrueControlCenterURL != \"\");\n\n                    return ((bIsWindowsComputer || bIsUser) && hasControlCenterURL) ? true : false;\n                },\n                showTCCInfo: function (dataItem) {\n                    var src = session.consoleSetting.TrueControlCenterURL;\n                    var bIsWindowsComputer = vm.view.relatedItemController.isWindowsComputer;\n                    var bIsUser = vm.view.relatedItemController.isUser;\n                    var tooltip = localization.ComputerManagement;\n\n                    if (bIsWindowsComputer) {\n                        src = app.slideOutNav.getTCCSourceURL(dataItem, \"computer\");\n                    } else if (bIsUser) {\n                        src = app.slideOutNav.getTCCSourceURL(dataItem, \"user\");\n                        tooltip = localization.UserManagement;\n                    }\n\n                    var options = {\r\n                        url: src,\r\n                        tooltip: tooltip\r\n                    }\n                    app.slideOutNav.show(options);\n                },\n                onContextmenuSelect: function (e) {\n                    var type = e.item.attributes[\"custom\"].value;\n                    var baseId = e.target.attributes[\"data-base-id\"].value;\n                    var dataItem =_.find(e.data.RelatesToConfigItem, function (item) { return item.BaseId==baseId; });\n\n                    (type == \"slideout\") ? vm.view.relatedItemController.showTCCInfo(dataItem) : vm.view.relatedItemController.showMoreInfo(dataItem);\n                },\n                onContextmenuActivate: function (e) {\n                    var baseId = e.target.attributes[\"data-base-id\"].value;\n                    // Replaced unneeded calls to IsUser/IsWindowsComputer\n                    /*\n                    vm.view.relatedItemController.isConfigItemWindowsComputer(baseId);\n                    vm.view.relatedItemController.isConfigItemUser(baseId);\n                    */\n                    // Get IsUser Result\n                    vm.view.relatedItemController.isConfigItemUser(baseId);\n                    vm.view.relatedItemController.isWindowsComputer = false;\n\n                    // If ConfigItem is not a user then check if it is a computer\n                    if (!vm.view.relatedItemController.isUser) {\n                        vm.view.relatedItemController.isConfigItemWindowsComputer(baseId);\n                    }\n\n                    var managementTitle = localization.UserManagement;\n                    if (vm.view.relatedItemController.isWindowsComputer) {\n                        managementTitle = localization.ComputerManagement;\n                    }\n\n                    var menuItems = [{\n                        text: managementTitle,\n                        imageUrl: \"/Content/Images/Icons/Other/control-center-launcher.png\",\n                        imageAttr: {\n                            height: '16px',\n                            width: '16px'\n                        },\n                        attr: {\n                            custom: 'slideout' //custom attribute holds the link type\n                        }\n                     },\n                     {\n                         text: \"<i class='fa fa-info-circle cursor-pointer'></i>\" + localization.AdditionalDetails,\n                        encoded: false,\n                        attr: {\n                            custom: 'info' //custom attribute holds the link type\n                        }\n                     }];\n\n                    var contextmenu = $(\"#tccmenu-related-ci\").data(\"kendoContextMenu\");\n                    contextmenu.setOptions({\n                        dataSource: menuItems\n                    });\n                }\n            });\n\n            var grid = vm.view.relatedItemController;\n\n            grid.dataSource.originalFilter = grid.dataSource.filter;\n\n            // Replace the original filter function.\n            grid.dataSource.filter = function () {\n\n                // Call the original filter function.\n                var result = grid.dataSource.originalFilter.apply(this, arguments);\n\n                // If a column is about to be filtered, then raise a new \"filtering\" event.\n                if (arguments.length > 0) {\n                    this.trigger(\"filterApplied\", arguments);\n                }\n\n                return result;\n            }\n\n            grid.dataSource.bind(\"filterApplied\", function (e) {\n\n                $.each($(cur_table).find(\"th a.k-header-column-menu i\"), function () {\n                    $(this).remove();\n                });\n\n                if (grid.dataSource.filter()) {\n\n                    var filters = grid.dataSource.filter().filters || [];\n                    var dsFilters = [];\n                    for (var i in filters) {\n                        if (filters[i].filters) {\n                            var innerFilters = filters[i].filters;\n                            for (var x in innerFilters) {\n                                dsFilters.push(innerFilters[x]);\n                            }\n                        } else {\n                            dsFilters.push(filters[i]);\n                        }\n                    }\n\n                    dsFilters = _.uniq(dsFilters, function(el) { return el.field; });\n\n                    for (var i in dsFilters) {\n                        $(cur_table).find(\"th[data-field=\" + dsFilters[i].field + \"] a.k-header-column-menu\").append(\"<i class=\\\"fa fa-filter\\\"></i>\");\n                    }\n\n                }\n            });\n\n            var templateFrag = built(properties);\n            view = new kendo.View(templateFrag, { wrap: true, model: vm.view.relatedItemController });\n            callback(templateFrag);\n\n\n            if (properties.Disabled) {\n                var searchButton = $(view.content).find(\".search\");\n                searchButton.addClass(\"search-disabled\");\n            }\n\n            if (vm.view.relatedItemController.isUserCIVisible) {\n                vm.RequestedWorkItem.bind(\"change\", function (e) {\n                    vm.view.relatedItemController.userConfigItemDataSource.read();\n                });\n            }\n\n            //more functions\n            var isDuplicate = function (idToAdd) {\n                var n = false;\n                $.each(boundArray, function (i, item) {\n                    if (item.BaseId == idToAdd) {\n                        n = true;\n                    }\n                });\n                return n;\n            }\n\n            var addAffectedItem = function (baseId) {\n                if (isDuplicate(baseId)) { return; }\n                $.getJSON('/ConfigItems/GetAffectedItem', { id: baseId }, function (json) {\n                    var item = {\n                        BaseId: baseId,\n                        DisplayName: json.DisplayName,\n                        ClassName: json.ObjectClassName,\n                        Path: json.Path,\n                        AssetStatus: !_.isUndefined(json.AssetStatus) ? (json.AssetStatus != null) ? json.AssetStatus : \"\" : { Name: !_.isUndefined(json.AssetStatus) ? json.AssetStatus : \"\" },\n                        Status: !_.isUndefined(json.Status) ? (json.Status != null) ? json.Status : \"\" : { Name: !_.isUndefined(json.Status) ? json.Status : \"\" }\n                    };\n                    boundArray.push(item);\n                });\n            }\n        }\n    }\n\n    return definition;\n\n});\n","\ndefine('text!forms/predefined/childWorkItems/view.html',[],function () { return '<div data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileGridTemplate\" class=\"mobile-grid\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">${Id}: ${Title}</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <p>#: localizationHelper.localize(\"Status\") #: #: Status # </p>\\r\\n                <p>#: localizationHelper.localize(\"LastModified\") #: #: kendo.toString(kendo.parseDate(LastModified), \"g\") # </p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12 file-attachments\"\\r\\n         data-control=\"childWorkItems\"\\r\\n         data-control-bind=\"ChildWorkItem\"\\r\\n         data-control-show=\"IsParent\"\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>>\\r\\n\\r\\n    <div >\\r\\n        <button class=\"btn btn-primary\" data-role=\"button\" data-click=\"addClick\"><%= localization.Add %> </button>\\r\\n    </div>\\r\\n    \\r\\n    <% if ( IsMobileView == false ){ %>\\r\\n        <div data-control-grid=\"objectGrid\" class=\"inline-spacing\"></div>\\r\\n    <% } %>\\r\\n    \\r\\n    <% if ( IsMobileView ){ %>\\r\\n        <div data-template-name=\"mobileGridTemplate\" class=\"mobile-grid-parent\" data-bind=\"mobileGrid: ChildWorkItem\"></div>\\r\\n    <% } %>\\r\\n    \\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nchildWorkItem\r\n**/\r\n\r\ndefine('forms/predefined/childWorkItems/controller',['require','text!forms/predefined/childWorkItems/view.html','forms/popups/multipleObjectPickerPopup/controller'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/childWorkItems/view.html\");\r\n    var objectPickerPopup = require(\"forms/popups/multipleObjectPickerPopup/controller\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            boundObj = vm;\r\n            \r\n            var properties = {\r\n                Disabled: false,\r\n                PropertyName: \"ChildWorkItem\",\r\n                ClassId: (vm.ClassName === \"System.WorkItem.ReleaseRecord\") ? \"d02dc3b6-d709-46f8-cb72-452fa5e082b8\" : \"a604b942-4c7b-2fb2-28dc-61dc6f465c68\",\r\n                PropertyToDisplay: \"Id,Title,Status,LastModified\",\r\n                ControllerUrl: \"/Search/GetChildWorkItems\",\r\n                IsMobileView: app.isMobileDevice()\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n            var built = _.template(tpl);\r\n            var templateFrag = $(built(properties));\r\n            var popupWindow = objectPickerPopup.getPopup(properties.ClassId, properties.PropertyToDisplay, properties.ControllerUrl);\r\n            var objectPicker = new Control(templateFrag.find(\"[data-control='childWorkItems']\"), boundObj, properties.PropertyName, properties, popupWindow);\r\n            var showProp = templateFrag.find(\"[data-control='childWorkItems']\").attr(\"data-control-show\");\r\n            templateFrag.find(\"[data-control='childWorkItems']\").attr(\"data-control\", \"childWorkItemsBound\");\r\n            callback(templateFrag);\r\n\r\n            // Determine if group should be visible (IsParent)\r\n            if (boundObj[showProp] === false || _.isNull(boundObj[showProp])) {\r\n                templateFrag.parents(\".row\").hide();\r\n            }\r\n           \r\n        }\r\n    }\r\n\r\n    var Control = function (targetEle, boundObj, name, properties, popupWindow) {\r\n\r\n        //use setters and getters if you want vm boundOdj to trigger change\r\n        if (_.isUndefined(boundObj[name])) {\r\n            boundObj.set(name, new kendo.data.ObservableArray([]));\r\n        }\r\n        var boundArray = boundObj.get(name);\r\n\r\n        var __construct = function () {\r\n            bindButtonEvents();\r\n            bindEvents();\r\n            createGrid();\r\n        }\r\n\r\n        var bindEvents = function () {\r\n            \r\n        }\r\n\r\n        var bindButtonEvents = function () {\r\n            var actions = {\r\n                addClick: function () {\r\n                    popupWindow.setSaveCallback(function (object) {\r\n                        if (isDuplicate(object.BaseId)) { return; }\r\n                        boundArray.push(object);\r\n                    });\r\n                    popupWindow.open();\r\n                }\r\n            };\r\n\r\n            //bind add click event\r\n            targetEle.find('[data-click]').each(function () {\r\n                if (actions[$(this).attr('data-click')]) {\r\n                    $(this).click(actions[$(this).attr('data-click')]);\r\n                }\r\n            });\r\n        }\r\n\r\n       \r\n        var createGrid = function () {\r\n            var gridEle = targetEle.find(\"[data-control-grid]\");\r\n            \r\n            var grid = gridEle.kendoGrid({\r\n                columns:\r\n                 [\r\n                  { field: \"Id\", title: localization.Id, attributes: { \"class\": \"grid-highlight-column\" } },\r\n                  { field: \"Title\", title: localization.Title },\r\n                  { field: \"Status\", title: localization.Status, template: \"#= (Status.Name)?Status.Name:Status #\", },\r\n                  {\r\n                      field: \"LastModified\",\r\n                      title: localization.LastModified,\r\n                      type: \"date\",\r\n                      template: \"#= (LastModified) ? kendo.toString(new Date(LastModified), 'g'):'' #\"\r\n                  },\r\n                  { field: \"BaseId\", title: \"BaseId\", hidden: \"true\" },\r\n                  { width: \"105px\", command: [{ name: \"destroy\", text: localization.Remove }]}\r\n                 ],\r\n                scrollable: false,\r\n                filterable: {\r\n                    extra: false,\r\n                    messages: {\r\n                        info: localization.Showitemswithvaluethat,\r\n                        and: localization.And,\r\n                        or: localization.Or,\r\n                        filter: localization.Filter,\r\n                        clear: localization.Clear\r\n                    },\r\n                    operators: {\r\n                        string: {\r\n                            startswith: localization.Startswith,\r\n                            contains: localization.Contains,\r\n                            eq: localization.Isequalto,\r\n                            neq: localization.Isnotequalto\r\n                        }\r\n                    }\r\n                },\r\n                reorderable: true,\r\n                sortable: true,\r\n                columnMenu: {\r\n                    messages: {\r\n                        columns: localization.ChooseColumns,\r\n                        filter: localization.Filter,\r\n                        sortAscending: localization.SortAscending,\r\n                        sortDescending: localization.SortDescending\r\n                    }\r\n                },\r\n                editable: {\r\n                    confirmDelete: \"Delete\",\r\n                    cancelDelete: \"Cancel\",\r\n                    mode: \"incell\",\r\n                    template: null,\r\n                    create: true,\r\n                    update: false,\r\n                    destroy: true\r\n                },\r\n                toolbar: {},\r\n                dataSource: {\r\n                    transport: {\r\n                        prefix: \"\",\r\n                        read: {\r\n                            url: \"\"\r\n                        }\r\n                    },\r\n                    type: \"aspnetmvc-ajax\",\r\n                    schema: {\r\n                        data: \"Data\",\r\n                        total: \"Total\",\r\n                        errors: \"Errors\",\r\n                        model: {\r\n                            id: \"BaseId\",\r\n                        }\r\n                    },\r\n                    data: {\r\n                        Data: boundArray,\r\n                        Total: boundArray.length\r\n                    }\r\n                },\r\n                selectable: true\r\n            });\r\n\r\n            gridEle.on(\"click\", \"td\", function (e) {\r\n                var highlightedColumn = $(e.currentTarget).hasClass(\"grid-highlight-column\");\r\n                if (!highlightedColumn) { return }\r\n\r\n                var kendoGrid = grid.data(\"kendoGrid\");\r\n                var selectedItem = kendoGrid.dataItem($(e.currentTarget).closest(\"tr\"));\r\n                var strClass = selectedItem.ClassName.split(/[\\s.]+/);\r\n                var className = strClass[strClass.length - 1];\r\n                window.open(\"/\" + className + \"/Edit/\" + selectedItem.Id + \"/\", '_blank');\r\n            });\r\n        }\r\n\r\n        var isDuplicate = function (idToAdd) {\r\n            var n = false;\r\n            $.each(boundArray, function (i, item) {\r\n                if (item.BaseId == idToAdd) {\r\n                    n = true;\r\n                }\r\n            });\r\n            return n;\r\n        }\r\n\r\n        __construct();\r\n    }\r\n    return definition;\r\n});\n","\ndefine('text!forms/predefined/userInput/view.html',[],function () { return '<div>\\r\\n    <div class=\"editor-label\">\\r\\n        <label><%= localization.UserInputs %></label>\\r\\n    </div>\\r\\n    <div class=\"editor-field\">\\r\\n        <div data-control=\"userInputs\" data-control-bind=\"UserInput\">\\r\\n            <div data-control-grid=\"userInputsGrid\" class=\"inline-spacing\"></div>\\r\\n        </div>    \\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nuserInput\r\n**/\r\n\r\ndefine('forms/predefined/userInput/controller',['require','text!forms/predefined/userInput/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/userInput/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/activities/view.html',[],function () { return '<div data-control=\"activityDisplay\" data-control-bind=\"Activity\" class=\"activity-list-container\"\\r\\n\\r\\n    <% if ( Disabled ){ %>\\r\\n    disabled\\r\\n    <% } %>\\r\\n\\r\\n    >\\r\\n</div>\\r\\n';});\n\n","/**\r\nactivities\r\n**/\r\n\r\ndefine('forms/predefined/activities/controller',['require','text!forms/predefined/activities/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/activities/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            var properties = {\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/multipleObjectPicker/view.html',[],function () { return '<div data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileGridTemplate\" class=\"mobile-grid\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">${title}</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                # $.each(details, function (index, item) {\\r\\n                # <p>${item}</p>  #\\r\\n                });\\r\\n                #\\r\\n            </div>\\r\\n        </div>\\r\\n        \\r\\n    </div>\\r\\n</div>\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12\">\\r\\n    <div data-control=\"multipleObjectPicker\"\\r\\n         data-control-bind=\"HasRelatedWorkItems\"\\r\\n         id=\"<%= PropertyName %>\"\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n    <% } %>\\r\\n    >\\r\\n\\r\\n        <button data-role=\"button\" class=\"btn btn-primary\" data-click=\"addClick\"><%= localization.Add %> </button>\\r\\n        <div class=\"grid-container\">\\r\\n            <% if ( IsMobileView == false ){ %>\\r\\n            <div data-control-grid=\"objectGrid\" class=\"inline-spacing\"></div>\\r\\n            <% } %>\\r\\n\\r\\n            <% if ( IsMobileView ){ %>\\r\\n            <div data-template-name=\"mobileGridTemplate\" class=\"mobile-grid-parent\" data-bind=\"mobileGrid: <%= PropertyName %>\" multiple-picker data-columns=\"<%= ClassProperties %>\"></div>\\r\\n            <% } %>\\r\\n        </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nmultipleObjectPicker\r\n**/\r\n\r\ndefine('forms/predefined/multipleObjectPicker/controller',['require','text!forms/predefined/multipleObjectPicker/view.html','forms/popups/multipleObjectPickerPopup/controller'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/multipleObjectPicker/view.html\");\r\n    var objectPickerPopup = require(\"forms/popups/multipleObjectPickerPopup/controller\");\r\n\r\n    var projectionSearchUrl = \"/Search/GetObjectProjectionByCriteria\";\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            boundObj = node.vm;\r\n            name = node.PropertyName;\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n            var properties = {\r\n                Disabled: false,\r\n                ClassId: \"\",\r\n                PropertyToDisplay: [],\r\n                PropertyName: \"\",\r\n                ShowAddButton: true,\r\n                ShowRemoveButton: true,\r\n                Scoped: false,\r\n                ClassProperties: \"\",\r\n                SelectableRow: false,\r\n                SelectProperty: \"Id\",\r\n                ProjectionId: \"\",\r\n                HiddenProperty: null,//separated by comma only\r\n                IsMobileView: app.isMobileDevice()\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            if (properties.PropertyToDisplay.length <= 0) { properties.PropertyToDisplay = { DisplayName: \"DisplayName\", Path: \"Path\", Status: \"Status\" }; }\r\n            for (var prop in properties.PropertyToDisplay) {\r\n                properties.ClassProperties = properties.ClassProperties.concat(prop).concat(\",\");\r\n            }\r\n\r\n            if ((properties.PropertyName === \"HasRelatedWorkItems\") && (properties.ClassProperties.indexOf(\"AssetStatus\") < 0)) {\r\n                properties.ClassProperties = properties.ClassProperties.concat(\"AssetStatus\");\r\n            }\r\n\r\n            if (!_.isNull(properties.HiddenProperty)) { //This will be use to load properties that is not need to display\r\n                properties.ClassProperties += properties.HiddenProperty.concat(\",\");\r\n            }\r\n\r\n            //set properties for watchlist\r\n            if ((properties.PropertyName === \"WatchList\")) {\r\n                if (!session.consoleSetting.DashboardsLicense.IsValid || !session.enableWatchlist) {\r\n                    properties.Visible = false;\r\n                }\r\n                //hide add/remove option when current user is and enduser and he or she is not the affected user\r\n                if ((!session.user.Analyst) && (typeof boundObj.RequestedWorkItem != 'undefined') && (session.user.Id != boundObj.RequestedWorkItem.BaseId)) {\r\n                    properties.ShowAddButton = false;\r\n                    properties.ShowRemoveButton = false;\r\n                }\r\n            }\r\n\r\n            var built = _.template(tpl);\r\n            var templateFrag = $(built(properties));\r\n\r\n            //used on RelatesToWorkItem relatinship, exclude current workitem from list\r\n            var filter = { field: \"BaseId\", operator: \"neq\", value: boundObj.BaseId };\r\n\r\n            var popupWindow = (properties.PropertyName === \"RelatesToWorkItem\") ?\r\n                objectPickerPopup.getPopup(properties.ClassId, properties.ClassProperties, null, filter) :\r\n                objectPickerPopup.getPopup(properties.ClassId, properties.ClassProperties);\r\n\r\n            var objectPicker = new Control(templateFrag.find(\"[data-control='multipleObjectPicker']\"), boundObj, name, properties, popupWindow);\r\n            templateFrag.find(\"[data-control='multipleObjectPicker']\").attr(\"data-control\", \"multipleObjectPickerBound\");\r\n\r\n            callback(templateFrag);\r\n        },\r\n        openObject: function (selectedItem) {\r\n            var strClass = selectedItem.ClassName.split(/[\\s.]+/);\r\n            var className = strClass[strClass.length - 1];\r\n            switch (className) {\r\n                case \"HardwareAsset\":\r\n                case \"SoftwareAsset\":\r\n                    window.open(\"/AssetManagement/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Lease\":\r\n                case \"Warranty\":\r\n                    window.open(\"/AssetManagement/Contract/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"SupportContract\":\r\n                    window.open(\"/AssetManagement/Contract/SupportandMaintenance/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Location\":\r\n                case \"NoticeEvent\":\r\n                case \"Organization\":\r\n                case \"Standard\":\r\n                case \"Subnet\":\r\n                case \"Vendor\":\r\n                case \"CatalogItem\":\r\n                case \"CostCenter\":\r\n                case \"Invoice\":\r\n                case \"PurchaseOrder\":\r\n                case \"Purchase\":\r\n                    window.open(\"/AssetManagement/Administration/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Licence\":\r\n                    window.open(\"/AssetManagement/Administration/License/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Consumable\":\r\n                    window.open(\"/AssetManagement/Administration/Consumables/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"ManualActivity\":\r\n                case \"ReviewActivity\":\r\n                case \"SequentialActivity\":\r\n                case \"ParallelActivity\":\r\n                case \"DependentActivity\":\r\n                    window.open(\"/Activity/Edit/\" + selectedItem.Id, '_blank');\r\n                    break;\r\n                case \"Incident\":\r\n                case \"ServiceRequest\":\r\n                case \"ChangeRequest\":\r\n                case \"Problem\":\r\n                case \"ReleaseRecord\":\r\n                    window.open(\"/\" + className + \"/Edit/\" + selectedItem.Id + \"/\", '_blank');\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    var Control = function (targetEle, boundObj, name, properties, popupWindow) {\r\n\r\n        //use setters and getters if you want vm boundOdj to trigger change\r\n        if (_.isUndefined(boundObj[name])) {\r\n            boundObj.set(name, new kendo.data.ObservableArray([]));\r\n        }\r\n\r\n        //if related object is of single cardinality, create a new array and add the related object \r\n        var boundArray = !_.isUndefined(boundObj[name].length) ? boundObj.get(name) : new kendo.data.ObservableArray([boundObj.get(name)]);\r\n        boundArray.properties = properties;\r\n\r\n        var self = this;\r\n\r\n        var __construct = function () {\r\n            buildSubProperties();\r\n            bindButtonEvents();\r\n            createGrid();\r\n        }\r\n\r\n        var buildSubProperties = function () {\r\n            var propToFill = [];\r\n            //This will going to build array of display properties that has sub properties. Ex:Target_PurchaseHasPurchaseOrder.DisplayName\r\n            for (var prop in properties.PropertyToDisplay) {\r\n                var propSplit = prop.split(\".\");\r\n                if (propSplit.length > 1) {\r\n                    propToFill.push(propSplit);\r\n                }\r\n            }\r\n\r\n            //This will going to check all properties. If property is not existing, this will going to create a dummy property so that kendo will render the grid.\r\n            _.each(boundArray, function (data) {\r\n                _.each(propToFill, function (prop) {\r\n                    var mainProp = prop[0];\r\n                    var subProp = prop[1];\r\n                    if (_.isUndefined(data[mainProp])) {\r\n                        data[mainProp] = {};\r\n                        data[mainProp][subProp] = \"\";\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n        //Make this global so that this can be used when inserting data outside multiple object picker.\r\n        //This is the solution for now since kendo grid doesn't have preDataBinding which I need to manipulate data before binding\r\n        //This function is called also from software asset \"copy license assignment\" task\r\n        boundArray.addItem = function (object) {\r\n            var isItemExist = false;\r\n            if (isDuplicate(object.BaseId)) {\r\n                return;\r\n            }\r\n            _boundArray = this;\r\n            //This will going to get object related items\r\n            if (!_.isUndefined(_boundArray.properties.ProjectionId) && !_.isNull(_boundArray.properties.ProjectionId) && _boundArray.properties.ProjectionId != \"\") {\r\n\r\n                var colNames = \"\";\r\n                var splitedProp = [];\r\n                //This will going to get thos property whos have sub child on it.\r\n                //Ex. PropertyToDisplay: { DisplayName: \"DisplayName\", \"Currency.Name\": \"Currency\", Cost: \"Cost\",\"Target_PurchaseHasPurchaseOrder.DisplayName\":\"Purchase Order\" }\r\n                // => Target_PurchaseHasPurchaseOrder.DisplayName and Currency.Name\r\n                for (var prop in _boundArray.properties.PropertyToDisplay) {\r\n                    var propperty = prop.split(\".\");\r\n                    if (propperty.length > 1) {\r\n                        splitedProp.push(propperty);\r\n                        colNames = colNames == \"\" ? prop : colNames + \",\" + prop;\r\n\r\n                    }\r\n                }\r\n\r\n                $.post(projectionSearchUrl, { baseId: object.BaseId, projectionId: _boundArray.properties.ProjectionId, columnNames: colNames }, function (result) {\r\n                    for (index in result.Data) {\r\n                        for (propIndex in splitedProp) {\r\n                            var value = result.Data[index][splitedProp[propIndex][0]];\r\n                            if (!_.isUndefined(value[splitedProp[propIndex][1]])) { //this will check if this property is undefined or not. This will going to avoid conflict with enums\r\n                                object[splitedProp[propIndex][0]] = value;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    _boundArray.push(object);\r\n                });\r\n            } else {\r\n                _boundArray.push(object);\r\n            }\r\n        }\r\n\r\n        var bindButtonEvents = function () {\r\n            var actions = {\r\n                addClick: function () {\r\n                    popupWindow.setSaveCallback(function (object) {\r\n                        boundArray.addItem(object);\r\n\r\n                        //if related object is of single cardinality, replace the value\r\n                        if (_.isUndefined(boundObj[name].length)) {\r\n                            boundArray.shift();\r\n                            boundObj.set(name, boundArray[0]);\r\n                        }\r\n                    });\r\n                    popupWindow.open();\r\n                }\r\n            };\r\n\r\n            //bind add click event\r\n            targetEle.find('[data-click]').each(function () {\r\n                if (actions[$(this).attr('data-click')]) {\r\n                    $(this).click(actions[$(this).attr('data-click')]);\r\n                }\r\n            });\r\n\r\n            //hide add button when ShowAddButton=false or if Disabled\r\n            if (!properties.ShowAddButton || properties.Disabled || properties.vm.isDisabled) {\r\n                targetEle.find('[data-click]').each(function () {\r\n                    $(this).hide();\r\n                });\r\n            }\r\n        }\r\n\r\n        var createGrid = function () {\r\n            var gridEle = targetEle.find(\"[data-control-grid]\");\r\n            //always unhide remove button for watchlist \r\n            var hideRemoveButton = (properties.PropertyName === \"WatchList\") ? false : (!properties.ShowRemoveButton || properties.Disabled || properties.vm.isDisabled);\r\n            //building grid columns\r\n            var columnFields = buildColumnFields(properties.PropertyToDisplay);\r\n            var columnToDisplay = buildGridColumns(columnFields, hideRemoveButton);\r\n\r\n            var grid = gridEle.kendoGrid({\r\n                columns: columnToDisplay,\r\n                scrollable: false,\r\n                filterable: {\r\n                    extra: false,\r\n                    messages: {\r\n                        info: localization.Showitemswithvaluethat,\r\n                        and: localization.And,\r\n                        or: localization.Or,\r\n                        filter: localization.Filter,\r\n                        clear: localization.Clear\r\n                    },\r\n                    operators: {\r\n                        string: {\r\n                            startswith: localization.Startswith,\r\n                            contains: localization.Contains,\r\n                            eq: localization.Isequalto,\r\n                            neq: localization.Isnotequalto\r\n                        }\r\n                    }\r\n                },\r\n                reorderable: true,\r\n                sortable: true,\r\n                columnMenu: {\r\n                    messages: {\r\n                        columns: localization.ChooseColumns,\r\n                        filter: localization.Filter,\r\n                        sortAscending: localization.SortAscending,\r\n                        sortDescending: localization.SortDescending\r\n                    }\r\n                },\r\n                editable: {\r\n                    confirmDelete: \"Delete\",\r\n                    cancelDelete: \"Cancel\",\r\n                    mode: \"incell\",\r\n                    template: null,\r\n                    create: true,\r\n                    update: false,\r\n                    destroy: true\r\n                },\r\n                toolbar: {},\r\n                dataSource: {\r\n                    transport: {\r\n                        prefix: \"\",\r\n                        read: {\r\n                            url: \"\"\r\n                        }\r\n                    },\r\n                    type: \"aspnetmvc-ajax\",\r\n                    schema: {\r\n                        data: \"Data\",\r\n                        total: \"Total\",\r\n                        errors: \"Errors\",\r\n                        model: {\r\n                            id: \"BaseId\",\r\n                            fields: columnFields\r\n                        }\r\n                    },\r\n                    data: {\r\n                        Data: boundArray,\r\n                        Total: boundArray.length\r\n                    }\r\n                },\r\n                dataBinding: function (e) {\r\n                    //Change to only pass specific item\r\n                    if (!_.isUndefined(e.items) && e.items.length > 0) {\r\n                        formatPropertyInBoundArray(e, properties.ClassProperties)\r\n                    }\r\n                },\r\n                dataBound: function (e) {\r\n                    if (properties.Scoped) {\r\n                        scopeBoundArray(this, properties.ClassId, properties.ClassProperties);\r\n                    }\r\n\r\n                },\r\n                selectable: properties.SelectableRow ? \"multiple row\" : false\r\n            });\r\n\r\n            gridEle.on(\"click\", \"td\", function (e) {\r\n                var highlightedColumn = $(e.currentTarget).hasClass(\"grid-highlight-column\");\r\n                if (!highlightedColumn) { return }\r\n\r\n                var kendoGrid = grid.data(\"kendoGrid\");\r\n                var selectedItem = kendoGrid.dataItem($(e.currentTarget).closest(\"tr\"));\r\n                openObject(selectedItem);\r\n            });\r\n\r\n            if (!app.isMobile())\r\n            {\r\n                grid.data(\"kendoGrid\").dataSource.originalFilter = grid.data(\"kendoGrid\").dataSource.filter;\r\n\r\n                // Replace the original filter function.\r\n                grid.data(\"kendoGrid\").dataSource.filter = function () {\r\n\r\n                    // Call the original filter function.\r\n                    var result = grid.data(\"kendoGrid\").dataSource.originalFilter.apply(this, arguments);\r\n\r\n                    // If a column is about to be filtered, then raise a new \"filtering\" event.\r\n                    if (arguments.length > 0) {\r\n                        this.trigger(\"filterApplied\", arguments);\r\n                    }\r\n\r\n                    return result;\r\n                }\r\n\r\n                grid.data(\"kendoGrid\").dataSource.bind(\"filterApplied\", function () {\r\n                    $.each($(grid).find(\"th a.k-header-column-menu i\"), function () {\r\n                        $(this).remove();\r\n                    });\r\n\r\n                    if (grid.data(\"kendoGrid\").dataSource.filter()) {\r\n\r\n                        var dsFilters = grid.data(\"kendoGrid\").dataSource.filter().filters || [];\r\n\r\n                        for (var i in dsFilters) {\r\n                            $(grid).find(\"th[data-field=\" + dsFilters[i].field + \"] a.k-header-column-menu\").append(\"<i class=\\\"fa fa-filter\\\"></i>\");\r\n                        }\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            \r\n\r\n        }\r\n\r\n        var isDuplicate = function (idToAdd) {\r\n            var n = false;\r\n            $.each(boundArray, function (i, item) {\r\n                if (item.BaseId == idToAdd) {\r\n                    n = true;\r\n                }\r\n            });\r\n            return n;\r\n        }\r\n\r\n        var buildGridColumns = function (columnFields, showRemovButton) {\r\n            var columns = [];\r\n\r\n            for (var prop in properties.PropertyToDisplay) {\r\n                var propertyKey = prop;\r\n                var localizationKey = properties.PropertyToDisplay[prop];\r\n                var localizedText = (!_.isUndefined(localization[localizationKey]) && [localizationKey].length > 0) ? localization[localizationKey] : localizationKey;\r\n                var columnClass = (properties.SelectableRow && propertyKey === properties.SelectProperty) ? \"grid-highlight-column\" : \"\";\r\n                var dateFormat = (columnFields[propertyKey].type == \"date\") ? \"{0:\" + kendo.culture().calendar.patterns.g + \"}\" : null;\r\n\r\n                columns.push({\r\n                    title: localizedText,\r\n                    width: \"210px\",\r\n                    field: propertyKey,\r\n                    filterable: {},\r\n                    encoded: true,\r\n                    attributes: {\r\n                        \"class\": columnClass\r\n                    },\r\n                    format: dateFormat\r\n                });\r\n            }\r\n            columns.push({ title: localization.BaseId, width: \"210px\", field: \"BaseId\", filterable: {}, encoded: true, hidden: true });\r\n            columns.push({ width: \"105px\", command: [{ name: \"destroy\", text: localization.Remove }], hidden: showRemovButton });\r\n\r\n            return columns;\r\n        }\r\n\r\n\r\n        //traverse and format date\r\n        var formatPropertyInBoundArray = function (currentItemEvent, columnString) {\r\n            var currentItem = currentItemEvent.items[0];\r\n            $.each(columnString.split(\",\"), function (i, column) {\r\n                $.each(boundArray, function (index, item) {\r\n                    //mutate poorly structured provided enum data \r\n                    if (column.indexOf('.') > 0) {\r\n                        var property = column.split('.')[0];\r\n                        if (_.isUndefined(item[property])) {\r\n                            boundArray[index][property] = { Id: \"\", Name: \"\" }\r\n                        }\r\n                    }\r\n                    if (currentItem.BaseId != item.BaseId && currentItemEvent.action == \"add\") return; //This will be only used when adding new items\r\n                    if (_.isUndefined(item[column]) || _.isNull(item[column])) { return; }\r\n                    if (_.isBoolean(item[column]) || _.isNumber(item[column])) { return; }\r\n                    if (!_.isUndefined(item[column].Name)) { boundArray[index][column] = item[column].Name; } //enums\r\n                });\r\n            });\r\n        }\r\n\r\n        var scopeBoundArray = function (grid, scopeClassId, PropertyToDisplay) {\r\n\r\n            if (scopeClassId === \"\") { return; }\r\n\r\n            $.ajax({\r\n                url: \"/Search/GetSearchObjectsByClassId\",\r\n                data: { searchFilter: \"\", classId: scopeClassId, columnNames: PropertyToDisplay },\r\n                async: false,\r\n                timeout: 3000,\r\n                success: function (data) {\r\n                    var objectIds = [];\r\n                    $.each(data.Data, function (ii, iitem) {\r\n                        objectIds.push(iitem[\"BaseId\"]);\r\n                    });\r\n\r\n                    $.each(grid._data, function (ii, iitem) {\r\n                        if (!_.contains(objectIds, this.BaseId)) {\r\n                            var row = grid.tbody.find(\"tr[data-uid='\" + this.uid + \"']\");\r\n                            row.hide();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        var openObject = function (selectedItem) {\r\n            var strClass = selectedItem.ClassName.split(/[\\s.]+/);\r\n            var className = strClass[strClass.length - 1];\r\n            switch (className) {\r\n                case \"HardwareAsset\":\r\n                case \"SoftwareAsset\":\r\n                    window.open(\"/AssetManagement/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Lease\":\r\n                case \"Warranty\":\r\n                    window.open(\"/AssetManagement/Contract/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"SupportContract\":\r\n                    window.open(\"/AssetManagement/Contract/SupportandMaintenance/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Location\":\r\n                case \"NoticeEvent\":\r\n                case \"Organization\":\r\n                case \"Standard\":\r\n                case \"Subnet\":\r\n                case \"Vendor\":\r\n                case \"CatalogItem\":\r\n                case \"CostCenter\":\r\n                case \"Invoice\":\r\n                case \"PurchaseOrder\":\r\n                case \"Purchase\":\r\n                    window.open(\"/AssetManagement/Administration/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Licence\":\r\n                    window.open(\"/AssetManagement/Administration/License/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Consumable\":\r\n                    window.open(\"/AssetManagement/Administration/Consumables/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"ManualActivity\":\r\n                case \"ReviewActivity\":\r\n                case \"SequentialActivity\":\r\n                case \"ParallelActivity\":\r\n                case \"DependentActivity\":\r\n                    window.open(\"/Activity/Edit/\" + selectedItem.Id, '_blank');\r\n                    break;\r\n                case \"Incident\":\r\n                case \"ServiceRequest\":\r\n                case \"ChangeRequest\":\r\n                case \"Problem\":\r\n                case \"ReleaseRecord\":\r\n                    window.open(\"/\" + className + \"/Edit/\" + selectedItem.Id + \"/\", '_blank');\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        var buildColumnFields = function (properties) {\r\n            var stringProp;\r\n\r\n            stringProp = '{';\r\n            for (var prop in properties) {\r\n                var type = (prop.indexOf(\"Date\") > -1 || prop == \"LastModified\") ? \"date\" : \"string\";\r\n                stringProp += '\"' + prop + '\":{\"type\":\"' + type + '\"},';\r\n            }\r\n            stringProp = stringProp.replace(/,([^,]*)$/, '$1');\r\n            stringProp += '}';\r\n\r\n            return JSON.parse(stringProp);\r\n        }\r\n        __construct();\r\n    }\r\n    return definition;\r\n\r\n});\n","\ndefine('text!CustomSpace/Scripts/forms/predefined/history/view.html',[],function () { return '<div>\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12\">\\r\\n            <div class=\"form-group\">\\r\\n                <div class=\"input-group\">\\r\\n                    <div id=\"showHistoryDropDown\"\\r\\n                        data-role=\"dropdownlist\"\\r\\n                        data-text-field=\"text\"\\r\\n                        data-value-field=\"value\"\\r\\n                        data-template=\"dropDownHistoryTemplate\"\\r\\n                    ></div>\\r\\n                    <span class=\"input-group-btn\">\\r\\n                        <button data-role=\"button\" class=\"btn btn-primary k-button\" data-bind=\"events: {click: view.historyController.loadHistory}\">\\r\\n                            <span class=\"fa cursor-pointer\"></span><%= localization.ShowHistory %>\\r\\n                        </button>\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\"editor-label\">\\r\\n                <label id=\"showHistoryTitle\" data-bind=\"source: historyLabel\" data-template=\"labelHistoryTemplate\">PRE TEMPLATE</label>\\r\\n            </div>\\r\\n            <div id=\"historyView\" data-bind=\"visible: showHistory\"></div>  \\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<!--kendo templates-->\\r\\n<script type=\"text/x-kendo-template\" id=\"labelHistoryTemplate\">\\r\\n    # if (type == \"loading\") { #\\r\\n        <span class=\\'k-icon k-loading\\'></span>\\r\\n    # } else if (type == \"error\") { #\\r\\n        <span class=\\'fa fa-warning\\'></span> Unable to load history. Please try again.\\r\\n    # } else if (type == \"info\") { #\\r\\n        #: text #\\r\\n    # } #\\r\\n</script>\\r\\n<script type=\"text/x-kendo-template\" id=\"dropDownHistoryTemplate\">\\r\\n    <span style=\\'white-space: pre;\\'>#= data.text #</span>\\r\\n</script>\\r\\n<script type=\"text/x-kendo-template\" id=\"viewHistoryTemplate\">\\r\\n    <ul class=\\'timeline\\' data-template=\\'propertyHistoryTemplate\\' data-bind=\\'source: nodes\\'></ul>\\r\\n</script>\\r\\n<script type=\"text/x-kendo-template\" id=\"propertyHistoryTemplate\">\\r\\n    # if ((!_.isUndefined(ClassHistory) && ClassHistory.length > 0) || RelationshipHistory.length > 0) { #\\r\\n    <li>\\r\\n\\r\\n        # if (RelationshipHistory.length > 0) { #\\r\\n        <div class=\"timeline-badge primary\">\\r\\n            <i class=\"fa fa-code-fork\"></i>\\r\\n        </div>\\r\\n        # } else{ #\\r\\n        <div class=\"timeline-badge\">\\r\\n            <i class=\"fa\"></i>\\r\\n        </div>\\r\\n        # } #\\r\\n        <div class=\"timeline-panel\">\\r\\n            <div class=\"timeline-heading\">\\r\\n                <a><h4 class=\"timeline-title\">#: UserName #</h4></a>\\r\\n                <p><small class=\"text-muted\"><i class=\"fa fa-clock-o\"></i>#: kendo.toString(new Date(DateOccurred),\\'g\\') #</small></p>\\r\\n            </div>\\r\\n            <div class=\"timeline-body\">\\r\\n                # if ((!_.isUndefined(ClassHistory) && ClassHistory.length > 0)) { #\\r\\n                <h5><%= localization.PropertyChanges %>:</h5>\\r\\n                <div class=\"table-responsive\">\\r\\n                    <table class=\"table\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th><%= localization.Property %></th>\\r\\n                                <th><%= localization.OldValue %></th>\\r\\n                                <th><%= localization.NewValue %></th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            # for (var i = 0; i < ClassHistory.length; i++) { #\\r\\n                            <tr>\\r\\n                                <td>#: localizationHelper.localize(ClassHistory[i].Key.replace(/ /g,\"\"), ClassHistory[i].Key) #</td>\\r\\n                                <td>#: ClassHistory[i].BeforeValue && ClassHistory[i].IsDate ? kendo.toString(new Date(ClassHistory[i].BeforeValue),\\'g\\') : localizationHelper.localize(ClassHistory[i].BeforeValue.replace(/ /g,\"\"), ClassHistory[i].BeforeValue) #</td>\\r\\n                                <td>#: ClassHistory[i].AfterValue && ClassHistory[i].IsDate ? kendo.toString(new Date(ClassHistory[i].AfterValue),\\'g\\') : localizationHelper.localize(ClassHistory[i].AfterValue.replace(/ [0-9]/g,\"\"), ClassHistory[i].AfterValue) #</td>\\r\\n                            </tr>\\r\\n                            # } #\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n                # } #\\r\\n                # if (RelationshipHistory.length > 0) { #\\r\\n                <h5><%= localization.RelationshipChanges %>:</h5>\\r\\n                <div class=\"table-responsive\">\\r\\n                    <table class=\"table\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th></th>\\r\\n                                <th><%= localization.RelationshipClass %></th>\\r\\n                                <th><%= localization.Item %></th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            # for (var i = 0; i < RelationshipHistory.length; i++) { #\\r\\n                            <tr>\\r\\n                                # if (RelationshipHistory[i].ChangeType === \"Insert\") { #\\r\\n                                <td><i class=\"fa fa-plus text-success\"></i></td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \").replace(/ /g,\"\"), RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \")) #</td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].Item.replace(/ /g,\"\"), RelationshipHistory[i].Item) #</td>\\r\\n                                # } #\\r\\n\\r\\n                                # if (RelationshipHistory[i].ChangeType === \"Delete\") { #\\r\\n                                <td><i class=\"fa fa-minus text-danger\"></i></td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \").replace(/ /g,\"\"), RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \")) #</td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].Item.replace(/ /g,\"\"), RelationshipHistory[i].Item) #</td>\\r\\n                                # } #\\r\\n\\r\\n                                # if (RelationshipHistory[i].ChangeType === \"Update\") { #\\r\\n                                <td><i class=\"fa fa-exchange text-info\"></i></td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \").replace(/ /g,\"\"), RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \")) #</td>\\r\\n                                <td><strike class=\"text-danger\">#: localizationHelper.localize(RelationshipHistory[i].PreviousItem.replace(/ /g,\"\"), RelationshipHistory[i].PreviousItem) #</strike> <span class=\"text-success\">#: localizationHelper.localize(RelationshipHistory[i].Item.replace(/ /g,\"\"), RelationshipHistory[i].Item) #</span></td>\\r\\n                                # } #\\r\\n\\r\\n                            </tr>\\r\\n                            # } #\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n                # } #\\r\\n            </div>\\r\\n        </div>\\r\\n    </li>\\r\\n    # } #\\r\\n    # for (var i = 0; i < ActionLogHistory.length; i++) { #\\r\\n    <li class=\"timeline-inverted\">\\r\\n        <div class=\"timeline-badge info\"><i class=\"fa fa-user\"></i></div>\\r\\n        <div class=\"timeline-panel\">\\r\\n            <div class=\"timeline-heading\">\\r\\n                <h4 class=\"timeline-title\">#: localizationHelper.localize(ActionLogHistory[i].EnteredBy.replace(/ /g,\"\"), ActionLogHistory[i].EnteredBy) #</h4>\\r\\n                <p><small class=\"text-muted\"><i class=\"fa fa-clock-o\"></i> #: kendo.toString(new Date(DateOccurred),\\'g\\') #</small></p>\\r\\n            </div>\\r\\n            <div class=\"timeline-body\">\\r\\n                <h5>#: localizationHelper.localize(ActionLogHistory[i].ActionType.replace(/ /g,\"\"), ActionLogHistory[i].ActionType) #</h5>\\r\\n                <blockquote>#: localizationHelper.localize(ActionLogHistory[i].Description.replace(/ /g,\"\"), ActionLogHistory[i].Description) #</blockquote>\\r\\n            </div>\\r\\n        </div>\\r\\n    </li>\\r\\n    # } #\\r\\n</script>\\r\\n';});\n\n","/*jslint nomen: true */\r\n/*global _, $, app, console, define, kendo */\r\n/*eslint no-console: [\"error\", { allow: [\"log\", \"warn\", \"error\"] }] */\r\n\r\n/**\r\nhistory\r\n**/\r\n\r\ndefine('CustomSpace/Scripts/forms/predefined/history/controller',[\r\n    \"text!CustomSpace/Scripts/forms/predefined/history/view.html\"\r\n], function (\r\n    historyTemplate\r\n) {\r\n    \"use strict\";\r\n    var definition = {\r\n        template: historyTemplate,\r\n        build: function (vm, node, callback) {\r\n            if (!_.isUndefined(app.storage.custom) && app.storage.custom.get(\"debug\")) {\r\n                console.log(\"historyController:build\", {\r\n                    \"vm\": vm,\r\n                    \"node\": node,\r\n                    \"callback\": callback\r\n                });\r\n            }\r\n\r\n            vm.setWithNoDirty = function (variable, value) {\r\n                var isDirtyState = vm.get(\"isDirty\");\r\n                vm.set(variable, value);\r\n                vm.set(\"isDirty\", isDirtyState);\r\n            };\r\n\r\n            /*\r\n            if (!_.isUndefined(pageForm.newWI)) { vm.set(\"HistoryButton\", !pageForm.newWI); } //workitem\r\n            if (!_.isUndefined(pageForm.isNew)) { vm.set(\"HistoryButton\", !pageForm.isNew); } //AM\r\n            */\r\n\r\n            vm.view.historyController = {\r\n                loadHistory: function () {\r\n                    var kendoDropDownList = $(\"#showHistoryDropDown\").data(\"kendoDropDownList\");\r\n                    vm.view.historyController.getObjectHistory(kendoDropDownList.value(), kendoDropDownList.text());\r\n                },\r\n\r\n                dropDownDataSet: false,\r\n\r\n                getDropDownDataSource: function () {\r\n                    var data = [],\r\n                        getChildren = function (viewModel, prefix) {\r\n                            prefix = prefix || \"\";\r\n                            data.push({\r\n                                text: prefix + viewModel.Id + \" - \" + viewModel.Title,\r\n                                value: viewModel.BaseId\r\n                            });\r\n                            if (viewModel.Activity !== undefined && viewModel.Activity.length > 0) {\r\n                                $.each(viewModel.Activity, function (Key, activity) {\r\n                                    getChildren(activity, prefix + \"    \");\r\n                                });\r\n                            }\r\n                        };\r\n\r\n                    getChildren(vm);\r\n\r\n                    return data;\r\n                },\r\n\r\n                getObjectHistory: function (objectGUID, objectTitle) {\r\n                    vm.setWithNoDirty(\"historyLabel\", { \"type\": \"loading\" });\r\n                    vm.setWithNoDirty(\"showHistory\", false);\r\n\r\n                    $.ajax({\r\n                        url: \"/Search/GetObjectHistory\",\r\n                        data: { \"id\": objectGUID },\r\n                        type: \"GET\",\r\n                        cache: false,\r\n                        success: function (data) {\r\n                            vm.setWithNoDirty(\"historyLabel\", { \"type\": \"info\", \"text\": objectTitle });\r\n\r\n                            /*\r\n                            if(vm.view.historyController.model !== undefined) {\r\n                                vm.view.historyController.view.destroy();\r\n                            }*/\r\n\r\n                            try {\r\n                                if (vm.view.historyController.model === undefined) {\r\n                                    var customhistoryModel = kendo.observable({\r\n                                        nodes: data\r\n                                    });\r\n\r\n                                    vm.view.historyController.model = customhistoryModel;\r\n\r\n                                    vm.view.historyController.view = new kendo.View(\r\n                                        \"viewHistoryTemplate\",\r\n                                        {\r\n                                            model: customhistoryModel,\r\n                                            wrap: false,\r\n                                            init: $.noop //empty function\r\n                                        }\r\n                                    );\r\n\r\n                                    vm.view.historyController.view.render($(\"#historyView\"));\r\n                                } else {\r\n                                    vm.view.historyController.model.set(\"nodes\", data);\r\n                                }\r\n                            } catch (err) {\r\n                                if (!_.isUndefined(app.storage.custom) && app.storage.custom.get(\"debug\")) {\r\n                                    console.log(\"historyController:error\", {\r\n                                        \"err\": err\r\n                                    });\r\n                                }\r\n                            }\r\n\r\n                            vm.setWithNoDirty(\"showHistory\", true);\r\n                        },\r\n                        error: function (data) {\r\n                            vm.setWithNoDirty(\"historyLabel\", { \"type\": \"error\" });\r\n                            if (!_.isUndefined(app.storage.custom) && app.storage.custom.get(\"debug\")) {\r\n                                console.log(\"historyController:error\", {\r\n                                    \"err\": data\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n\r\n            function buildAndRender() {\r\n                var builtHistory = _.template(historyTemplate),\r\n                    historyElm = $(builtHistory(node));\r\n                \r\n                historyElm.find(\"#showHistoryDropDown\").kendoDropDownList({\r\n                    dataSource: [{\r\n                        \"text\": vm.Id + \" - \" + vm.Title,\r\n                        \"value\": vm.BaseId\r\n                    }],\r\n                    select: function (event) {\r\n                        var dataItem = this.dataItem(event.item);\r\n                        vm.view.historyController.getObjectHistory(dataItem.value, dataItem.text);\r\n                    },\r\n                    open: function (event) {\r\n                        if (!vm.view.historyController.dataSourceSet) {\r\n                            event.sender.setDataSource(vm.view.historyController.getDropDownDataSource());\r\n                            vm.view.historyController.dataSourceSet = true;\r\n                        }\r\n                    }\r\n                }).data(\"kendoDropDownList\");\r\n                \r\n                if (typeof callback === \"function\") {\r\n                    callback(historyElm);\r\n                }\r\n            }\r\n            \r\n            function initHistory() {\r\n                if (!_.isUndefined(app.storage.custom) && app.storage.custom.get(\"debug\")) {\r\n                    console.log(\"historyController:initHistory\");\r\n                }\r\n                vm.setWithNoDirty(\"historyLabel\", { \"type\": \"info\", \"text\": \"\" });\r\n                buildAndRender();\r\n            }\r\n            \r\n            initHistory();\r\n        }\r\n    };\r\n\r\n    return definition;\r\n});\n","\ndefine('text!forms/predefined/billableTime/view.html',[],function () { return '<div>\\r\\n    <div data-control=\"billableTime\" data-control-bind=\"AppliesToWorkItem\"\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        >\\r\\n    <div class=\"row\" data-bind=\"visible: view.billableTimeController.isVisible\">\\r\\n        <div class=\"col-md-3\">\\r\\n            <div class=\"form-group\" data-cid=\"work-itemBillableTime\" data-cid-propname=\"hours\">\\r\\n                <label for=\"hourNumeric\"><%= localization.hours %></label>\\r\\n                <div class=\"form-control form-control-picker input-sm\">\\r\\n                    <input id=\"hourNumeric\" data-role=\"numerictextbox\"\\r\\n                           data-format=\"n0\"\\r\\n                           data-min=\"0\"\\r\\n                           data-bind=\"value: view.billableTimeController.btHour,\\r\\n                               events: {spin: view.billableTimeController.onHourSpin }\"/>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-3\">\\r\\n            <div class=\"form-group\" data-cid=\"work-itemBillableTime\" data-cid-propname=\"minutes\">\\r\\n                <label for=\"minuteNumeric\"><%= localization.minutes %></label>\\r\\n                <div class=\"form-control form-control-picker input-sm\">\\r\\n                    <input id=\"minuteNumeric\" data-role=\"numerictextbox\"\\r\\n                           data-format=\"n0\"\\r\\n                           data-min=\"0\"\\r\\n                           data-bind=\"value: view.billableTimeController.btMinute,\\r\\n                               events: {spin: view.billableTimeController.onMinuteSpin }\"/>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-6 margin-t30\">\\r\\n            <button class=\"btn btn-primary\" data-role=\"button\" data-bind=\"events: {click: view.billableTimeController.onAddClick}\" data-cid=\"billableTimeAddButton\"><%= localization.Add %> </button>\\r\\n            <button class=\"btn btn-default\" data-role=\"button\" data-bind=\"events: {click: view.billableTimeController.onSubtractClick}\" data-cid=\"billableTimeSubtractButton\"><%= localization.Subtract %> </button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12\">\\r\\n            <div data-control=\"grid\"></div>\\r\\n            <div data-role=\"grid\" class=\"billable-time-grid\"\\r\\n                 data-bind=\"source: view.billableTimeController.dataSource, events:{dataBinding: view.billableTimeController.onDataBinding, dataBound: view.billableTimeController.onDataBound}\"\\r\\n                 data-selectable=\"false\"\\r\\n                 data-sortable=\"true\"\\r\\n                 data-filterable=\"true\"\\r\\n                 data-scrollable=\"false\"\\r\\n                 data-column-menu=\"true\"\\r\\n                 data-pageable=\"false\"\\r\\n                 data-editable=\"{mode: \\'incell\\'}\"\\r\\n                 data-columns=\\'[\\r\\n                { field: \"BillableTime.DisplayName\", title: localization.Analyst, width: \"300px\", attributes: { \"class\": \"grid-highlight-column\" } },\\r\\n                { field: \"BaseId\", title: localization.BaseId, width: \"30px\", hidden: true },\\r\\n                { field: \"LastUpdatedDisplay\", title: localization.LastUpdated, width: \"100px\" },\\r\\n                { field: \"TimeInMinutes\", title: localization.TimeInMinutes, width: \"100px\", attributes: { \"class\": \"pull-right\" } },\\r\\n                <% if ( !Disabled ){ %>\\r\\n                 { width: \"100px\", command: [{ name: \"destroy\", buttonType: \"ImageAndText\", text: localization.Remove}]}\\r\\n                <% } %>\\r\\n            ]\\'>\\r\\n            </div>\\r\\n            <div class=\"pull-right\">\\r\\n                <label data-bind=\"html: view.billableTimeController.btTotalTimeInString\"></label>\\r\\n            </div>\\r\\n        </div>\\r\\n        </div>\\r\\n</div>\\r\\n</div>';});\n\n","/**\r\nbillableTime\r\n**/\r\n\r\ndefine('forms/predefined/billableTime/controller',['require','text!forms/predefined/billableTime/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/billableTime/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n            var properties = {\r\n                Disabled: node.disabled,\r\n                PropertyName: \"AppliesToWorkItem\"\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            var name = properties.PropertyName;\r\n            var boundArray = _.isUndefined(boundObj[name]) ? boundObj[name] = new kendo.data.ObservableArray([]) : boundObj[name];\r\n            boundArray.LastUpdatedDisplay = \"\";\r\n            \r\n\r\n            vm.view.billableTimeController = new kendo.observable({\r\n                btHour: 0,\r\n                btMinute: 0,\r\n                btTotalTime: 0,\r\n                btTotalTimeInString: \"\",\r\n                onHourSpin: function (e) {\r\n                    vm.view.billableTimeController.set('btHour', e.sender.value());\r\n                },\r\n                onMinuteSpin: function (e) {\r\n                    vm.view.billableTimeController.set('btMinute', e.sender.value());\r\n                },\r\n                dataSource: new kendo.data.DataSource({\r\n                    schema: {\r\n                        data: \"Data\",\r\n                        total: \"Total\",\r\n                        errors: \"Errors\",\r\n                        model: {\r\n                            id: \"BaseId\",\r\n                        }\r\n                    },\r\n                    data: {\r\n                        Data: boundArray,\r\n                        Total: boundArray.length\r\n                    }\r\n                }),\r\n                onDataBinding: function (e) {\r\n                    $.each(boundArray, function (i, item) {\r\n                        if (_.isUndefined(item.BillableTime)) {\r\n                            item.BillableTime = { BasedId: null, DisplayName: null };\r\n                        }\r\n                        item.LastUpdatedDisplay =\r\n                            !_.isUndefined(item.LastUpdated)\r\n                                ? kendo.toString(new Date(item.LastUpdated), 'g')\r\n                                : null;\r\n                    });\r\n                },\r\n                onDataBound: function (e) {\r\n                    for (var item in e.sender._data) {\r\n                        var dataItem = e.sender._data[item];\r\n                        if (_.isNull(dataItem.BillableTime.BasedId)) {\r\n                            var row = e.sender.tbody.find(\"tr[data-uid='\" + dataItem.uid + \"']\");\r\n                            row.hide();\r\n                        }\r\n                    }\r\n                },\r\n                onAddClick: function (e) {\r\n                    var hour = vm.view.billableTimeController.btHour;\r\n                    var minute = vm.view.billableTimeController.btMinute;\r\n                    var totalTime = vm.view.billableTimeController.btTotalTime;\r\n\r\n                    var isExisting = false;\r\n                    \r\n                    $.each(boundArray, function (i, item) {\r\n                        if (item.BillableTime.BaseId === session.user.Id) {\r\n                            item.set(\"LastUpdated\", new Date().toISOString());\r\n                            item.set(\"TimeInMinutes\", parseInt(item.get(\"TimeInMinutes\")) + (hour * 60) + minute);\r\n                            isExisting = true;\r\n                            return false;\r\n                        }\r\n                    });\r\n                    if (!isExisting) {\r\n                        var newBillableModel = {\r\n                            BillableTime: {\r\n                                BaseId: session.user.Id,\r\n                                DisplayName: session.user.Name\r\n                            },\r\n                            LastUpdated: new Date().toISOString(),\r\n                            LastModified: new Date().toISOString(),\r\n                            TimeInMinutes: (hour * 60) + minute,\r\n                            BasedId: app.lib.newGUID(),\r\n                            Image: app.config.iconPath + app.config.icons[\"comment\"],\r\n                            EnteredDate: new Date().toISOString(),\r\n                            ClassTypeId: \"6645cdbe-78a3-ab81-7de9-638b733214fe\",\r\n                            EnteredBy: session.user.Name,\r\n                            Title: null,\r\n                            Description: null\r\n                        }\r\n                        boundArray.push(newBillableModel);\r\n                    }\r\n                    vm.view.billableTimeController.computeTotalTime();\r\n                    vm.view.billableTimeController.resetTime();\r\n                },\r\n                onSubtractClick: function (e) {\r\n                    var hour = vm.view.billableTimeController.btHour;\r\n                    var minute = vm.view.billableTimeController.btMinute;\r\n                    var totalTime = vm.view.billableTimeController.btTotalTime;\r\n\r\n                    if ((totalTime < (hour * 60)) || (totalTime < minute)) {\r\n                        kendo.ui.ExtAlertDialog.show({\r\n                            title: localization.SubtractTimeTitle,\r\n                            message: localization.SubtractTimeMessage\r\n                        });\r\n                    } else {\r\n                        $.each(boundArray, function (i, item) {\r\n                            if (item.BillableTime.BaseId === session.user.Id) {\r\n                                item.set(\"LastUpdated\", new Date().toISOString());\r\n                                item.set(\"TimeInMinutes\", parseInt(item.get(\"TimeInMinutes\")) - (hour * 60) - minute);\r\n                                isExisting = true;\r\n                            }\r\n                        });\r\n                        vm.view.billableTimeController.computeTotalTime();\r\n                        vm.view.billableTimeController.resetTime();\r\n                    }\r\n                },\r\n                computeTotalTime: function (e) {\r\n                    var itemTotalTime = 0;\r\n                    \r\n                    $.each(boundArray, function (i, item) {\r\n                        if (item.get(\"ClassTypeId\") === \"6645cdbe-78a3-ab81-7de9-638b733214fe\") {\r\n                            itemTotalTime += parseInt(item.get(\"TimeInMinutes\"));\r\n                        }\r\n                    });\r\n\r\n                    if (boundArray.length > 1) {\r\n                        if (vm.view.billableTimeController.get(\"btTotalTime\") != null)\r\n                            itemTotalTime += parseInt(vm.view.billableTimeController.get(\"btTotalTime\"));\r\n                    }\r\n                    \r\n                    vm.view.billableTimeController.btTotalTime = itemTotalTime;\r\n                    vm.view.billableTimeController.btTotalTimeInString =\r\n                        (\"{0} : {1} {2}\")\r\n                        .replace(\"{0}\", localization.Totaltime)\r\n                        .replace(\"{1}\", vm.view.billableTimeController.btTotalTime)\r\n                        .replace(\"{2}\", localization.minutes);\r\n                },\r\n                resetTime: function () {\r\n                    $('#hourNumeric').data(\"kendoNumericTextBox\").value(0);\r\n                    vm.view.billableTimeController.set('btHour', 0);\r\n                    $('#minuteNumeric').data(\"kendoNumericTextBox\").value(0);\r\n                    vm.view.billableTimeController.set('btMinute', 0);\r\n                },\r\n                isVisible: !vm.isDisabled\r\n            });\r\n            vm.view.billableTimeController.computeTotalTime();\r\n            var view = new kendo.View(built(properties), { wrap: false, model: vm });\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/knowledgeArticle/view.html',[],function () { return '<div data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileHTMLGridTemplate\" class=\"mobile-grid\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">${KnowledgeArticleID}: ${Title}</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                # if ( Category && Category.length > 0 ){ #\\r\\n                <p>#: localizationHelper.localize(\"Category\") #: #: Category # </p>\\r\\n                # } #\\r\\n                # if ( Type && Type.length > 0 ){ #\\r\\n                <p>#: localizationHelper.localize(\"Type\") #: #: Type # </p>\\r\\n                # } #\\r\\n            </div>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <a class=\"k-delete-button\">#: localization.Remove #</a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12 file-attachments\"\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>>\\r\\n    <div>\\r\\n        <button class=\"btn btn-primary\" data-role=\"button\" data-bind=\"events:{click: view.knowledgeArticleModel.addClick}\"><%= localization.Add %> </button>\\r\\n    </div>\\r\\n    \\r\\n    <% if ( IsMobileView == false ){ %>\\r\\n        <div data-role=\"grid\"\\r\\n            data-bind=\"source: RelatedHTMLKB, events:{remove: view.knowledgeArticleModel.removeRelatedKB}\"\\r\\n            data-selectable=\"true\"\\r\\n            data-sortable=\"true\"\\r\\n            data-filterable=\"true\"\\r\\n            data-scrollable=\"false\"\\r\\n            data-column-menu=\"true\"\\r\\n            data-pageable=\"false\"\\r\\n            data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n            data-columns=\\'[\\r\\n                { field: \"KnowledgeArticleID\", title: localization.Id, width: \"10%\", attributes:{class:\"grid-highlight-column\"}},\\r\\n                { field: \"Title\", title: localization.Title, width: \"50%\", attributes:{class:\"grid-highlight-column\"}},\\r\\n                { field: \"Category\", title: localization.Category, width: \"20%\" },\\r\\n                { field: \"Type\", title: localization.Type, width: \"20%\" },\\r\\n                { width: \"4%\", command: [{ name: \"destroy\", buttonType: \"ImageAndText\", text: localization.Remove }] }\\r\\n                ]\\'>\\r\\n        </div>\\r\\n    <% } %>\\r\\n    <% if ( IsMobileView ){ %>\\r\\n        <div data-role=\"listview\" data-template=\"mobileHTMLGridTemplate\" data-bind=\"source: RelatedHTMLKB, events: {remove: view.knowledgeArticleModel.removeRelatedKB}\" class=\"mobile-grid-parent\"></div>\\r\\n    <% } %>\\r\\n</div>\\r\\n';});\n\n","\ndefine('text!forms/predefined/knowledgeArticle/popup.html',[],function () { return '<div class=\"cireson-window defined-form task-window hide\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-5\">\\r\\n                    <div class=\"form-group\">\\r\\n                        <label><%= localization.SearchText %></label>\\r\\n                        <span class=\"k-textbox k-space-right\">\\r\\n                            <input type=\"text\" data-bind=\"value: searchText\" />\\r\\n                            <span data-bind=\"events:{click: search}\" class=\"fa fa-search cursor-pointer\">&nbsp;</span>\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <label><%= localization.SelectObjects %></label>\\r\\n\\r\\n            <div class=\"objectPicker-container\">\\r\\n                <div class=\"k-widget k-grid k-secondary\"\\r\\n                     data-role=\"grid\"\\r\\n                     data-bind=\"source: dataSource\"\\r\\n                     data-selectable=\"multiple, row\"\\r\\n                     data-sortable=\"true\"\\r\\n                     data-filterable=\"true\"\\r\\n                     data-scrollable=\"false\"\\r\\n                     data-column-menu=\"true\"\\r\\n                     data-pageable=\"true\"\\r\\n                     data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n                     data-columns=\\'[\\r\\n                { field: \"ArticleId\", title: localization.Id, width: \"10%\"},\\r\\n                { field: \"Title\", title: localization.Title, width: \"90%\"}\\r\\n                ]\\'>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"objectPicker-actions\">\\r\\n                <button data-role=\"button\" data-bind=\"events:{click: add}\" class=\"btn btn-primary k-button\"><%= localization.Add %> </button>\\r\\n                <button data-role=\"button\" data-bind=\"events:{click: remove}\" class=\"btn btn-danger k-button\"><%= localization.Remove %> </button>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"k-widget k-grid k-secondary objectPicker-grid2-container\"\\r\\n                 data-role=\"grid\"\\r\\n                 data-bind=\"source: selectedItems\"\\r\\n                 data-selectable=\"multiple, row\"\\r\\n                 data-sortable=\"true\"\\r\\n                 data-filterable=\"true\"\\r\\n                 data-scrollable=\"false\"\\r\\n                 data-column-menu=\"true\"\\r\\n                 data-pageable=\"true\"\\r\\n                 data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n                 data-columns=\\'[\\r\\n                { field: \"ArticleId\", title: localization.Id, width: \"10%\"},\\r\\n                { field: \"Title\", title: localization.Title, width: \"90%\"}\\r\\n                ]\\'>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n        <div class=\"cireson-window--footer window-buttons\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n    \\r\\n</div>\\r\\n';});\n\n","/**\r\nknowledgeArticle\r\n**/\r\n\r\ndefine('forms/predefined/knowledgeArticle/controller',['require','text!forms/predefined/knowledgeArticle/view.html','text!forms/predefined/knowledgeArticle/popup.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/knowledgeArticle/view.html\");\r\n    var popupTpl = require(\"text!forms/predefined/knowledgeArticle/popup.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var properties = {\r\n                Disabled: false,\r\n                IsMobileView: app.isMobileDevice()\r\n            };\r\n            $.extend(true, properties, node);\r\n\r\n            //build the template for the popup window\r\n            var built = _.template(popupTpl);\r\n            var popupView = new kendo.View(built(properties), { wrap: false });\r\n\r\n            //add in popup window\r\n            callback(popupView.render());\r\n\r\n            //view model\r\n            vm.view.knowledgeArticleModel = kendo.observable({\r\n                addClick: function (e) {\r\n                    var popupWindow= popupView.element; \r\n                    win = popupWindow.kendoCiresonWindow({\r\n                        title: localization.SelectObject,\r\n                        width: 750,\r\n                        height: 710,\r\n                        actions: []\r\n                    }).data(\"kendoWindow\");\r\n\r\n                    //this view Model is bound to the popup element\r\n                    var modalViewModel = new kendo.observable({\r\n                        dataSource: new kendo.data.DataSource({\r\n                            transport: {\r\n                                read: {\r\n                                    url: \"/api/V3/KnowledgeBase/GetHTMLArticles\",\r\n                                    dataType: \"json\",\r\n                                    data: { userId: session.user.Id },\r\n                                    cache: false\r\n                                }\r\n                            },\r\n                            schema: {\r\n                                model: {\r\n                                    fields: {\r\n                                        ArticleId: { type: \"string\" },\r\n                                        Title: { type: \"string\" },\r\n                                        Category: { type: \"string\" },\r\n                                        Type: { type: \"string\" }\r\n                                    }\r\n                                }\r\n                            },\r\n                            pageSize: 5,\r\n                        }),\r\n                        selectedItems: new kendo.data.ObservableArray([]),\r\n                        searchText:\"\",\r\n                        search: function(e){\r\n                            var val = this.get(\"searchText\");\r\n                            this.dataSource.read();\r\n                            this.dataSource.filter({\r\n                                logic: \"or\",\r\n                                filters: [\r\n                                    {\r\n                                        field: \"ArticleId\",\r\n                                        operator: \"contains\",\r\n                                        value: val\r\n                                    },\r\n                                    {\r\n                                        field: \"Title\",\r\n                                        operator: \"contains\",\r\n                                        value: val\r\n                                    },\r\n                                    {\r\n                                        field: \"Category\",\r\n                                        operator: \"contains\",\r\n                                        value: val\r\n                                    },\r\n                                    {\r\n                                        field: \"Type\",\r\n                                        operator: \"contains\",\r\n                                        value: val\r\n                                    }\r\n                                ]\r\n                            });\r\n                        },\r\n                        add: function (e) {\r\n                            var gridEle = popupWindow.find('[data-role=\"grid\"]').first();\r\n                            var grid = gridEle.data(\"kendoGrid\");\r\n                            var selectedRows = grid.select();\r\n\r\n                            for (var i = 0; i < selectedRows.length; i++) {\r\n                                var dataItem = grid.dataItem(selectedRows[i]);\r\n                                if (dataItem) {\r\n                                    //check first if article is already on the selected list before adding it to the second grid\r\n                                    var articleIds = _.pluck(this.selectedItems, \"ArticleId\");\r\n                                    var isAdded = _.contains(articleIds, dataItem.ArticleId);\r\n\r\n                                    if (!isAdded) {\r\n                                        this.selectedItems.push(dataItem);\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            var selectedGridEle = popupWindow.find('[data-role=\"grid\"]').last();\r\n                            selectedGridEle.data(\"kendoGrid\").dataSource.query({ page: 1, pageSize: 5 });\r\n                        },\r\n                        remove: function (e) {\r\n                            var gridEle = popupWindow.find('[data-role=\"grid\"]').last();\r\n                            var grid = gridEle.data(\"kendoGrid\");\r\n                            var selectedRows = grid.select();\r\n\r\n                            for (var i = 0; i < selectedRows.length; i++) {\r\n                                var dataItem = grid.dataItem(selectedRows[i]);\r\n                                this.selectedItems.pop(dataItem);\r\n                            }\r\n                        },\r\n                        save: function (e) {\r\n                            var relatedHTMLKB = !_.isUndefined(vm.get(\"RelatedHTMLKB\")) ? vm.get(\"RelatedHTMLKB\") : [];\r\n                            _.each(this.selectedItems, function (item) {\r\n                                relatedHTMLKB.push({\r\n                                    KnowledgeArticleID: item.ArticleId,\r\n                                    WorkItemID: (vm.ClassName.indexOf(\"WorkItem\") != -1) ? vm.BaseId : null,\r\n                                    WorkItemId: (vm.ClassName.indexOf(\"WorkItem\") != -1) ? vm.Id : null,\r\n                                    AssetID: (vm.ClassName.indexOf(\"AssetManagement\") != -1) ? vm.BaseId : null,\r\n                                    AssetId: (vm.ClassName.indexOf(\"AssetManagement\") != -1) ? vm.Id : null,\r\n                                    Title: item.Title,\r\n                                    Category: item.Category,\r\n                                    Type: item.Type\r\n                                });\r\n                            });\r\n\r\n                            vm.set(\"RelatedHTMLKB\", relatedHTMLKB);\r\n\r\n                            win.close();\r\n                        },\r\n                        cancel: function (e) {\r\n                            win.close();\r\n                        }\r\n                    });\r\n\r\n                    //add control to the window\r\n                    kendo.bind(popupWindow, modalViewModel);\r\n\r\n                    popupWindow.removeClass('hide');\r\n                    popupWindow.show();\r\n\r\n                    win.open();\r\n                },\r\n                bindRowClick: function (e) {\r\n                    var gridEle = view.element.find('[data-role=\"grid\"]').first();\r\n                    gridEle.on(\"click\", \"td\", function (e) {\r\n                        var highlightedColumn = $(e.currentTarget).hasClass(\"grid-highlight-column\");\r\n                        if (!highlightedColumn) { return }\r\n\r\n                        var kendoGrid = gridEle.data(\"kendoGrid\");\r\n                        var selectedItem = kendoGrid.dataItem($(e.currentTarget).closest(\"tr\"));\r\n\r\n                        //open kb on a new tab when clicked\r\n                        window.open(\"/KnowledgeBase/View/\" + selectedItem.KnowledgeArticleID, '_blank');\r\n                    });\r\n\r\n\r\n                    if (!app.isMobile())\r\n                    {\r\n                        var grid = gridEle.data(\"kendoGrid\");\r\n\r\n                        grid.dataSource.originalFilter = grid.dataSource.filter;\r\n\r\n                        // Replace the original filter function.\r\n                        grid.dataSource.filter = function () {\r\n\r\n                            // Call the original filter function.\r\n                            var result = grid.dataSource.originalFilter.apply(this, arguments);\r\n\r\n                            // If a column is about to be filtered, then raise a new \"filtering\" event.\r\n                            if (arguments.length > 0) {\r\n                                this.trigger(\"filterApplied\", arguments);\r\n                            }\r\n\r\n                            return result;\r\n                        }\r\n\r\n                        grid.dataSource.bind(\"filterApplied\", function () {\r\n\r\n                            $.each($(gridEle).find(\"th a.k-header-column-menu i\"), function () {\r\n                                $(this).remove();\r\n                            });\r\n\r\n                            if (grid.dataSource.filter()) {\r\n\r\n                                var filters = grid.dataSource.filter().filters || [];\r\n                                var dsFilters = [];\r\n                                for (var i in filters) {\r\n                                    if (filters[i].filters) {\r\n                                        var innerFilters = filters[i].filters;\r\n                                        for (var x in innerFilters) {\r\n                                            dsFilters.push(innerFilters[x]);\r\n                                        }\r\n                                    } else {\r\n                                        dsFilters.push(filters[i]);\r\n                                    }\r\n                                }\r\n\r\n                                dsFilters = _.uniq(dsFilters, function (el) { return el.field; });\r\n\r\n                                for (var i in dsFilters) {\r\n                                    $(gridEle).find(\"th[data-field=\" + dsFilters[i].field + \"] a.k-header-column-menu\").append(\"<i class=\\\"fa fa-filter\\\"></i>\");\r\n                                }\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                    },\r\n                    \r\n                getAllRelatedWorkItems: function (e) {\r\n                    //this will hold all the related knowledge article data\r\n                    var relatedHTMLKB = !_.isUndefined(vm.get(\"RelatedHTMLKB\")) ? vm.get(\"RelatedHTMLKB\") : new kendo.data.ObservableArray([]);\r\n\r\n                    var url = '';\r\n\r\n                    if (vm.ClassName.indexOf(\"WorkItem\") != -1)\r\n                        url = app.lib.addUrlParam(\"/api/V3/Article/GetArticlesRelatedToWorkItem\", \"workItemId\", vm.BaseId);\r\n                    else if (vm.ClassName.indexOf(\"AssetManagement\") != -1)\r\n                        url = app.lib.addUrlParam(\"/api/V3/Article/GetArticlesRelatedToAsset\", \"assetId\", vm.BaseId);\r\n\r\n                    $.ajax({\r\n                        url: url,\r\n                        dataType: 'json',\r\n                        type: \"POST\",\r\n                        success: function (data) {\r\n                            //set the value\r\n                            _.each(data, function (item) {\r\n                                relatedHTMLKB.push({\r\n                                    KnowledgeArticleID: item.ArticleID,\r\n                                    WorkItemID: (vm.ClassName.indexOf(\"WorkItem\") != -1) ? vm.BaseId : null,\r\n                                    WorkItemId: (vm.ClassName.indexOf(\"WorkItem\") != -1) ? vm.Id : null,\r\n                                    AssetID: (vm.ClassName.indexOf(\"AssetManagement\") != -1) ? vm.BaseId : null,\r\n                                    AssetId: (vm.ClassName.indexOf(\"AssetManagement\") != -1) ? vm.Id : null,\r\n                                    Title: item.Title,\r\n                                    Category: item.CategoryName,\r\n                                    Type: item.TypeName\r\n                                });\r\n                            });\r\n\r\n                            //to avoid triggering isDirty, update viewModel only if there is/are related KB\r\n                            if (relatedHTMLKB.length > 0) {\r\n                                vm.set(\"RelatedHTMLKB\", relatedHTMLKB);\r\n                            }\r\n                        },\r\n                        error: function (e) {\r\n                            //log error and display generic error tesxt\r\n                            app.lib.log(e.errorThrown + ' - When retrieving data from /api/V3/Article/GetArticlesRelatedToWorkItem');\r\n                        }\r\n                    });\r\n                },\r\n                removeRelatedKB: function (e) {\r\n                    //this will hold all the to be deleted related knowledge article \r\n                    var removeHTMLKB = !_.isUndefined(vm.get(\"RemoveRelatedHTMLKB\")) ? vm.get(\"RemoveRelatedHTMLKB\") : new kendo.data.ObservableArray([]);\r\n                    removeHTMLKB.push(e.model);\r\n                    vm.set(\"RemoveRelatedHTMLKB\", removeHTMLKB);\r\n                }\r\n            });\r\n\r\n            //build it\r\n            var built = _.template(tpl);\r\n            var view = new kendo.View(built(properties), { wrap: false, model: vm.view.knowledgeArticleModel });\r\n            callback(view.render());\r\n\r\n            vm.view.knowledgeArticleModel.getAllRelatedWorkItems();\r\n            vm.view.knowledgeArticleModel.bindRowClick();\r\n        }\r\n    }\r\n\r\n    return definition;\r\n});\n","\ndefine('text!forms/fields/string/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input type=\"text\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n           class=\"k-textbox form-control input-sm\"\\r\\n           data-bind=\"value: <%= PropertyName %><% if ( LimitLength ){ %>, events : { blur: view.stringController.CheckLength }<% } %>\"\\r\\n\\r\\n\\r\\n    <% if ( LimitLength ){ %>\\r\\n    maxlength=\"<%= MaxLength %>\"\\r\\n    <% } %>\\r\\n\\r\\n    <% if ( Disabled ){ %>\\r\\n    disabled\\r\\n    <% } %>\\r\\n\\r\\n    <% if ( Required ){ %>\\r\\n    required\\r\\n    <% } %>\\r\\n\\r\\n    />\\r\\n\\r\\n    <% if ( LimitLength ){ %>\\r\\n    <p class=\"help-block validation-summary-errors\" style=\"display: none;\"><%= localization.MaxLengthError.replace(\"{0}\", MaxLength) %></p>\\r\\n    <% } %>\\r\\n\\r\\n</div>';});\n\n","/**\r\nSTRING\r\n**/\r\n\r\ndefine('forms/fields/string/controller',['require','text!forms/fields/string/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/string/view.html\");\r\n\r\n\r\n    var definition = {\r\n\r\n        template: tpl,\r\n        build: function (viewModel, node, callback) {\r\n            \r\n            var vm = node.vm;\r\n            var view = new kendo.View();\r\n\r\n            if (_.isUndefined(vm.view)) {\r\n                vm.view = [];\r\n            }\r\n            vm.view.stringController = {\r\n                CheckLength: function CheckLength(e) { //blur event\r\n                    setTimeout(function () {\r\n                        var elem = $(e.currentTarget);\r\n                        var helpBlock = elem.next();\r\n                        var maxChars = elem.attr('maxlength');\r\n                        var count = elem.val().length;\r\n                        if (count > maxChars) {\r\n                            elem.attr('data-invalid', '');\r\n                            helpBlock.show();\r\n                        } else {\r\n                            helpBlock.hide();\r\n                            elem.removeAttr('data-invalid');\r\n                            elem.data('prevent', false);\r\n                        }\r\n                    }, 100);\r\n                }\r\n            };\r\n\r\n            vm.view.buildStringView = function () {\r\n                //build template using underscore.js so that we can interpret kendo template vars if needed\r\n                var built = _.template(tpl);\r\n                var limitLength = false;\r\n                if (!_.isUndefined(node.MinLength) || !_.isUndefined(node.MaxLength)) {\r\n                    limitLength = true;\r\n                };\r\n\r\n                var properties = {\r\n                    Required: node.Required,\r\n                    Disabled: node.disabled,\r\n                    MinLength: node.MinLength,\r\n                    MaxLength: node.MaxLength,\r\n                    LimitLength: limitLength\r\n                };\r\n                $.extend(true, properties, node);\r\n                \r\n                view = new kendo.View(built(properties), { wrap: false, model: vm });\r\n                callback(view.render());\r\n            };\r\n            vm.view.buildStringView();\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/fields/longstring/view.html',[],function () { return '<div class=\"form-group <%= visible %>\" style=\"\">\\r\\n\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <textarea name=\"<%= PropertyName %>\"\\r\\n              class=\"k-textbox form-control input-sm\"\\r\\n              rows=\"<%= Rows %>\"\\r\\n              data-bind=\"value: <%= PropertyName %><% if ( LimitLength ){ %>, events : { blur: view.longStringController.CheckLength }<% } %>\"\\r\\n        <% if ( LimitLength ){ %>\\r\\n        maxlength=\"<%= MaxLength %>\"\\r\\n        <% } %>\\r\\n\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n\\r\\n        >\\r\\n    </textarea>\\r\\n    <% if ( LimitLength ){ %>\\r\\n    <p class=\"help-block validation-summary-errors\" style=\"display: none;\"><%= localization.MaxLengthError.replace(\"{0}\", MaxLength) %></p>\\r\\n    <% } %>\\r\\n</div>\\r\\n<script>\\r\\n    $(\\'textarea[name=ResolutionDescription]\\').removeClass(\\'form-control\\');\\r\\n</script>\\r\\n';});\n\n","/**\r\nLONGSTRING\r\n**/\r\n\r\ndefine('forms/fields/longstring/controller',['require','text!forms/fields/longstring/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/longstring/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (viewModel, node, callback) {\r\n            var vm = node.vm;\r\n            var view = new kendo.View();\r\n\r\n            if (_.isUndefined(vm.view)) {\r\n                vm.view = [];\r\n            }\r\n            vm.view.longStringController = {\r\n                CheckLength: function checkLength(e) { //blur event\r\n                    setTimeout(function () {\r\n                        var elem = $(e.currentTarget);\r\n                        var helpBlock = elem.next();\r\n                        var maxChars = elem.attr('maxlength');\r\n                        var count = elem.val().length;\r\n                        if (count > maxChars) {\r\n                            elem.attr('data-invalid', '');\r\n                            helpBlock.show();\r\n                        } else {\r\n                            helpBlock.hide();\r\n                            elem.removeAttr('data-invalid');\r\n                            elem.data('prevent', false);\r\n                        }\r\n                    }, 100);\r\n                }\r\n            };\r\n            vm.view.buildLongStringView = function () {\r\n                //build template using underscore.js so that we can interpret kendo template vars if needed\r\n                var built = _.template(tpl);\r\n                var limitLength = false;\r\n                if (!_.isUndefined(node.MinLength) || !_.isUndefined(node.MaxLength)) {\r\n                    limitLength = true;\r\n                };\r\n\r\n                var properties = {\r\n                    Required: node.Required,\r\n                    Disabled: node.disabled,\r\n                    MinLength: node.MinLength,\r\n                    MaxLength: node.MaxLength,\r\n                    LimitLength: limitLength,\r\n                    Rows: 10,\r\n                    visible: (!_.isUndefined(node.IsVisible) && node.IsVisible == false ? \"hidden\" : \"\")\r\n                };\r\n                $.extend(true, properties, node);\r\n                //console.log(properties);\r\n                view = new kendo.View(built(properties), { wrap: false, model: vm });\r\n                callback(view.render());\r\n            };\r\n            vm.view.buildLongStringView();\r\n        }\r\n    }\r\n\r\n    return definition;\r\n});\r\n\n","\ndefine('text!forms/fields/boolean/view.html',[],function () { return '<div class=\"form-group <%= visible %>\">\\r\\n    <% if ( !Inline ){ %>\\r\\n    <label class=\"control-label\" data-localize=\"<%= PropertyDisplayName %>\"><span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span></label>\\r\\n    <% } %>\\r\\n\\r\\n    <div class=\"checkbox <% if ( Inline ){ %> checkbox-inline <% } else { %> checkbox-block <% } %>\">\\r\\n        <input type=\"checkbox\"\\r\\n               name=\"<%= PropertyName %>\"\\r\\n               id=\"<%= PropertyName %>\"\\r\\n               data-bind=\"checked: <%= PropertyName %>\"<% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        />\\r\\n\\r\\n\\r\\n        <label class=\"control-label\" for=\"<%= PropertyName %>\">\\r\\n            <% if ( Inline ){ %>\\r\\n            <span data-localize=\"<%= PropertyDisplayName %>\"></span>\\r\\n            <% } %>\\r\\n        </label>\\r\\n\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nBOOLEAN\r\n**/\r\n\r\ndefine('forms/fields/boolean/controller',['require','text!forms/fields/boolean/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/boolean/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n            var properties = {\r\n                Disabled: node.disabled,\r\n                Required: node.Required,\r\n                Inline: node.Inline || false,\r\n                visible: (!_.isUndefined(node.IsVisible) && node.IsVisible == false ? \"hidden\" : \"\")\r\n        };\r\n            \r\n            \r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/display/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <% if ( !HideLabel ){ %>\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\"></label>\\r\\n    <% } %>\\r\\n    <div class=\"display-field\" data-bind=\"text: <%= PropertyName %>\"></div>\\r\\n</div>';});\n\n","/**\r\nDISPLAY\r\n**/\r\n\r\ndefine('forms/fields/display/controller',['require','text!forms/fields/display/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/display/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n            var properties = {\r\n                HideLabel: false\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/spacer/view.html',[],function () { return '<div class=\"form-group\">\\r\\n\\r\\n</div>';});\n\n","/**\r\nSPACER\r\n**/\r\n\r\ndefine('forms/fields/spacer/controller',['require','text!forms/fields/spacer/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/spacer/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n            var properties = {\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/numeric/view.html',[],function () { return '<div data-cid=\"NumericControl\" data-cid-propname=\"<%= PropertyName %>\" class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input type=\"number\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n           class=\"form-control form-control-picker input-sm\"\\r\\n           data-control=\"numericTextBox\"\\r\\n           data-bind=\"value: <%= PropertyName %>\"\\r\\n           data-control-decimals=\"<%= DecimalPlaces %>\"\\r\\n           data-control-min=\"<%= MinValue%>\"\\r\\n           data-control-max=\"<%= MaxValue %>\"\\r\\n           data-step=\"<%= StepIncrement %>\"\\r\\n           data-format=\"<%= Format%>\"\\r\\n\\r\\n            <% if ( Disabled ){ %>\\r\\n                disabled\\r\\n            <% } %>\\r\\n\\r\\n            <% if ( Required ){ %>\\r\\n            required\\r\\n            <% } %>\\r\\n\\r\\n    />\\r\\n</div>';});\n\n","/**\r\nNUMERIC\r\n**/\r\n\r\ndefine('forms/fields/numeric/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                Required: node.Required,\r\n                DecimalPlaces: 2,\r\n                MinValue: 0,\r\n                MaxValue: 100,\r\n                StepIncrement: 1,\r\n                Disabled: node.disabled,\r\n                Format: ''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","/**\r\nINT32\r\n**/\r\n\r\ndefine('forms/fields/int/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\"); //use numeric template\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            var boundObj = node.vm;\r\n            //make sure we have all the vals set\r\n            \r\n            var properties = {\r\n                Required: node.Required,\r\n                DecimalPlaces: 0,\r\n                MinValue: -2147483648,\r\n                MaxValue: 2147483648,\r\n                StepIncrement: 1,\r\n                Disabled: node.disabled,\r\n                Format: ''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            var templateFrag = $(built(properties));\r\n            new Control(templateFrag.find(\"[data-control='numericTextBox']\"), boundObj, node);\r\n\r\n            callback(templateFrag);\r\n        }\r\n    }\r\n\r\n\r\n    var Control = function (targetEle, boundObj, node) {\r\n\r\n        //This will be used for mobile because the numeric event wont triggering when you type in the value.\r\n        if (app.isMobile()) {\r\n            var editor = targetEle.data();\r\n            setTimeout(function () {\r\n                var number = targetEle.parent().find(\"input[type='number']\");\r\n                number.change(function () {\r\n                    boundObj.set(node.PropertyName, number.val());\r\n                });\r\n            }, 100);\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","/**\r\nDECIMAL\r\n**/\r\n\r\ndefine('forms/fields/decimal/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\"); //use numeric template\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                //Required: false,\r\n                DecimalPlaces: 20,\r\n                MinValue: '',\r\n                MaxValue: '',\r\n                StepIncrement: 1,\r\n                Disabled: node.disabled,\r\n                Required: node.Required,\r\n                Format: ''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","/**\r\nDOUBLE\r\n**/\r\n\r\ndefine('forms/fields/double/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\"); //use numeric template\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                //Required: false,\r\n                DecimalPlaces: 19,\r\n                MinValue: '',\r\n                MaxValue: '',\r\n                StepIncrement: 1,\r\n                Disabled: node.disabled,\r\n                Required: node.Required,\r\n                Format:''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/date/view.html',[],function () { return '<div class=\"form-group\"\\r\\n    <% if ( Required ){ %>\\r\\n    required\\r\\n    <% } %>\\r\\n    >\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input name=\"<%= PropertyName %>\"\\r\\n           data-control=\"datePicker\"\\r\\n           data-control-bind=\"<%= PropertyName %>\"\\r\\n           data-control-from=\"<%= FromFilter %>\"\\r\\n           data-control-to=\"<%= ToFilter %>\"\\r\\n           data-control-from-relative=\"<%= FromRelative %>\"\\r\\n           data-control-to-relative=\"<%= ToRelative %>\"\\r\\n    <% if ( Disabled ){ %>\\r\\n    disabled\\r\\n    <% } %>\\r\\n\\r\\n     />\\r\\n</div>';});\n\n","/**\r\nDate\r\n**/\r\n\r\ndefine('forms/fields/date/controller',['require','text!forms/fields/date/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/date/view.html\");\r\n\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                FromFilter: '',\r\n                ToFilter: '',\r\n                FromRelative: '',\r\n                ToRelative: '',\r\n                Disabled: node.disabled,\r\n                Required: node.Required\r\n            };\r\n\r\n            //set from filter\r\n            if (node.MinValue != undefined) {\r\n                if (node.MinValue.indexOf(\":\") != -1) {\r\n                    properties.FromRelative = node.MinValue;\r\n                } else if (typeof node.MinValue == \"string\") {\r\n                    properties.FromFilter = node.MinValue;\r\n                }\r\n            }\r\n\r\n            //set to filter\r\n            if (node.MaxValue != undefined) {\r\n                if (node.MaxValue.indexOf(\":\") != -1) {\r\n                    properties.ToRelative = node.MaxValue;\r\n                } else if (typeof node.MaxValue == \"string\") {\r\n                    properties.ToFilter = node.MaxValue;\r\n                }\r\n            }\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/datetime/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n\\r\\n    <input name=\"<%= PropertyName %>\"\\r\\n           data-control=\"dateTimePicker\"\\r\\n           data-control-bind=\"<%= PropertyName %>\"\\r\\n           data-control-from=\"<%= FromFilter %>\"\\r\\n           data-control-to=\"<%= ToFilter %>\"\\r\\n           data-control-from-relative=\"<%= FromRelative %>\"\\r\\n           data-control-to-relative=\"<%= ToRelative %>\"\\r\\n    \\r\\n    <% if ( Disabled ){ %>\\r\\n    disabled\\r\\n    <% } %>\\r\\n\\r\\n    <% if ( Required ){ %>\\r\\n    required\\r\\n    <% } %>\\r\\n\\r\\n    >\\r\\n</div>';});\n\n","/**\r\nDATETIME\r\n**/\r\n\r\ndefine('forms/fields/datetime/controller',['require','text!forms/fields/datetime/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/datetime/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                FromFilter: '',\r\n                ToFilter: '',\r\n                FromRelative: '',\r\n                ToRelative: '',\r\n                Disabled: node.disabled,\r\n                Required: node.Required\r\n            };\r\n\r\n            //set from filter\r\n            if (typeof node.MinValue == \"string\") {\r\n                if (node.MinValue.indexOf(\":\") != -1) {\r\n                    properties.FromRelative = node.MinValue;\r\n                } else {\r\n                    properties.FromFilter = node.MinValue;\r\n                }\r\n            }\r\n\r\n            //set to filter\r\n            if (typeof node.MaxValue == \"string\") {\r\n                if (node.MaxValue.indexOf(\":\") != -1) {\r\n                    properties.ToRelative = node.MaxValue;\r\n                 } else {\r\n                    properties.ToFilter = node.MaxValue;\r\n                 }\r\n            }\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/enum/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n\\r\\n    <div class=\"form-control form-control-picker input-sm\"\\r\\n         data-url=\"/api/V3/Enum/GetList\"\\r\\n         data-combourl=\"/api/V3/Enum/GetFlatList/\"\\r\\n         data-showpath=\"<%= ShowPath %>\"\\r\\n         data-mustselectleafnode=\"<%= LeafNodeOnly %>\"\\r\\n         data-bind=\"ciresonDropDownTree: \\'<%= EnumId %>\\', value: <%= PropertyName %>\"\\r\\n         data-disabled=\"<%= Disabled %>\"\\r\\n         data-role=\"<%= PropertyName %>\"\\r\\n         data-filter=\"<%= FilterIds%>\"\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n        >\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>';});\n\n","/**\r\nENUM - dropDownTree\r\n**/\r\n\r\ndefine('forms/fields/enum/controller',['require','text!forms/fields/enum/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/enum/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                EnumId: '',\r\n                Required: node.Required,\r\n                Disabled: node.disabled,\r\n                LeafNodeOnly: false,\r\n                ShowPath: false,\r\n                FilterIds: ''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/userPicker/view.html',[],function () { return '<div class=\"form-group\" data-cid=\"userpicker\" data-cid-propname=\"<%= PropertyName %>\"\\r\\n            <% if ( Required ){ %>\\r\\n            required\\r\\n            <% } %>>\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input class=\"input-userpicker\"\\r\\n           data-control=\"userPicker\"\\r\\n           data-control-bind=\"<%= PropertyName %>\"\\r\\n           data-control-extra=\"<%= ExtraProps %>\"\\r\\n           data-control-delay=\"<%= Delay %>\"\\r\\n           data-control-minlength=\"<%= MinLength %>\"\\r\\n           data-control-filterbyanalyst=\"<%= FilterByAnalyst%>\"\\r\\n           data-control-maxnumberofresults=\"<%= MaxNumberOfResults%>\"\\r\\n           type=\"text\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n            <% if ( Disabled ){ %>\\r\\n            disabled\\r\\n            <% } %>\\r\\n\\r\\n    />\\r\\n</div>';});\n\n","\ndefine('text!forms/popups/userPickerPopup/view.html',[],function () { return '<div id=\"UserPickerPopupWindow\" class=\"cireson-window defined-form task-window\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-6\">\\r\\n                    <div class=\"form-group popup-search-box\">\\r\\n                        <input type=\"text\" data-value-update=\"keyup\" placeholder=\"<%= localization.SearchText %>\" data-bind=\"value: searchValue, events: { keypress: searchOnEnter }\" class=\"search-input\">\\r\\n                        <span data-bind=\"events:{click: search}\" class=\"search-icon\">\\r\\n                            <i class=\"fa fa-search\"></i>\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div data-bind=\"visible: isDesktopView\">\\r\\n                <div data-control-grid=\"userPickerGrid\"></div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\"row\" data-bind=\"visible: isMobileView\">\\r\\n                <div class=\"col-md-4\">\\r\\n                    <div data-role=\"listview\"\\r\\n                         data-bind=\"source: userDataSource, events:{change: onListViewChanged}\"\\r\\n                         data-template=\"user-grid-mobile-template\"\\r\\n                         data-selectable=\"true\"\\r\\n                         class=\"user-listBox\"></div>\\r\\n                    <div data-role=\"pager\"\\r\\n                         data-bind=\"source: userDataSource\"\\r\\n                         data-numeric=\"false\"></div>\\r\\n                    <script type=\"text/x-kendo-template\" id=\"user-grid-mobile-template\">\\r\\n                        <div class=\"user-info\">\\r\\n                            <dl>\\r\\n                                <dt>#: FirstName # #: LastName #</dt>\\r\\n                                <dd>#: UserName # &middot; #: Title #</dd>\\r\\n                                <dd>#: Domain # &middot; #: Company #</dd>\\r\\n                            </dl>\\r\\n                        </div>\\r\\n\\r\\n                    </script>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"cireson-window--footer window-buttons objectPicker-single-grid\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n';});\n\n","/**\r\nuserPickerPopup\r\n**/\r\nvar __userPickerPopupSingleton;\r\n\r\ndefine('forms/popups/userPickerPopup/controller',['require','text!forms/popups/userPickerPopup/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/popups/userPickerPopup/view.html\");\r\n    var singletonName = \"userPickerPopup\"; // used to call for singleton\r\n    var definition = {\r\n        template: tpl,\r\n        getPopup: function (groupsOnly) {\r\n            // keep popup window as singleton\r\n            if (__userPickerPopupSingleton) {\r\n                return __userPickerPopupSingleton;\r\n            }\r\n            //only build the template if the popup singleton does not exist.\r\n            var built = _.template(tpl);\r\n            var ele = $(built());\r\n\r\n            $(\"body\").append(ele);\r\n            __userPickerPopupSingleton = new UserPickerPopup(ele, groupsOnly);\r\n            \r\n            return __userPickerPopupSingleton;\r\n        }\r\n    }\r\n\r\n    /* -- UserPickerPopup --\r\n        // params\r\n            targetEle = domEle to create popup with\r\n        // public methods               \r\n            setSaveCallback = function(callback) sets callback to listen for save event\r\n            // callback returns selected user object\r\n    */\r\n\r\n    // NAME/ID pair data model\r\n    // used to map name/id to server or viewModel\r\n    // Generic getter and setters:  name,id\r\n    var NameIdModel = function (nameProp, idProp) {\r\n        var self = this;\r\n        this.serverNameProp = nameProp;\r\n        this.serverIdProp = idProp;\r\n        var data = {};\r\n        data[self.serverNameProp];\r\n        data[self.serverIdProp];\r\n        this.set = {\r\n            name: function (val) { data[self.serverNameProp] = val; },\r\n            id: function (val) { data[self.serverIdProp] = val; }\r\n        }\r\n        this.setObj = function (name, id) {\r\n            self.set.name(name); self.set.id(id);\r\n        }\r\n        this.setFromObj = function (obj) {\r\n            self.setObj(obj[self.serverNameProp], obj[self.serverIdProp]);\r\n        }\r\n        this.get = {\r\n            name: function () { return data[self.serverNameProp]; },\r\n            id: function () { return data[self.serverIdProp]; }\r\n        }\r\n        this.getFromObj = function (obj) {\r\n            self.setFromObj(obj);\r\n            return data;\r\n        }\r\n        this.getObj = function (name, id) { if (typeof (name) != \"undefined\" && typeof (id) != \"undefined\") { self.setObj(name, id); } return data; }\r\n        this.getGenericFromObj = function (obj) {\r\n            this.setFromObj(obj);\r\n            return {\r\n                name: self.get.name(),\r\n                id: self.get.id()\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // CONTROL\r\n    var UserPickerPopup = function (targetEle, groupsOnly) {\r\n        var self = this;\r\n        var html = targetEle;\r\n        var gridHtml = targetEle.find(\"[data-control-grid]\");\r\n        var grid;\r\n        var gridUrl = groupsOnly\r\n            ? \"/User/GetUserSearchResults?groupsOnly=true\"\r\n            : \"/User/GetUserSearchResults\";\r\n        var popup;\r\n        var _vm;\r\n\r\n        // model getters/setters\r\n        // Props return from grid search to match to generic model\r\n        var _textProp = \"Name\";\r\n        var _idProp = \"Id\";\r\n        var _model = new NameIdModel(_textProp, _idProp);\r\n\r\n        // getter/setters        \r\n        this.setSaveCallback = function (callback) {\r\n            $(self).unbind(\"save\")\r\n                .bind(\"save\", function (e, obj) { callback(obj); });\r\n        }\r\n        this.setCancelCallback = function (callback) {\r\n            $(self).unbind(\"cancel\")\r\n                .bind(\"cancel\", function (e, obj) { callback(obj); });\r\n        }\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n            _vm = kendo.observable({\r\n                searchText: localization.SearchText,\r\n                selectUserText: groupsOnly ? localization.SelectGroup : localization.SelectUser,\r\n                searchValue: \"\",\r\n                //okText: localization.OK,\r\n                //cancelText: localization.Cancel,\r\n                search: onSearchClick,\r\n                searchOnEnter: function(e) {\r\n                    if (e.which == 13) {\r\n                        e.preventDefault();\r\n                        onSearchClick();\r\n                    }\r\n                },\r\n                save: onSaveClick,\r\n                cancel: onCancelClick,\r\n                userDataSource: new kendo.data.DataSource(),\r\n                onListViewChanged: function (e) {\r\n                    var index = e.sender.select().index();\r\n                    var dataItem = e.sender.dataSource.view()[index];\r\n                    this.set(\"selectedUser\", dataItem);\r\n                },\r\n                selectedUser: null,\r\n                isDesktopView: !app.isMobileDevice(),\r\n                isMobileView: app.isMobileDevice()\r\n\r\n        });\r\n            kendo.bind(html, _vm);\r\n            createPopup();\r\n            createGrid();\r\n            bindEvents();\r\n            self.open = openPopup;\r\n            self.close = closePopup;\r\n            self.vm = _vm;\r\n        }\r\n\r\n        /************************/\r\n        /*** CONTROL EVENTS *****/\r\n        /************************/\r\n\r\n        var bindEvents = function () {\r\n            \r\n        }\r\n\r\n        /******************************/\r\n        /*** CONTROL USER ACTIONS *****/\r\n        /******************************/\r\n\r\n        var onSearchClick = function () {\r\n            grid.search(_vm.searchValue);\r\n        }\r\n        var onSaveClick = function (e) {\r\n            var onMobile = app.isMobileDevice();\r\n            if (onMobile) {\r\n                if (!_.isNull(_vm.selectedUser)) {\r\n                    var userObj = _model.getGenericFromObj(_vm.selectedUser);\r\n                    $(self).trigger(\"save\", userObj);\r\n                    closePopup();\r\n                }\r\n            } else {\r\n                var selectedRow = grid.kendoGrid.select();\r\n                if (selectedRow) {\r\n                    var obj = _model.getGenericFromObj(grid.kendoGrid.dataItem(selectedRow));\r\n                    $(self).trigger(\"save\", obj);\r\n                    closePopup();\r\n                }\r\n            }\r\n        }\r\n        var onCancelClick = function () {\r\n            $(self).trigger(\"cancel\");\r\n            closePopup();\r\n        }\r\n\r\n        /*************************/\r\n        /*** CONTROL METHODS *****/\r\n        /*************************/\r\n        var openPopup = function () {\r\n            //clear out search box value and search results before opening the window\r\n            self.vm.set(\"searchValue\", \"\");\r\n            grid.kendoDataSource.data([]);\r\n            popup.kendoWindow.open();\r\n        }\r\n        var closePopup = function () {\r\n            popup.kendoWindow.close();\r\n        }\r\n        var createPopup = function () {\r\n            popup = new Popup(groupsOnly);\r\n        }        \r\n        var createGrid = function () {\r\n            grid = new Grid({\r\n                html: gridHtml,\r\n                url: gridUrl\r\n            });\r\n        }\r\n\r\n        /****************************/\r\n        /*** CONTROL SUBCLASSES *****/\r\n        /****************************/\r\n\r\n        /* -- Popup --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n               \r\n        */\r\n        var Popup = function (groupsOnly) {\r\n            var self = this;\r\n            var kendoWindow;\r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoWindow();\r\n                self.kendoWindow = kendoWindow;\r\n            }\r\n\r\n            // EVENTS\r\n           \r\n            // ACTIONS\r\n\r\n            // METHODS\r\n            \r\n            var createKendoWindow = function() {\r\n                kendoWindow = html.kendoCiresonWindow({\r\n                    title: groupsOnly ? localization.SelectGroup : localization.SelectUser,\r\n                    content: null,\r\n                    width: 680,\r\n                    height: 420,\r\n                    actions: [\"Close\"]\r\n                }).data(\"kendoWindow\");\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /* -- Grid --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n        */\r\n        var Grid = function (settings) {\r\n            // settings\r\n            var self = this;\r\n            var html = settings.html;\r\n            var url = settings.url;\r\n            var height = 200;\r\n            var kendoGrid;\r\n            var kendoDataSource;\r\n            var searchValue;\r\n            // private params           \r\n           \r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoDataSource();\r\n                createKendoGrid();\r\n                kendoGrid.pager.element.hide();\r\n                bindEvents();\r\n                self.kendoGrid = kendoGrid;\r\n                self.kendoDataSource = kendoDataSource;\r\n                self.search = search;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            var bindEvents = function () {\r\n                kendoGrid.bind(\"dataBound\", function (e) {\r\n                    kendoGrid.pager.element.show();\r\n                });\r\n                kendoGrid.element.on(\"dblclick\", \"tbody>tr\", onRowDblClick);\r\n            }\r\n\r\n            // ACTIONS\r\n\r\n            var onRowDblClick = function () {\r\n                kendoGrid.select($(this));\r\n                onSaveClick();\r\n            }\r\n\r\n            // METHODS\r\n\r\n            var search = function(value){\r\n                searchValue = value;\r\n                kendoDataSource.read();\r\n                kendoDataSource.page(1);\r\n\r\n                _vm.set(\"userDataSource\", kendoDataSource);\r\n            }\r\n            var createKendoDataSource = function () {\r\n                kendoDataSource = new kendo.data.DataSource({\r\n                    \"transport\": {\r\n                        \"prefix\": \"\",\r\n                        \"read\": {\r\n                            \"url\": url,\r\n                            \"data\": function() {\r\n                                return {\r\n                                    userFilter: function() {\r\n                                        return searchValue;\r\n                                    },\r\n                                    filterByAnalyst: _vm.filterByAnalyst\r\n                                }\r\n                            },\r\n                            \"type\": \"GET\"\r\n                        }\r\n                    },\r\n                    \"pageSize\": app.isMobileDevice ? 3 : 15,\r\n                    \"serverPaging\": true,\r\n                    \"serverSorting\": true,\r\n                    \"serverFiltering\": true,\r\n                    \"serverGrouping\": true,\r\n                    \"total\": 0,\r\n                    \"type\": \"aspnetmvc-ajax\",\r\n                    \"schema\": {\r\n                        \"data\": \"Data\",\r\n                        \"total\": \"Total\",\r\n                        \"errors\": \"Errors\",\r\n                        \"model\": {\r\n                            \"fields\": {\r\n                                \"Id\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Name\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"PrincipalName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"UserName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Domain\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Company\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Title\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"FirstName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"LastName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"EmployeeId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Analyst\": {\r\n                                    \"type\": \"number\"\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            var createKendoGrid = function () {\r\n                kendoGrid = html.kendoGrid({\r\n                    height: height,\r\n                    dataSource: kendoDataSource,\r\n                    selectable: \"Single,Row\",\r\n                    sortable: { mode: \"multiple\" },\r\n                    pageable: true,\r\n                    filterable: {\r\n                        extra: false,\r\n                        operators: {\r\n                            string: {\r\n                                startswith: localization.Startswith,\r\n                                contains: localization.Contains,\r\n                                eq: localization.Isequalto,\r\n                                neq: localization.Isnotequalto\r\n                            }\r\n                        }\r\n                    },\r\n                    autoBind: false,\r\n                    columns: [{\r\n                        \"title\": localization.id,\r\n                        \"hidden\": true,\r\n                        \"field\": \"Id\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.FirstName,\r\n                        \"attributes\": {\r\n                            \"class\": \"grid-highlight-column\"\r\n                        },\r\n                        \"width\": \"110px\",\r\n                        \"field\": \"FirstName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.LastName,\r\n                        \"attributes\": {\r\n                            \"class\": \"grid-highlight-column\"\r\n                        },\r\n                        \"width\": \"110px\",\r\n                        \"field\": \"LastName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Title,\r\n                        \"field\": \"Title\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.UserName,\r\n                        \"field\": \"UserName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Domain,\r\n                        \"field\": \"Domain\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Company,\r\n                        \"field\": \"Company\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }],\r\n                }).data(\"kendoGrid\");\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /*************/\r\n        /*** END *****/\r\n        /*************/\r\n\r\n        __construct();\r\n        \r\n\r\n    }\r\n    return definition;\r\n\r\n});\n","/**\nuserPicker\n**/\n\ndefine('forms/fields/userPicker/controller',['require','text!forms/fields/userPicker/view.html','forms/popups/userPickerPopup/controller'],function (require) {\n    var tpl = require(\"text!forms/fields/userPicker/view.html\");\n    var userPickerPopup = require(\"forms/popups/userPickerPopup/controller\");\n    var definition = {\n        template: tpl,\n        build: function (vm, node, callback) {\n            if (_.isUndefined(node.vm)) {\n                boundObj = node;\n                name = node.PropertyName;\n            } else {\n                boundObj = node.vm;\n                name = node.PropertyName;\n            }\n            // add default values\n            var properties = {\n                Required: node.Required, // TODO: yo, this is stupid. fix it.\n                Disabled: node.disabled, // TODO: yo, this is stupid. fix it.\n                ExtraProps: false,\n                Delay: 200,\n                MinLength: 3,\n                FilterByAnalyst: false,\n                MaxNumberOfResults: 10\n            }\n            $.extend(true, properties, node);\n            var built = _.template(tpl);\n            var templateFrag = $(built(properties));\n            var popupWindow = userPickerPopup.getPopup();\n\n            // comment out next two lines to go back to using app.controls\n            var objectPicker = new Control(templateFrag.find(\"[data-control='userPicker']\"), boundObj, name, popupWindow);\n            templateFrag.find(\"[data-control='userPicker']\").attr(\"data-control\", \"userPickerBound\");\n\n            callback(templateFrag);\n        }\n    }\n\n    // NAME/ID pair data model\n    // used to map name/id to server or viewModel\n    // Generic getter and setters:  name,id\n    var NameIdModel = function (nameProp, idProp) {\n        var self = this;\n        this.serverNameProp = nameProp;\n        this.serverIdProp = idProp;\n        var data = {};\n        data[self.serverNameProp];\n        data[self.serverIdProp];\n        this.set = {\n            name: function (val) { data[self.serverNameProp] = val; },\n            id: function (val) { data[self.serverIdProp] = val; }\n        }\n        this.setObj = function (name, id) {\n            self.set.name(name); self.set.id(id);\n        }\n        this.setFromObj = function (obj) {\n            self.setObj(obj[self.serverNameProp], obj[self.serverIdProp]);\n        }\n        this.get = {\n            name: function () { return data[self.serverNameProp]; },\n            id: function () { return data[self.serverIdProp]; }\n        }\n        this.getFromObj = function (obj) {\n            self.setFromObj(obj);\n            return data;\n        }\n        this.getObj = function (name, id) { if (typeof (name) != \"undefined\" && typeof (id) != \"undefined\") { self.setObj(name, id); } return data; }\n        this.getGenericFromObj = function (obj) {\n            this.setFromObj(obj);\n            return {\n                name: self.get.name(),\n                id: self.get.id()\n            }\n        }\n\n    }\n    // CONTROL\n    var Control = function (targetEle, boundObj, name, popupWindow) {\n        // control parameters\n        var targetEle = targetEle;\n        var extraProps = targetEle.attr(\"data-control-extra\");\n        var delay = targetEle.attr(\"data-control-delay\");\n        var minLength = targetEle.attr(\"data-control-minlength\");\n        var filterByAnalyst = targetEle.attr(\"data-control-filterByAnalyst\");\n        var maxNumberOfResults = targetEle.attr(\"data-control-maxNumberOfResults\");\n        var autoCompleteUrl = \"/api/V3/User/GetUserList\";\n        var detailsPopupUrl = \"/Search/ObjectViewer\";\n        var objectExtraUrl = \"/Search/GetObjectPropertiesByProjection?projectionId=490ab845-b14c-1d91-c39f-bb9e8a350933&id=\";\n        var boundObj = boundObj;\n        var propName = name;\n        var popupWindow = popupWindow;\n\n        // viewModel getters/setters\n        var _textProp = \"DisplayName\";\n        var _idProp = \"BaseId\";\n        var _model = new NameIdModel(_textProp, _idProp);\n        app.lib.forceKendoProp(boundObj, propName, kendo.observable(_model.getObj(null, null)));\n        var get = {\n            obj: function () { return boundObj[propName]; },\n            name: function () { return boundObj[propName][_textProp]; },\n            id: function () { return boundObj[propName][_idProp]; }\n        }\n        var set = {\n            obj: function (name, id) {\n                boundObj[propName].set(_idProp, id);\n                boundObj[propName].set(_textProp, name);\n            }\n        }\n\n        // private properties\n        var helperBlock;\n        var autoComplete;\n\n\n        /*******************/\n        /*** CONSTRUCT *****/\n        /*******************/\n\n        var __construct = function () {\n            createHelperBlock();\n            createAutocomplete();\n            refreshDisplayValues();\n            bindEvents();\n        }\n\n        /************************/\n        /*** CONTROL EVENTS *****/\n        /************************/\n\n        var bindEvents = function () {\n            boundObj[name].bind(\"change\", function () {\n                refreshDisplayValues();\n            });\n        }\n\n        /******************************/\n        /*** CONTROL USER ACTIONS *****/\n        /******************************/\n\n        var onAutoCompleteValueChanged = function (obj) {\n            if (obj) {\n                set.obj(obj.name, obj.id);\n            } else {\n                set.obj(null, null);\n            }\n        }\n        var onSearchIconClick = function () {\n            popupWindow.setSaveCallback(function (obj) {\n                set.obj(obj.name, obj.id);\n            });\n            popupWindow.vm.filterByAnalyst = filterByAnalyst;\n            popupWindow.open();\n        }\n\n        /*************************/\n        /*** CONTROL METHODS *****/\n        /*************************/\n\n        //do we have a model set in the bound object\n        //not sure what the get object is -jk\n        var isModelSet = function () {\n            return (boundObj && boundObj[name] && get.name() && get.id()) ? true : false;\n        }\n\n        //lets check for boundObject that is nulled\n        var isModelSetNulled = function () {\n            return (boundObj && boundObj[name] && _.isNull(get.name()) && _.isNull(get.id()) ) ? true : false;\n        }\n\n        var hasExtraProps = function () {\n            return (extraProps && extraProps != \"false\");\n        }\n        var createHelperBlock = function () {\n            if (hasExtraProps()) {\n                helperBlock = new HelperBlock({\n                    url: objectExtraUrl,\n                    container: targetEle.parent(),\n                    props: extraProps.split(\",\")\n                });\n            }\n        }\n        var createAutocomplete = function () {\n            autoComplete = new AutoComplete({\n                url: autoCompleteUrl,\n                detailsUrl: detailsPopupUrl,\n                targetEle: targetEle,\n                delay: delay,\n                minLength: minLength,\n                callback: onAutoCompleteValueChanged,\n                maxNumberOfResults: maxNumberOfResults\n            });\n        }\n        var refreshDisplayValues = function () {\n\n            if (isModelSet()) {\n                if (helperBlock) {\n                    helperBlock.setDisplay(get.id());\n                }\n                if (autoComplete) {\n                    autoComplete.setValue(get.name(), get.id());\n                }\n            }\n            /**Added to fix Task/BUG 2148: When using the Assign to Analyst by group task (where there is no assigned to user) in the portal, \n            then select an analyst and click \"cancel\" the analyst still appears on the form.**/\n            else if (isModelSetNulled()) {\n                if (autoComplete) {\n                    autoComplete.setValue(\"\", null);\n                }\n            }\n        }\n\n        /****************************/\n        /*** CONTROL SUBCLASSES *****/\n        /****************************/\n\n        /* -- HelperBlock --\n            // params\n                settings = {\n                    url: \"\", // url to get object extra props\n                    container: jqEle, // where helpblock will get appended\n                    props: [], // array of property names to be displayed in order\n                    delay: \"\", //numeric delay in ms before search is performed\n                    minLength: \"\", //numeric length of chars before search is performed\n                }\n            // public methods\n                obj.setDisplay(objectId) /// goes to server then displays helper data for that objectId\n        */\n        var HelperBlock = function (settings) {\n            var self = this;\n            var html;\n            var _vm;\n            var container = settings.container;\n            var url = settings.url;\n            var props = settings.props;\n\n            // CONSTRUCT\n\n            var __construct = function () {\n                createHtml();\n                createViewModel();\n                bindEvents();\n                self.setDisplay = _vm.getUserObjectData;\n            }\n\n            // EVENTS\n\n            var bindEvents = function () {\n                _vm.bind(\"change\", function (e) {\n                    if (e.field == \"extraPropText\") {\n                        _vm.set(\"isVisible\", (_vm.extraPropText.length > 0));\n                    } else if (e.field == \"data\") {\n                        setExtraPropsDisplay();\n                    }\n                });\n            }\n\n            // ACTIONS\n\n            // METHODS\n\n            var createHtml = function () {\n                // note: move this to definition.html\n                html = $('<span>', { \"class\": \"help-block\", \"data-bind\": \"text: extraPropText, visible: isVisible\" });\n                setTimeout(function () {\n                    container.append(html);\n                }, 100);\n            }\n            var createViewModel = function () {\n                _vm = kendo.observable({\n                    isVisible: false,\n                    extraPropText: \"\",\n                    data: {},\n                    getUserObjectData: getUserObjectData\n                });\n                kendo.bind(html, _vm);\n            }\n\n            var getUserObjectData = function (objectId) {\n                $.get(url + objectId, function (data) {\n                    if (data && data[0]) {\n                        data = data[0];\n                    }\n                    _vm.set(\"data\", data);\n                    setExtraPropsDisplay();\n                });\n            }\n\n            var getDisplayName = function (obj) {\n                var displayName = \"\";\n                if (!_.isUndefined(obj.Name) && !_.isNull(obj.Name)) {\n                    displayName = obj.Name;\n                }\n                if (!_.isUndefined(obj.DisplayName) && !_.isNull(obj.DisplayName)) {\n                    displayName = obj.DisplayName;\n                }\n                return displayName;\n            }\n\n            var setExtraPropsDisplay = function () {\n                var str = \"\";\n                $.each(props, function (i, item) {\n                    var dataItem = _vm.data[item];\n                    if (dataItem) {\n                        str += (_.isObject(dataItem) ? getDisplayName(dataItem) : dataItem) + \", \";\n                    }\n                });\n                _vm.set(\"extraPropText\", str.substring(0, str.length - 2));\n            }\n\n            // END\n\n            __construct();\n        }\n\n        /* -- Autocomplete --\n            // params\n                settings = {\n                    url: \"\", // url for datasource\n                    targetEle: jqEle, // element to apply autocomplete\n                    callback: function(obj){} // fired when object is change via autocomplete, provides selected object or null values\n                }\n            // public methods\n        */\n        var AutoComplete = function (settings) {\n            // settings\n            var self = this;\n            var targetEle = settings.targetEle;\n            var url = settings.url;\n            var detailsUrl = settings.detailsUrl;\n            var callback = settings.callback; // \n            var delay = settings.delay; // \n            var minLength = settings.minLength; // \n            var placeHolderText = (targetEle.attr('disabled')) ? \"\" : localization.SearchButton;\n\n            // private params\n            var autoComplete;\n            var dataSource;\n            var focusedItemIndex = false\n            var searchBtn;\n            var detailsBtn;\n            var detailsPopupEle;\n            var detailsPopup;\n            var _textProp = \"Name\";\n            var _idProp = \"Id\";\n            var _model = new NameIdModel(_textProp, _idProp);\n            var hasTCCURL = !_.isNull(session.consoleSetting.TrueControlCenterURL) && (session.consoleSetting.TrueControlCenterURL != \"\");\n\n            // CONSTRUCT\n\n            var __construct = function () {\n                createKendoDataSource();\n                createKendoAutoComplete();\n                createSearchButton();\n                hasTCCURL ? createTCCDetailsButton() : createDetailsButton();\n                createDetailsPopup();\n                bindEvents();\n                self.setValue = setValue;\n            }\n\n            // EVENTS\n\n            var bindEvents = function () {\n                autoComplete.bind(\"select\", function (e) {\n                    var obj = this.dataItem(e.item.index());\n                    callback(_model.getGenericFromObj(obj));\n                });\n                autoComplete.bind(\"change\", function (e) {\n                    validateAutoCompleteValue();\n                    callback(_model.getGenericFromObj(getDataSourceMatch(autoComplete.value())));\n                });\n                autoComplete.bind(\"dataBound\", function (e) {\n                    e.sender.ul.find(\"li\").first().addClass(\"k-state-hover\");\n                });\n                targetEle.on(\"keyup\", function (e) {\n                    if (e.which == 40 && !autoComplete.ul.is(\":visible\")) { //down arrow\n                        autoComplete.search(autoComplete.value());\n                        validateAutoCompleteValue();\n                    }\n                    else if (e.which != 13 && e.which != 9) { //enter\n                        focusedItemIndex = getFocusedIndex();\n                        validateAutoCompleteValue();\n                    }\n\n                });\n                targetEle.on(\"keydown\", function (e) {\n                    if (e.which == 13) {\n                        // enter click select first match in dropdown or focused\n                        var children = autoComplete.ul.children();\n                        if (children.length && autoComplete.ul.is(\":visible\")) {\n                            var index = (focusedItemIndex !== false) ? focusedItemIndex : 0;\n                            autoComplete.select(autoComplete.ul.children().eq(index));\n                            validateAutoCompleteValue();\n                        } else { //if enter is hit and we have no child do a search\n                            autoComplete.search(autoComplete.value());\n                        }\n                    }\n                });\n\n                //we need blur so we can handle tabbing out\n                targetEle.on(\"blur\", function (e) {\n                    focusedItemIndex = getFocusedIndex();\n                    validateAutoCompleteValue(true);\n                });\n\n                //handle copy-paste event\n                targetEle.on(\"input propertychange\", function (e) {\n                    //perform autocomplete search if search box is not empty\n                    if (e.currentTarget.value != \"\") {\n                        autoComplete.search(e.currentTarget.value);\n                        validateAutoCompleteValue();\n                    }\n                });\n\n                detailsPopup.bind(\"close\", function () {\n                    detailsPopupEle.find(\".k-content\").html('');\n                });\n                searchBtn.click(onSearchIconClick);\n                detailsBtn.click(onDetailsBtnClick);\n            }\n\n            // ACTIONS\n\n            var onDetailsBtnClick = function (e) {\n                hasTCCURL ? e.stopPropagation() : openModal();\n            }\n\n            var openSlideout = function (e) {\n                var userObj = { BaseId: _model.get.id(), Name: _model.get.name() }\n                var src = app.slideOutNav.getTCCSourceURL(userObj, \"user\");\n                var options = {\r\n                    url: src,\r\n                    tooltip: localization.UserManagement\r\n                }\n                app.slideOutNav.show(options);\n            }\n\n            var openModal = function (e) {\n                detailsPopup.refresh({\n                    url: detailsUrl,\n                    data: { id: _model.get.id() }\n                });\n                detailsPopupEle.find(\".k-content\").html(\"<div style='padding: 55px'>Loading...</div>\");\n                detailsPopup.title(_model.get.name()).center().open();\n            }\n\n            // METHODS\n\n            var createSearchButton = function () {\n                searchBtn = $(\"<div>\", { \"class\": \"searchIcon\", \"data-control-action\": \"userPickerWindow\" });\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\n                var a = $(\"<i>\", { \"class\": \"fa fa-search cursor-pointer \" + iconColor })\n                searchBtn.append(a);\n                //don't want to  show search icon if field is disabled\n                if (!targetEle.attr('disabled') || app.isMobileDevice()) {\n                    searchBtn.insertAfter(targetEle);\n                }\n            }\n            var createDetailsButton = function () {\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\n                detailsBtn = $(\"<i>\", { \"class\": \"fa fa-info-circle cursor-pointer info-icon \" + iconColor });\n                detailsBtn.insertBefore(targetEle);\n                detailsBtn.hide();\n            }\n\n            var createTCCDetailsButton = function () {\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\n                detailsBtn = $(\"<ul>\", { \"class\": \"menu-usr-mgt\" });\n                detailsBtn.insertBefore(targetEle);\n                detailsBtn.hide();\n\n                detailsBtn.kendoMenu({\n                    dataSource: [\n                        {\n                            text: \"<i class='fa fa-info-circle cursor-pointer'></i>\",\n                            encoded: false,\n                            items: [\n                                {\n                                    text: localization.UserManagement,\n                                    imageUrl: \"/Content/Images/Icons/Other/control-center-launcher.png\",\n                                    imageAttr: {\n                                        height: '16px',\n                                        width: '16px'\n                                    },\n                                    attr: {\n                                        custom: 'tcc' //custom attribute holds the link type\n                                    }\n                                },\n                                {\n                                    text: \"<i class='fa fa-info-circle cursor-pointer' style='margin: -2px 7px 0 -3px;'></i>\"+localization.AdditionalDetails,\n                                    encoded: false,\n                                    attr: {\n                                        custom: 'info' //custom attribute holds the link type\n                                    }\n                                }\n                            ]\n                        }\n                    ],\n                    select: function (e) {\n                        if (!_.isUndefined(e.item.attributes[\"custom\"])) {\n                            var type = e.item.attributes[\"custom\"].value;\n                            (type == \"tcc\") ? openSlideout() : openModal();\n                        }\n                    },\n                    openOnClick: true\n                });\n            }\n\n            var createKendoDataSource = function () {\n                dataSource = new kendo.data.DataSource({\n                    transport: {\n                        read: {\n                            url: url,\n                            data: {\n                                userFilter: function () {\n                                    return autoComplete.value();\n                                },\n                                filterByAnalyst: filterByAnalyst,\n                                maxNumberOfResults: settings.maxNumberOfResults\n                            }\n                        }\n                    },\n                    serverFiltering: true\n                });\n            }\n            var createKendoAutoComplete = function () {\n                autoComplete = targetEle.kendoAutoComplete({\n                    dataTextField: _textProp,\n                    suggest: true,\n                    placeholder: placeHolderText + \"...\",\n                    valuePrimitive: false,\n                    dataSource: dataSource,\n                    delay: delay,\n                    minLength: minLength,\n                    enable: (targetEle.attr('disabled')) ? false : true,\n                    clearButton: false\n                }).data(\"kendoAutoComplete\");\n\n            }\n            var createDetailsPopup = function () {\n                detailsPopupEle = $(\"<div>\");\n                detailsPopupEle.appendTo(\"body\");\n                detailsPopup = detailsPopupEle.kendoCiresonWindow({\n                    title: \"\",\n                    width: 550,\n                    height: 500,\n                    actions: [\"Close\"]\n                }).data(\"kendoWindow\");\n            }\n\n            var validateAutoCompleteValue = function (blurred) {\n                var match = getDataSourceMatch(autoComplete.value());\n                if (!match && autoComplete.value() != \"\") { //empty values are valid bug 494\n                    detailsBtn.hide();\n                    if (targetEle.is(\":focus\") && !blurred) {\n                        // invalid while typing\n                        targetEle.css({\n                            \"text-decoration\": \"none\",\n                            \"background-color\": (targetEle.attr('disabled')) ? \"#a1a1a1\" : \"#fff\"\n                        });\n                    } else {\n                        // invalid after blur\n                        targetEle.css({\n                            \"text-decoration\": \"none\",\n                            \"background-color\": \"#FBE3E4\"\n                        });\n                        //add the invalid data attribute\n                        targetEle.attr('data-invalid', '');\n                    }\n                } else {\n                    // valid\n\n                    //remove the invalid data attribute\n                    targetEle.removeAttr('data-invalid', '');\n\n                    //do we actually have a value to show the extension properties for\n                    if (autoComplete.value() === \"\") {\n                        detailsBtn.hide();\n                    } else {\n                        detailsBtn.show();\n\n                        targetEle.css({\n                            \"text-decoration\": \"underline\"\n                        });\n                    }\n\n                    targetEle.css({\n                        \"background-color\": (targetEle.attr('disabled')) ? \"#eee\" : \"#fff\"\n                    });\n                }\n            }\n\n            var getDataSourceMatch = function (val) {\n                var ds = _.clone(dataSource);\n                var view = ds.view();\n\n                // matching needs to be case insensitive\n                var match = false;\n                $.each(view, function (i, item) {\n                    if (item.Name.toLowerCase() == val.toLowerCase()) {\n                        match = item;\n                    }\n                });\n                return match;\n            }\n            var setValue = function (name, id) {\n                dataSource.add(_model.getObj(name, id));\n                autoComplete.value(name);\n                validateAutoCompleteValue();\n            }\n            var getFocusedIndex = function () {\n                var focused = autoComplete.ul.find(\".k-state-focused\");\n                return (focused.length) ? focused.index() : false;\n            }\n\n            // END\n\n            __construct();\n        }\n\n        /*************/\n        /*** END *****/\n        /*************/\n\n        __construct();\n\n    }\n\n    return definition;\n\n});\n","\ndefine('text!forms/fields/objectPicker/view.html',[],function () { return '<div class=\"form-group\" data-cid=\"objectpicker\" data-cid-propname=\"<%= PropertyName %>\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input class=\"input-userpicker\"\\r\\n           data-control=\"objectPicker\"\\r\\n           data-control-bind=\"<%= PropertyName %>\"\\r\\n           data-control-extra=\"<%= ExtraProps %>\"\\r\\n           type=\"text\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n            <% if ( Disabled ){ %>\\r\\n            disabled\\r\\n            <% } %>\\r\\n\\r\\n            <% if ( Required ){ %>\\r\\n            required\\r\\n            <% } %>\\r\\n    />\\r\\n</div>';});\n\n","\ndefine('text!forms/popups/objectPickerPopup/view.html',[],function () { return '<div id=\"ObjectPickerPopupWindow\" class=\"cireson-window defined-form task-window\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div class=\"col-group\">\\r\\n                <div class=\"c2\">\\r\\n                    <label data-bind=\"text: searchText\"></label>\\r\\n                    <span class=\"k-textbox\">\\r\\n                        <input class=\"textbox-padding-right\" type=\"text\" data-value-update=\"keyup\" data-bind=\"value: searchValue, events: { keypress: searchOnEnter }\">\\r\\n                        <a data-bind=\"click: search\" class=\"cursor-pointer fa fa-search\"></a>\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div>\\r\\n                <label data-bind=\"text: selectObjectText\"></label>\\r\\n                <div data-control-grid=\"userPickerGrid\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n        \\r\\n        <div class=\"cireson-window--footer window-buttons objectPicker-single-grid\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nobjectPickerPopup\r\n**/\r\nvar __objectPickerPopupSingleton;\r\n\r\ndefine('forms/popups/objectPickerPopup/controller',['require','text!forms/popups/objectPickerPopup/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/popups/objectPickerPopup/view.html\");\r\n    var singletonName = \"objectPickerPopup\"; // used to call for singleton\r\n    var definition = {\r\n        template: tpl,\r\n        getPopup: function (classId, BaseId) {\r\n            //BaseId will be used to remove it self from the list.\r\n            //need a specific instance per classId, so this singleton is a hash\r\n            if (__objectPickerPopupSingleton && __objectPickerPopupSingleton[classId]) {\r\n                return __objectPickerPopupSingleton[classId];\r\n            }\r\n\r\n            var built = _.template(tpl);\r\n            var ele = $(built());\r\n            var classId = classId;\r\n            var objectPickerPopup = ele.data(singletonName);\r\n\r\n            $(\"body\").append(ele);\r\n            __objectPickerPopupSingleton = new ObjectPickerPopup(ele, classId, BaseId);\r\n\r\n            return __objectPickerPopupSingleton;\r\n        }\r\n    }\r\n\r\n    /* -- ObjectPickerPopup --\r\n        // params\r\n            targetEle = domEle to create popup with\r\n        // public methods               \r\n            open = function(classId){ // opens popup with this classId }\r\n            close = function(){ // closes popup }\r\n            setSaveCallback = function(callback) sets callback to listen for save event\r\n            // callback(obj){  } returns selected user object\r\n    */\r\n\r\n    // NAME/ID pair data model\r\n    // used to map name/id to server or viewModel\r\n    // Generic getter and setters:  name,id\r\n    var NameIdModel = function (nameProp, idProp) {\r\n        var self = this;\r\n        this.serverNameProp = nameProp;\r\n        this.serverIdProp = idProp;\r\n        var data = {};\r\n        data[self.serverNameProp];\r\n        data[self.serverIdProp];\r\n        this.set = {\r\n            name: function (val) { data[self.serverNameProp] = val; },\r\n            id: function (val) { data[self.serverIdProp] = val; }\r\n        }\r\n        this.setObj = function (name, id) {\r\n            self.set.name(name); self.set.id(id);\r\n        }\r\n        this.setFromObj = function (obj) {\r\n            self.setObj(obj[self.serverNameProp], obj[self.serverIdProp]);\r\n        }\r\n        this.get = {\r\n            name: function () { return data[self.serverNameProp]; },\r\n            id: function () { return data[self.serverIdProp]; }\r\n        }\r\n        this.getFromObj = function (obj) {\r\n            self.setFromObj(obj);\r\n            return data;\r\n        }\r\n        this.getObj = function (name, id) { if (typeof (name) != \"undefined\" && typeof (id) != \"undefined\") { self.setObj(name, id); } return data; }\r\n        this.getGenericFromObj = function (obj) {\r\n            this.setFromObj(obj);\r\n            return {\r\n                name: self.get.name(),\r\n                id: self.get.id()\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // CONTROL\r\n    var ObjectPickerPopup = function (targetEle, classId, BaseId) {\r\n        var self = this;\r\n        var html = targetEle;\r\n        var classId = classId;\r\n        var gridHtml = targetEle.find(\"[data-control-grid]\");\r\n        var grid;\r\n        var gridUrl = \"/ConfigItems/GetObjectSearchResults\";\r\n        var popup;\r\n        var _vm;\r\n\r\n        // model getters/setters\r\n        // Props return from grid search to match to generic model\r\n        var _textProp = \"DisplayName\";\r\n        var _idProp = \"Id\";\r\n        var _model = new NameIdModel(_textProp, _idProp);\r\n\r\n        // getter/setters        \r\n        this.setSaveCallback = function (callback) {\r\n            $(self).unbind(\"save\")\r\n                .bind(\"save\", function (e, obj) { callback(obj); });\r\n        }\r\n        this.setCancelCallback = function (callback) {\r\n            $(self).unbind(\"cancel\")\r\n                .bind(\"cancel\", function (e, obj) { callback(obj); });\r\n        }\r\n\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n            _vm = kendo.observable({\r\n                searchText: localization.SearchText,\r\n                selectObjectText: localization.SelectObject,\r\n                searchValue: \"\",\r\n                okText: localization.OK,\r\n                cancelText: localization.Cancel,\r\n                search: onSearchClick,\r\n                searchOnEnter: function (e) {\r\n                    if (e.which == 13) {\r\n                        e.preventDefault();\r\n                        onSearchClick();\r\n                    }\r\n                },\r\n                save: onSaveClick,\r\n                cancel: onCancelClick\r\n            });\r\n            kendo.bind(html, _vm);\r\n            createPopup();\r\n            createGrid();\r\n            bindEvents();\r\n            self.open = openPopup;\r\n            self.close = closePopup;\r\n            self.vm = _vm;\r\n        }\r\n\r\n        /************************/\r\n        /*** CONTROL EVENTS *****/\r\n        /************************/\r\n\r\n        var bindEvents = function () {\r\n\r\n        }\r\n\r\n        /******************************/\r\n        /*** CONTROL USER ACTIONS *****/\r\n        /******************************/\r\n\r\n        var onSearchClick = function () {\r\n            grid.search(_vm.searchValue);\r\n        }\r\n        var onSaveClick = function () {\r\n            var selectedRow = grid.kendoGrid.select();\r\n            if (selectedRow) {\r\n                var obj = _model.getGenericFromObj(grid.kendoGrid.dataItem(selectedRow));\r\n                $(self).trigger(\"save\", obj);\r\n                closePopup();\r\n            }\r\n        }\r\n        var onCancelClick = function () {\r\n            $(self).trigger(\"cancel\");\r\n            closePopup();\r\n        }\r\n\r\n        /*************************/\r\n        /*** CONTROL METHODS *****/\r\n        /*************************/\r\n\r\n        var openPopup = function () {\r\n            //clear out search box value and search results before opening the window\r\n            self.vm.set(\"searchValue\", \"\");\r\n            grid.kendoDataSource.data([]);\r\n            popup.kendoWindow.open();\r\n        }\r\n        var closePopup = function () {\r\n            popup.kendoWindow.close();\r\n        }\r\n        var createPopup = function () {\r\n            popup = new Popup();\r\n        }\r\n        var createGrid = function () {\r\n            grid = new Grid({\r\n                html: gridHtml,\r\n                url: gridUrl\r\n            });\r\n        }\r\n\r\n        /****************************/\r\n        /*** CONTROL SUBCLASSES *****/\r\n        /****************************/\r\n\r\n        /* -- Popup --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n               \r\n        */\r\n        var Popup = function () {\r\n            var self = this;\r\n            var kendoWindow;\r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoWindow();\r\n                self.kendoWindow = kendoWindow;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            // ACTIONS\r\n\r\n            // METHODS\r\n\r\n            var createKendoWindow = function () {\r\n                kendoWindow = html.kendoCiresonWindow({\r\n                    title: localization.SelectObject,\r\n                    content: null,\r\n                    width: 680,\r\n                    height: 400,\r\n                    actions: [\"Close\"]\r\n                }).data(\"kendoWindow\");\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /* -- Grid --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n        */\r\n        var Grid = function (settings) {\r\n            // settings\r\n            var self = this;\r\n            var html = settings.html;\r\n            var url = settings.url;\r\n            var height = 150;\r\n            var kendoGrid;\r\n            var kendoDataSource;\r\n            var searchValue;\r\n            // private params           \r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoDataSource();\r\n                createKendoGrid();\r\n                kendoGrid.pager.element.hide();\r\n                bindEvents();\r\n                self.kendoGrid = kendoGrid;\r\n                self.kendoDataSource = kendoDataSource;\r\n                self.search = search;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            var bindEvents = function () {\r\n                kendoGrid.bind(\"dataBound\", function (e) {\r\n                    kendoGrid.pager.element.show();\r\n                });\r\n                kendoGrid.element.on(\"dblclick\", \"tbody>tr\", onRowDblClick);\r\n            }\r\n\r\n            // ACTIONS\r\n\r\n            var onRowDblClick = function () {\r\n                kendoGrid.select($(this));\r\n                onSaveClick();\r\n            }\r\n\r\n            // METHODS\r\n\r\n            var search = function (value) {\r\n                searchValue = value;\r\n                kendoDataSource.read();\r\n                if (!_.isUndefined(BaseId) || BaseId != \"\")\r\n                    kendoGrid.dataSource.filter([{ field: \"Id\", operator: \"neq\", value: BaseId }]);\r\n                kendoDataSource.page(1);\r\n            }\r\n            var createKendoDataSource = function () {\r\n                kendoDataSource = new kendo.data.DataSource({\r\n                    \"transport\": {\r\n                        \"prefix\": \"\",\r\n                        \"read\": {\r\n                            \"url\": url,\r\n                            \"data\": function () {\r\n                                return {\r\n                                    searchFilter: function () {\r\n                                        return searchValue;\r\n                                    },\r\n                                    classId: function () {\r\n                                        return classId;\r\n                                    },\r\n                                    groupFilter: \"\"\r\n                                }\r\n                            },\r\n                            \"type\": \"GET\"\r\n                        }\r\n                    },\r\n                    \"pageSize\": 15,\r\n                    \"page\": 1,\r\n                    \"total\": 0,\r\n                    \"type\": \"aspnetmvc-ajax\",\r\n                    \"schema\": {\r\n                        \"data\": \"Data\",\r\n                        \"total\": \"Total\",\r\n                        \"errors\": \"Errors\",\r\n                        \"model\": {\r\n                            \"fields\": {\r\n                                \"Id\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"ObjectClassId\": {\r\n                                    \"type\": \"number\"\r\n                                },\r\n                                \"ObjectClassName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"DisplayName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Path\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Hosted\": {\r\n                                    \"type\": \"number\"\r\n                                },\r\n                                \"LastModified\": {\r\n                                    \"type\": \"date\"\r\n                                },\r\n                                \"Status\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            var createKendoGrid = function () {\r\n                kendoGrid = html.kendoGrid({\r\n                    height: height,\r\n                    dataSource: kendoDataSource,\r\n                    selectable: \"Single,Row\",\r\n                    sortable: { mode: \"multiple\" },\r\n                    pageable: true,\r\n                    filterable: {\r\n                        extra: false,\r\n                        operators: {\r\n                            string: {\r\n                                startswith: localization.Startswith,\r\n                                contains: localization.Contains,\r\n                                eq: localization.Isequalto,\r\n                                neq: localization.Isnotequalto\r\n                            }\r\n                        }\r\n                    },\r\n                    autoBind: false,\r\n                    columns: [{\r\n                        \"title\": \"Id\",\r\n                        \"hidden\": true,\r\n                        \"field\": \"Id\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.DisplayName,\r\n                        \"attributes\": {\r\n                            \"class\": \"grid-highlight-column\"\r\n                        },\r\n                        \"field\": \"DisplayName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Class,\r\n                        \"field\": \"ObjectClassName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Path,\r\n                        \"field\": \"Path\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }],\r\n                }).data(\"kendoGrid\");\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /*************/\r\n        /*** END *****/\r\n        /*************/\r\n\r\n        __construct();\r\n\r\n\r\n    }\r\n    return definition;\r\n\r\n});\n","/**\r\nobjectPicker\r\n**/\r\n\r\ndefine('forms/fields/objectPicker/controller',['require','text!forms/fields/objectPicker/view.html','forms/popups/objectPickerPopup/controller'],function (require) {\r\n    var tpl = require(\"text!forms/fields/objectPicker/view.html\");\r\n    var objectPickerPopup = require(\"forms/popups/objectPickerPopup/controller\");\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //console.log(node);\r\n            boundObj = node.vm;\r\n            name = node.PropertyName;\r\n            // add default values\r\n            var properties = {\r\n                Required: node.Required,\r\n                Disabled: node.disabled,\r\n                ExtraProps: false,\r\n                ClassId: false // this is a required\r\n            }\r\n            $.extend(true, properties, node);\r\n            var built = _.template(tpl);\r\n            var templateFrag = $(built(properties));\r\n            var popupWindow = objectPickerPopup.getPopup(properties.ClassId, boundObj.BaseId);\r\n\r\n            // comment out next two lines to go back to using app.controls\r\n            var objectPicker = new Control(templateFrag.find(\"[data-control='objectPicker']\"), boundObj, name, popupWindow, properties.ClassId, callback);\r\n            templateFrag.find(\"[data-control='objectPicker']\").attr(\"data-control\", \"objectPickerBound\");\r\n\r\n            callback(templateFrag);\r\n        }\r\n    }\r\n\r\n    // NAME/ID pair data model\r\n    // used to map name/id to server or viewModel\r\n    // Generic getter and setters:  name,id\r\n    var NameIdModel = function (nameProp, idProp) {\r\n        var self = this;\r\n        this.serverNameProp = nameProp;\r\n        this.serverIdProp = idProp;\r\n        var data = {};\r\n        data[self.serverNameProp];\r\n        data[self.serverIdProp];\r\n        this.set = {\r\n            name: function (val) { data[self.serverNameProp] = val; },\r\n            id: function (val) { data[self.serverIdProp] = val; }\r\n        }\r\n        this.setObj = function (name, id) {\r\n            self.set.name(name); self.set.id(id);\r\n        }\r\n        this.setFromObj = function (obj) {\r\n            self.setObj(obj[self.serverNameProp], obj[self.serverIdProp]);\r\n        }\r\n        this.get = {\r\n            name: function () { return data[self.serverNameProp]; },\r\n            id: function () { return data[self.serverIdProp]; }\r\n        }\r\n        this.getFromObj = function (obj) {\r\n            self.setFromObj(obj);\r\n            return data;\r\n        }\r\n        this.getObj = function (name, id) { if (typeof (name) != \"undefined\" && typeof (id) != \"undefined\") { self.setObj(name, id); } return data; }\r\n        this.getGenericFromObj = function (obj) {\r\n            this.setFromObj(obj);\r\n            return {\r\n                name: self.get.name(),\r\n                id: self.get.id()\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    function isArray(ob) {\r\n        return Object.prototype.toString.call(ob) === '[object Array]';\r\n    }\r\n    // CONTROL\r\n    var Control = function (targetEle, boundObj, name, popupWindow, classId, callback) {\r\n        \r\n        // control parameters\r\n        var targetEle = targetEle;\r\n        var extraProps = targetEle.attr(\"data-control-extra\");\r\n        var autoCompleteUrl = \"/ConfigItems/GetObjectSearchResults\";\r\n        var detailsPopupUrl = \"/Search/ObjectViewer\";\r\n        var objectExtraUrl = \"/Search/GetObjectPropertiesByProjection?projectionId=490ab845-b14c-1d91-c39f-bb9e8a350933&id=\";\r\n        var boundObj = boundObj;\r\n        var propName = name;\r\n        var popupWindow = popupWindow;\r\n        var classId = classId;\r\n\r\n        // viewModel getters/setters\r\n        var _textProp = \"DisplayName\";\r\n        var _idProp = \"BaseId\";\r\n        var _model = new NameIdModel(_textProp, _idProp);\r\n        app.lib.forceKendoProp(boundObj, propName, kendo.observable(_model.getObj(null, null)));\r\n        var get = {\r\n            obj: function () { return boundObj[propName].length > 0 ? getIndexZero(boundObj[propName], null) : boundObj[propName]; },\r\n            name: function () { return boundObj[propName].length > 0 ? getIndexZero(boundObj[propName], _textProp) : boundObj[propName][_textProp]; },\r\n            id: function () { return boundObj[propName].length > 0 ? getIndexZero(boundObj[propName], _idProp) : boundObj[propName][_idProp]; }\r\n        }\r\n        var set = {\r\n            obj: function (name, id) {\r\n                if (boundObj[propName].length > 0) {\r\n                    \r\n                    boundObj[propName][0].set(_idProp, id);\r\n                    boundObj[propName][0].set(_textProp, name);\r\n                } else {\r\n                    boundObj[propName].set(_idProp, id);\r\n                    boundObj[propName].set(_textProp, name);\r\n                }\r\n            }\r\n        }\r\n\r\n        var getIndexZero = function (obj, property) {\r\n            var _obj = obj[0];\r\n            if (classId.toLowerCase() == _obj[\"ClassTypeId\"].toLowerCase()) {\r\n                if (property != null) {\r\n                    return _obj[property];\r\n                }\r\n                else {\r\n                    return _obj;\r\n                }\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        // private properties\r\n        var helperBlock;\r\n        var autoComplete;\r\n\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n            createHelperBlock();\r\n            createAutocomplete();\r\n            refreshDisplayValues();\r\n            bindEvents();\r\n        }\r\n\r\n        /************************/\r\n        /*** CONTROL EVENTS *****/\r\n        /************************/\r\n\r\n        var bindEvents = function () {\r\n            boundObj[name].bind(\"change\", function () {\r\n                refreshDisplayValues();\r\n            });\r\n        }\r\n\r\n        /******************************/\r\n        /*** CONTROL USER ACTIONS *****/\r\n        /******************************/\r\n\r\n        var onAutoCompleteValueChanged = function (obj) {\r\n            if (obj) {\r\n                set.obj(obj.name, obj.id);\r\n            } else {\r\n                set.obj(null, null);\r\n            }\r\n        }\r\n        var onSearchIconClick = function () {\r\n            popupWindow.setSaveCallback(function (obj) {\r\n                if (boundObj.BaseId != obj.id) {\r\n                    set.obj(obj.name, obj.id);\r\n                }\r\n            });\r\n            popupWindow.open();\r\n        }\r\n\r\n        /*************************/\r\n        /*** CONTROL METHODS *****/\r\n        /*************************/\r\n\r\n        var isModelSet = function () {\r\n            return (boundObj && boundObj[name] && get.name() && get.id()) ? true : false;\r\n        }\r\n        var hasExtraProps = function () {\r\n            return (extraProps && extraProps != \"false\");\r\n        }\r\n        var createHelperBlock = function () {\r\n            if (hasExtraProps()) {\r\n                helperBlock = new HelperBlock({\r\n                    url: objectExtraUrl,\r\n                    container: targetEle.parent(),\r\n                    props: extraProps.split(\",\")\r\n                });\r\n            }\r\n        }\r\n        var createAutocomplete = function () {\r\n            autoComplete = new AutoComplete({\r\n                url: autoCompleteUrl,\r\n                detailsUrl: detailsPopupUrl,\r\n                targetEle: targetEle,\r\n                callback: onAutoCompleteValueChanged\r\n            });\r\n        }\r\n        var refreshDisplayValues = function () {\r\n            if (isModelSet()) {\r\n                if (helperBlock) {\r\n                    helperBlock.setDisplay(get.id());\r\n                }\r\n                if (autoComplete) {\r\n                    autoComplete.setValue(get.name(), get.id());\r\n                }\r\n            }\r\n        }\r\n\r\n        /****************************/\r\n        /*** CONTROL SUBCLASSES *****/\r\n        /****************************/\r\n\r\n        /* -- HelperBlock --\r\n            // params\r\n                settings = {\r\n                    url: \"\", // url to get object extra props\r\n                    container: jqEle, // where helpblock will get appended\r\n                    props: [], // array of property names to be displayed in order\r\n                }\r\n            // public methods\r\n                obj.setDisplay(objectId) /// goes to server then displays helper data for that objectId\r\n        */\r\n        var HelperBlock = function (settings) {\r\n            var self = this;\r\n            var html;\r\n            var _vm;\r\n            var container = settings.container;\r\n            var url = settings.url;\r\n            var props = settings.props;\r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createHtml();\r\n                createViewModel();\r\n                bindEvents();\r\n                self.setDisplay = _vm.getUserObjectData;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            var bindEvents = function () {\r\n                _vm.bind(\"change\", function (e) {\r\n                    if (e.field == \"extraPropText\") {\r\n                        _vm.set(\"isVisible\", (_vm.extraPropText.length > 0));\r\n                    } else if (e.field == \"data\") {\r\n                        setExtraPropsDisplay();\r\n                    }\r\n                });\r\n            }\r\n\r\n            // ACTIONS\r\n\r\n            // METHODS\r\n\r\n            var createHtml = function () {\r\n                // note: move this to definition.html\r\n                html = $('<span>', { \"class\": \"help-block\", \"data-bind\": \"text: extraPropText, visible: isVisible\" });\r\n                setTimeout(function () {\r\n                    container.append(html);\r\n                }, 100);\r\n            }\r\n            var createViewModel = function () {\r\n                _vm = kendo.observable({\r\n                    isVisible: false,\r\n                    extraPropText: \"\",\r\n                    data: {},\r\n                    getUserObjectData: getUserObjectData\r\n                });\r\n                kendo.bind(html, _vm);\r\n            }\r\n\r\n            var getUserObjectData = function (objectId) {\r\n                $.get(url + objectId, function (data) {\r\n                    if (data && data[0]) {\r\n                        data = data[0];\r\n                    }\r\n                    _vm.set(\"data\", data);\r\n                    setExtraPropsDisplay();\r\n                });\r\n            }\r\n\r\n            var setExtraPropsDisplay = function () {\r\n                var str = \"\";\r\n                $.each(props, function (i, item) {\r\n                    if (_vm.data[item]) {\r\n                        str += _vm.data[item] + \", \";\r\n                    }\r\n                });\r\n                _vm.set(\"extraPropText\", str.substring(0, str.length - 2));\r\n            }\r\n\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /* -- Autocomplete --\r\n            // params\r\n                settings = {\r\n                    url: \"\", // url for datasource\r\n                    targetEle: jqEle, // element to apply autocomplete\r\n                    callback: function(obj){} // fired when object is change via autocomplete, provides selected object or null values\r\n                }\r\n            // public methods\r\n        */\r\n        var AutoComplete = function (settings) {\r\n            // settings\r\n            var self = this;\r\n            var targetEle = settings.targetEle;\r\n            var url = settings.url;\r\n            var detailsUrl = settings.detailsUrl;\r\n            var placeHolderText = (targetEle.attr('disabled')) ? \"\" : localization.SearchPlaceholder;\r\n            var callback = settings.callback; // \r\n            // private params\r\n            var autoComplete;\r\n            var dataSource;\r\n            var focusedItemIndex = false\r\n            var searchBtn;\r\n            var detailsBtn;\r\n            var detailsPopupEle;\r\n            var detailsPopup;\r\n            var _textProp = \"DisplayName\";\r\n            var _idProp = \"Id\";\r\n            var _model = new NameIdModel(_textProp, _idProp);\r\n\r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoDataSource();\r\n                createKendoAutoComplete();\r\n                createSearchButton();\r\n                createDetailsButton();\r\n                createDetailsPopup();\r\n                bindEvents();\r\n                self.setValue = setValue;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            var bindEvents = function () {\r\n                autoComplete.bind(\"select\", function (e) {\r\n                    var obj = this.dataItem(e.item.index());\r\n                    callback(_model.getGenericFromObj(obj));\r\n                });\r\n                autoComplete.bind(\"change\", function (e) {\r\n                    validateAutoCompleteValue();\r\n                    callback(_model.getGenericFromObj(getDataSourceMatch(autoComplete.value())));\r\n                });\r\n                autoComplete.bind(\"dataBound\", function (e) {\r\n                    e.sender.ul.find(\"li\").first().addClass(\"k-state-hover\");\r\n                });\r\n                targetEle.on(\"keyup\", function (e) {\r\n                    if (e.which == 40 && !autoComplete.ul.is(\":visible\")) {\r\n                        autoComplete.search(autoComplete.value());\r\n                        validateAutoCompleteValue();\r\n                    }\r\n                    else if (e.which != 13) {\r\n                        focusedItemIndex = getFocusedIndex();\r\n                        validateAutoCompleteValue();\r\n                    }\r\n\r\n                });\r\n                targetEle.on(\"keydown\", function (e) {\r\n                    if (e.which == 13) {\r\n                        // enter click select first match in dropdown or focused\r\n                        var children = autoComplete.ul.children();\r\n                        if (children.length) {\r\n                            var index = (focusedItemIndex !== false) ? focusedItemIndex : 0;\r\n                            //console.log(\"in: \" + index);\r\n                            autoComplete.select(autoComplete.ul.children().eq(index));\r\n                            validateAutoCompleteValue();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                //handle copy-paste event\r\n                targetEle.on(\"input propertychange\", function (e) {\r\n                    autoComplete.search(e.currentTarget.value);\r\n                    validateAutoCompleteValue();\r\n                });\r\n\r\n                detailsPopup.bind(\"close\", function () {\r\n                    detailsPopupEle.find(\".k-content\").html('');\r\n                });\r\n                searchBtn.click(onSearchIconClick);\r\n                detailsBtn.click(onDetailsBtnClick);\r\n            }\r\n\r\n            // ACTIONS\r\n\r\n            var onDetailsBtnClick = function () {\r\n                detailsPopup.refresh({\r\n                    url: detailsUrl,\r\n                    data: { id: _model.get.id() }\r\n                });\r\n                detailsPopupEle.find(\".k-content\").html(\"<div style='padding: 55px'>Loading...</div>\");\r\n                detailsPopup.title(_model.get.name()).center().open();\r\n            }\r\n\r\n            // METHODS\r\n\r\n            var createSearchButton = function () {\r\n                searchBtn = $(\"<div>\", { \"class\": \"searchIcon\", \"data-control-action\": \"userPickerWindow\" });\r\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\r\n                var a = (app.isMobileDevice()) ? $(\"<i>\", { \"class\": \"fa fa-search cursor-pointer \" + iconColor }) : $(\"<div>\", { \"class\": \"search fa fa-search cursor-pointer \" + iconColor });\r\n                searchBtn.append(a);\r\n                searchBtn.insertAfter(targetEle);\r\n            }\r\n            var createDetailsButton = function () {\r\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\r\n                detailsBtn = (app.isMobileDevice()) ? $(\"<i>\", { \"class\": \"fa fa-info-circle cursor-pointer info-icon \" + iconColor }) : $(\"<div>\", { \"class\": \"open-modal fa fa-info-circle\" });\r\n                detailsBtn.insertBefore(targetEle);\r\n                detailsBtn.hide();\r\n            }\r\n            var createKendoDataSource = function () {\r\n                dataSource = new kendo.data.DataSource({\r\n                    transport: {\r\n                        read: {\r\n                            url: url,\r\n                            data: {\r\n                                searchFilter: function () {\r\n                                    return autoComplete.value();\r\n                                },\r\n                                classId: classId\r\n                            },\r\n                            type: \"GET\"\r\n                        }\r\n                    },\r\n                    schema: {\r\n                        data: \"Data\",\r\n                        total: \"Total\",\r\n                        errors: \"Errors\"\r\n                    },\r\n                    serverFiltering: true\r\n                });\r\n            }\r\n\r\n            var preventClosing = 'init';\r\n            var createKendoAutoComplete = function () {\r\n                autoComplete = targetEle.kendoAutoComplete({\r\n                    dataTextField: _textProp,\r\n                    suggest: false,\r\n                    placeholder: placeHolderText,\r\n                    valuePrimitive: false,\r\n                    dataSource: dataSource,\r\n                    close: function (e) {\r\n                        if ($(window).scrollTop() + $(window).height() == $(document).height() && preventClosing == 'open') {\r\n                            e.preventDefault();\r\n                            preventClosing = 'close';\r\n                        }\r\n                    },\r\n                    change: function (e) {\r\n                        preventClosing = 'change';\r\n                        e.sender.close();\r\n                        \r\n                    },\r\n                    open: function (e) {\r\n                        preventClosing = 'open';\r\n                    },\r\n                    enable: (targetEle.attr('disabled')) ? false : true,\r\n                    clearButton: false\r\n                }).data(\"kendoAutoComplete\");\r\n            }\r\n            var createDetailsPopup = function () {\r\n                detailsPopupEle = $(\"<div>\");\r\n                detailsPopupEle.appendTo(\"body\");\r\n                detailsPopup = detailsPopupEle.kendoCiresonWindow({\r\n                    title: \"\",\r\n                    width: 550,\r\n                    height: 400,\r\n                    actions: [\"Close\"]\r\n                }).data(\"kendoWindow\");\r\n            }\r\n            var validateAutoCompleteValue = function () {\r\n                var match = getDataSourceMatch(autoComplete.value());\r\n                if (!match) {\r\n                    detailsBtn.hide();\r\n                    if (targetEle.is(\":focus\")) {\r\n                        // invalid while typing\r\n                        targetEle.css({\r\n                            \"text-decoration\": \"none\",\r\n                            \"background-color\": \"#fff\"\r\n                        });\r\n                    } else {\r\n                        // invalid after blur\r\n                        targetEle.css({\r\n                            \"text-decoration\": \"none\",\r\n                            \"background-color\": \"#FBE3E4\"\r\n                        });\r\n                    }\r\n                } else {\r\n                    // valid\r\n                    detailsBtn.show();\r\n                    targetEle.css({\r\n                        \"text-decoration\": \"underline\",\r\n                        \"background-color\": \"#fff\"\r\n                    });\r\n                }\r\n            }\r\n            var getDataSourceMatch = function (val) {\r\n                var ds = _.clone(dataSource);\r\n                var view = ds.view();\r\n\r\n                // matching needs to be case insensitive\r\n                var match = false;\r\n                $.each(view, function (i, item) {\r\n                    if (item.DisplayName.toLowerCase() == val.toLowerCase()) {\r\n                        match = item;\r\n                    }\r\n                });\r\n                return match;\r\n            }\r\n            var setValue = function (name, id) {\r\n                dataSource.add(_model.getObj(name, id));\r\n                autoComplete.value(name);\r\n                validateAutoCompleteValue();\r\n            }\r\n            var getFocusedIndex = function () {\r\n                var focused = autoComplete.ul.find(\".k-state-focused\");\r\n                return (focused.length) ? focused.index() : false;\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /*************/\r\n        /*** END *****/\r\n        /*************/\r\n\r\n        __construct();\r\n\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/button/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <input type=\"button\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n           class=\"button btn btn-<%= ButtonType %> btn-<%= ButtonSize %>\"\\r\\n           value=\"<%= PropertyDisplayName %>\"\\r\\n           data-bind=\"click: <%= Action %>\"\\r\\n\\r\\n            <% if ( Disabled ){ %>\\r\\n            disabled\\r\\n            <% } %>\\r\\n\\r\\n    />\\r\\n</div>';});\n\n","/**\r\nBUTTON\r\n**/\r\n\r\ndefine('forms/fields/button/controller',['require','text!forms/fields/button/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/button/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                PropertyName: 'defaultButton',\r\n                ButtonType: (node.ButtonType) ? node.ButtonType : 'default',\r\n                ButtonSize: (node.ButtonSize) ? node.ButtonSize : 'sm',\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/editor/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <textarea class=\"form-editor\" data-control=\"editor\" style=\"height:<%= Height %>px\" name=\"<%= PropertyName %>\">\\r\\n        <%= Content %>\\r\\n    </textarea>\\r\\n</div>\\r\\n\\r\\n\\r\\n';});\n\n","/**\r\nEDITOR\r\n**/\r\ndefine('forms/fields/editor/controller',['require','text!forms/fields/editor/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/editor/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            boundObj = node.vm;\r\n            //make sure we have all the vals set\r\n            //document.write(JSON.stringify(boundObj));\r\n            var properties = {\r\n                Required: node.Required,\r\n                Disabled: node.disabled,\r\n                Content: (boundObj[node.PropertyName]) ? $('<div/>').text(boundObj[node.PropertyName]).html() : boundObj[node.PropertyName],\r\n                Height: node.Height == null ? 440 : node.Height\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            var templateFrag = $(built(properties));\r\n\r\n            new Control(templateFrag.find(\"[data-control='editor']\"), boundObj, node);\r\n            // get settings from attrs\r\n            callback(templateFrag);\r\n        }\r\n    }\r\n\r\n\r\n    var Control = function (targetEle, boundObj, node) {\r\n        if (node.Options == null) {\r\n            var defaultTools = [\r\n                    \"bold\", \"italic\", \"underline\", \"strikethrough\",\r\n                    \"justifyLeft\", \"justifyCenter\", \"justifyRight\", \"justifyFull\",\r\n                    \"insertUnorderedList\", \"insertOrderedList\", \"indent\", \"outdent\",\r\n                    \"createLink\", \"unlink\", \"insertImage\",\r\n                    \"superscript\", \"subscript\",\r\n                    \"createTable\", \"addColumnLeft\", \"addColumnRight\", \"addRowAbove\", \"addRowBelow\", \"deleteRow\", \"deleteColumn\",\r\n                    \"viewHtml\",\r\n                    \"formatting\", \"foreColor\", \"backColor\"\r\n            ];\r\n            var mobileTools = [\r\n                \"formatting\",\r\n                \"createLink\", \"unlink\", \"insertImage\",\"viewHtml\",\r\n                \"bold\", \"italic\", \"underline\",\r\n                \"insertUnorderedList\", \"insertOrderedList\", \"indent\", \"outdent\",\r\n                \"createTable\", \"addColumnLeft\", \"addColumnRight\", \"addRowAbove\", \"addRowBelow\", \"deleteRow\", \"deleteColumn\"\r\n            ];\r\n            node.Options = app.isMobileDevice() ? mobileTools : defaultTools;\r\n        }\r\n        var boundObj = boundObj;\r\n        //Need to review\r\n        setTimeout(function () {\r\n            targetEle.kendoEditor({\r\n                change: function (e) {\r\n                    boundObj.set(node.PropertyName, targetEle.val());\r\n                },\r\n                tools: node.Options,\r\n                encoded: false,\r\n                stylesheets: [\r\n                    \"/Content/Styles/cireson.main.min.css?v=\" + session.staticFileVersion\r\n                ]\r\n            });\r\n            var editor = targetEle.data(\"kendoEditor\");\r\n            boundObj.bind(\"change\", function (e) {\r\n                editor.value(boundObj[node.PropertyName]);\r\n            });\r\n            $(editor.body).addClass(\"k-editor-content-body\");\r\n        }, 100);\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/combo/view.html',[],function () { return '<div class=\"form-group\" data-bind=\"ciresonCombo: ControlObject\"\\r\\n\\r\\n<% if ( Required ){ %>\\r\\n    required\\r\\n<% } %>\\r\\n    >\\r\\n    <label data-template-part=\"labelPart\" class=\"control-label\" for=\"<%= PropertyName %>\">\\r\\n    </label>\\r\\n\\r\\n    <input class=\"form-control form-control-picker input-sm\" data-template-part=\"inputControlPart\" data-control-bind=\"<%= PropertyName %>\"\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n         >\\r\\n    </input>\\r\\n</div>\\r\\n';});\n\n","/**\r\nCOMBO - combobox\r\n**/\r\ndefine('forms/fields/combo/controller',['require','text!forms/fields/combo/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/combo/view.html\");\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n            var viewModel = {\r\n                PropertyName: node.PropertyName,\r\n                PropertyDisplayName: node.PropertyDisplayName,\r\n                DataSource: {},\r\n                IsCascading: _.isUndefined(node.IsCascading) ? false : node.IsCascading,\r\n                Cascade: {},\r\n                Required: _.isUndefined(node.Required) ? false : node.Required,\r\n                Disabled: _.isUndefined(node.Disabled) ? false : node.Disabled,\r\n                ControlObject: null,\r\n                serverFiltering: _.isUndefined(node.serverFiltering) ? false : node.serverFiltering,\r\n                pageSize: _.isUndefined(node.pageSize) ? 1000 : node.pageSize,\r\n            };\r\n            $.extend(true, viewModel, node);\r\n\r\n            var view = new kendo.View(built(viewModel), { wrap: false, model: kendo.observable(viewModel) });\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/dropDownList/view.html',[],function () { return '<div class=\"form-group\" data-bind=\"ciresonDropDownList: ControlObject\"\\r\\n\\r\\n<% if ( Required ){ %>\\r\\n    required\\r\\n<% } %>\\r\\n    >\\r\\n    <label data-template-part=\"labelPart\" class=\"control-label\" for=\"<%= PropertyName %>\">\\r\\n    </label>\\r\\n\\r\\n    <input class=\"form-control form-control-picker input-sm\" data-template-part=\"inputControlPart\" data-control-bind=\"<%= PropertyName %>\"\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n         >\\r\\n    </input>\\r\\n</div>\\r\\n';});\n\n","/**\r\nCOMBO - combobox\r\n**/\r\ndefine('forms/fields/dropDownList/controller',['require','text!forms/fields/dropDownList/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/dropDownList/view.html\");\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n            var viewModel = {\r\n                PropertyName: node.PropertyName,\r\n                PropertyDisplayName: node.PropertyDisplayName,\r\n                DataSource: {},\r\n                Required: _.isUndefined(node.Required) ? false : node.Required,\r\n                Disabled: _.isUndefined(node.Disabled) ? false : node.Disabled,\r\n                ControlObject: null\r\n            };\r\n            $.extend(true, viewModel, node);\r\n\r\n            var view = new kendo.View(built(viewModel), { wrap: false, model: kendo.observable(viewModel) });\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/bundle/view.html',[],function () { return '<div class=\"form-group\">\\r\\n\\r\\n    <button data-role=\"button\"\\r\\n            class=\"btn btn-primary\"\\r\\n            data-sprite-css-class=\"k-icon k-edit\"\\r\\n            data-bind=\"events: { click: view.onClick }\">\\r\\n        <%= localization.Bundle %>\\r\\n    </button>\\r\\n\\r\\n    <div id=\"Bundle\" class=\"cireson-window defined-form hide\">\\r\\n        <div class=\"cireson-window--wrapper\">\\r\\n            <div class=\"cireson-window--body\">\\r\\n\\r\\n\\r\\n                <div id=\"bundleGrid\">\\r\\n                    <div style=\"width: 800px; height: 200px\"\\r\\n                         data-role=\"grid\"\\r\\n                         data-bind=\"source: products,\\r\\n                                visible: isVisible,\\r\\n                                events: {\\r\\n                                  save: onSave\\r\\n                                }\"\\r\\n                         date-scrollable=\"true\"\\r\\n                         data-editable=\"{mode:\\'inline\\', confirmation:false}\"\\r\\n                         data-toolbar=\"[{name:\\'create\\', text:\\'<%= localization.Create %>\\'}]\"\\r\\n                         data-columns=\"[\\r\\n                            { \\'field\\': \\'SoftwarePatternName\\', title: \\'<%= localization.SoftwarePatternName %>\\', \\'width\\': 150 },\\r\\n                            { \\'field\\': \\'SoftwarePattern\\', title: \\'<%= localization.SoftwarePattern %>\\', \\'width\\': 150 },\\r\\n                            { \\'field\\': \\'VersionPattern\\', title: \\'<%= localization.VersionPattern %>\\', \\'width\\': 150 },\\r\\n                            { \\'field\\': \\'ExclusionPattern\\', title: \\'<%= localization.ExclusionPattern %>\\', \\'width\\': 150 },\\r\\n                            { command:[{name:\\'edit\\', text:\\'<%= localization.Edit %>\\'}, {name:\\'destroy\\', text:\\'<%= localization.Delete %>\\'}], title: \\' \\', width: \\'150\\'}\\r\\n                        ]\">\\r\\n                        \\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"cireson-window--footer window-buttons\">\\r\\n                <div id=\"changeStatusErrorWin\" class=\"error\"></div>\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-primary\"\\r\\n                        data-bind=\"enabled: okEnabled, events: { click: okClick }\">\\r\\n                    <%= localization.OK %>\\r\\n                </button>\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-default\"\\r\\n                        data-bind=\"events: { click: cancelClick }\">\\r\\n                    <%= localization.Cancel %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n\\r\\n';});\n\n","/**\r\nfileAttachments\r\n**/\r\n\r\ndefine('forms/fields/bundle/controller',['require','text!forms/fields/bundle/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/bundle/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n\r\n            var properties = {\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n            var template = $(built(properties));\r\n            \r\n            //k-grid-add\r\n            var bundleData = [];\r\n            var gridViewModel;\r\n            \r\n            var cont = template.find(\"#Bundle\").clone(); //we have the element in memory so no need use a selector\r\n            var win = cont.kendoCiresonWindow({\r\n                title: localization.createOrEditSoftwareBundle,\r\n                width: 850,\r\n                height: 375,\r\n                actions: [],\r\n                activate: function () {}\r\n            }).data(\"kendoWindow\");\r\n\r\n            var _vmWindow = new kendo.observable({\r\n                okClick: function () {\r\n                    var dataList = gridViewModel.products._data;\r\n                    var tempSoftwarePattern = \"\";\r\n                    var tempExclusionPattern = \"\";\r\n                    var tempVersionPattern = \"\";\r\n                    \r\n                    for (var i = 0; i < dataList.length; i++) {\r\n                        if (dataList[i].SoftwarePatternName == \"\") continue;\r\n                        if ((dataList.length - 1) == i) {\r\n                            tempSoftwarePattern = tempSoftwarePattern + dataList[i].SoftwarePatternName + \"__\" + dataList[i].SoftwarePattern;\r\n                            tempExclusionPattern = tempExclusionPattern + dataList[i].ExclusionPattern;\r\n                            tempVersionPattern = tempVersionPattern + dataList[i].VersionPattern;\r\n                        }\r\n                        else {\r\n                            tempSoftwarePattern = tempSoftwarePattern + dataList[i].SoftwarePatternName + \"__\" + dataList[i].SoftwarePattern + \"|\";\r\n                            tempExclusionPattern = tempExclusionPattern + dataList[i].ExclusionPattern + \"|\";\r\n                            tempVersionPattern = tempVersionPattern + dataList[i].VersionPattern + \"|\";\r\n                        }\r\n                    }\r\n                    vm.set(\"SoftwarePattern\", tempSoftwarePattern);\r\n                    vm.set(\"ExclusionPattern\", tempExclusionPattern);\r\n                    vm.set(\"VersionPattern\", tempVersionPattern);\r\n                    var SoftwarePatternTxt = $(\"input[name='SoftwarePattern']\");\r\n                    var ExclusionPatternTxt = $(\"input[name='ExclusionPattern']\");\r\n                    var VersionPatternTxt = $(\"input[name='VersionPattern']\");\r\n                    if (vm.SoftwarePattern!=\"\") {\r\n                        vm.set(\"IsBundle\", true);\r\n                        enableDisableTextbox(SoftwarePatternTxt,false);\r\n                        enableDisableTextbox(ExclusionPatternTxt, false);\r\n                        enableDisableTextbox(VersionPatternTxt, false);\r\n                    } else {\r\n                        vm.set(\"IsBundle\", false);\r\n                        enableDisableTextbox(SoftwarePatternTxt, true);\r\n                        enableDisableTextbox(ExclusionPatternTxt, true);\r\n                        enableDisableTextbox(VersionPatternTxt, true);\r\n                    }\r\n                    win.close();\r\n                },\r\n                cancelClick: function () {\r\n                    win.close();\r\n                },\r\n            });\r\n\r\n            kendo.bind(cont, _vmWindow);\r\n            var enableDisableTextbox = function (txt, isEnable) {\r\n                if (isEnable) {\r\n                    txt.prop(\"disabled\", false).removeClass(\"k-state-disabled\");\r\n                }\r\n                else\r\n                    txt.prop(\"disabled\", true).addClass(\"k-state-disabled\").closest(\".has-error\")\r\n                                        .removeClass(\"has-error\");\r\n            }\r\n\r\n            vm.view.onClick = function () {\r\n                bundleData = [];\r\n                var softwarePatternList = new Array();\r\n                var exclusionPatternList = new Array();\r\n                var versionPatternList = new Array();\r\n                if (!_.isNull(vm.SoftwarePattern) && vm.SoftwarePattern != \"\") {\r\n                    softwarePatternList = vm.SoftwarePattern == \"\" ? \"\" : vm.SoftwarePattern.split(\"|\");\r\n                }\r\n\r\n                if (!_.isNull(vm.ExclusionPattern) && vm.ExclusionPattern != \"\") {\r\n                    exclusionPatternList = vm.ExclusionPattern == \"\" ? \"\" : vm.ExclusionPattern.split(\"|\");\r\n                }\r\n\r\n                if (!_.isNull(vm.VersionPattern) && vm.VersionPattern != \"\") {\r\n                    versionPatternList = vm.VersionPattern == \"\" ? \"\" : vm.VersionPattern.split(\"|\");\r\n                }\r\n\r\n                    \r\n                if (vm.IsBundle) {\r\n                    for (var i in softwarePatternList) {\r\n                        var softwarePattern = softwarePatternList[i].split(\"__\");\r\n                        bundleData.push({ SoftwarePatternName: softwarePattern[0], SoftwarePattern: softwarePattern[1], VersionPattern: versionPatternList[i], ExclusionPattern: exclusionPatternList[i] });\r\n                    }\r\n                }\r\n                \r\n\r\n                gridViewModel = kendo.observable({\r\n                    isVisible: true,\r\n                    onSave: function (e) {\r\n                        \r\n                    },\r\n                    products: new kendo.data.DataSource({\r\n                        schema: {\r\n                            model: {\r\n                                id: \"SoftwarePatternName\",//an id is required to maintain edit/cancel state correctlf TFS3424\r\n                                fields: {\r\n                                    SoftwarePatternName: {\r\n                                        editable: true,\r\n                                        validation: {\r\n                                            SoftwarePatternNamevalidation: function (input) {\r\n                                                if (input.is(\"[name='SoftwarePatternName']\") && input.val() == \"\") {\r\n                                                    input.attr(\"data-SoftwarePatternNamevalidation-msg\", localization.EnterRequiredFields);\r\n                                                    return false;\r\n                                                }\r\n                                                return true;\r\n                                            }\r\n                                        }\r\n                                    },\r\n                                    SoftwarePattern: {\r\n                                        editable: true, type: \"string\",\r\n                                        validation: {\r\n                                            SoftwarePatternvalidation: function (input) {\r\n                                                if (input.is(\"[name='SoftwarePattern']\") && input.val() == \"\") {\r\n                                                    input.attr(\"data-SoftwarePatternvalidation-msg\", localization.EnterRequiredFields);\r\n                                                    return false;\r\n                                                }\r\n                                                return true;\r\n                                            }\r\n                                        }\r\n                                    },\r\n                                    VersionPattern: { editable: true, type: \"string\", validation: { required: false } },\r\n                                    ExclusionPattern: { editable: true, type: \"string\", validation: { required: false } }\r\n                                }\r\n                            }\r\n                        },\r\n                        batch: false,\r\n                        data: bundleData,\r\n                    })\r\n                });\r\n\r\n                kendo.bind(cont.find(\"#bundleGrid\"), gridViewModel);\r\n\r\n                cont.removeClass('hide');\r\n                cont.show();\r\n\r\n                win.open();\r\n            }\r\n\r\n            callback(template);\r\n        }\r\n    }\r\n\r\n   \r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/fields/fileUpload/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n\\r\\n    <input id=\"<%= PropertyName %>\" type=\"file\"\\r\\n           accept=\"<%= AcceptExtension %>\"\\r\\n           data-role=\"upload\"\\r\\n           name=\"files\"\\r\\n           data-async=\"{ saveUrl: \\'/FileAttachment/FileUpload/?BaseId=<%= BaseId %>&fieldName=<%= PropertyName %>\\', autoUpload: true }\"\\r\\n           class=\"k-textbox form-control input-sm\"\\r\\n           data-bind=\"events: { select: onSelect, complete:complete, success:success }\" />\\r\\n    <br />\\r\\n    <div id=\"div<%= PropertyName %>\">\\r\\n        <div data-role=\"button\"\\r\\n                data-sprite-css-class=\"k-icon k-edit\"\\r\\n                data-bind=\"events: { click: onRemove }\">\\r\\n            <i class=\"fa fa-close\"></i>\\r\\n        </div>\\r\\n        <div>\\r\\n        <img />\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n';});\n\n","/**\r\nSTRING\r\n**/\r\n\r\ndefine('forms/fields/fileUpload/controller',['require','text!forms/fields/fileUpload/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/fileUpload/view.html\");\r\n\r\n\r\n    var definition = {\r\n\r\n        template: tpl,\r\n        build: function (viewModel, node, callback) {\r\n            \r\n            var vm = node.vm;\r\n            var view = new kendo.View();\r\n\r\n            if (_.isUndefined(vm.view)) {\r\n                vm.view = [];\r\n            }\r\n\r\n            \r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n            var properties = {\r\n                Required: node.Required,\r\n                BaseId: vm.BaseId,\r\n                AcceptExtension: _.isUndefined(node.AcceptExtension) ? \"\" : vm.AcceptExtension\r\n            };\r\n            $.extend(true, properties, node);\r\n\r\n            var template = $(built(properties));\r\n\r\n            var viewModel = new kendo.observable({\r\n                isEnabled: true,\r\n                isVisible: true,\r\n                onSelect: function (e) {\r\n                    template.find(\".k-file-error\").remove();\r\n                    $.each(e.files, function (index, value) {\r\n                        if (!_.isUndefined(node.AcceptExtension)\r\n                            && node.AcceptExtension!=\"\"\r\n                            && !(node.AcceptExtension.toLowerCase().indexOf(value.extension.toLowerCase()) > -1)) {\r\n                            kendo.ui.ExtAlertDialog.show({\r\n                                title: localization.ErrorDescription,\r\n                                message: localization.FileExtensionInvalid + node.AcceptExtension,\r\n                                icon: \"fa fa-exclamation\"\r\n                            });\r\n                            e.preventDefault();\r\n                        }\r\n                    });\r\n                },\r\n                complete: function (e) {\r\n                    if (template.find(\".k-file\").length > 1) {\r\n                        template.find(\".k-file:first\").remove();\r\n                        \r\n                    }\r\n                },\r\n                success: function (e) {\r\n                    var img = template.find(\"img\");\r\n                    img.attr(\"src\", \"data:image/png;base64,\" + e.response);\r\n                    vm[node.PropertyName] = {\r\n                        \"streamId\": null,\r\n                        \"data\": \"stream\",\r\n                        \"bufferedMode\": true,\r\n                        \"streamLength\": 0\r\n                    };\r\n\r\n                    template.find(\"#div\" + node.PropertyName).show();\r\n                },\r\n                onRemove: function (e) {\r\n                    $.get(\"/FileAttachment/RemoveFileUpload/\", { BaseId: vm.BaseId, fieldName: node.PropertyName }, function (data) {\r\n                        template.find(\".k-file\").parent().remove();\r\n                        //template.find(\"img\").hide();\r\n                        template.find(\"#div\" + node.PropertyName).hide();\r\n                        vm[node.PropertyName] = null;\r\n                    });\r\n                }\r\n            });\r\n\r\n            $.get(\"/api/V3/Projection/GetBase64String\", { BaseId: vm.BaseId, PropertyName: node.PropertyName }, function (data) {\r\n                var img = template.find(\"#div\" + node.PropertyName);\r\n                if (data != \"\") {\r\n                    template.find(\"img\").attr(\"src\", \"data:image/png;base64,\" + data);\r\n                    img.show();\r\n                } else {\r\n                    img.hide();\r\n                }\r\n            });\r\n            \r\n\r\n            _.defer(function () { kendo.bind(template, viewModel); });\r\n            callback(template);\r\n\r\n\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/fields/urlTextbox/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input type=\"text\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n           class=\"k-textbox form-control input-sm\"\\r\\n           data-bind=\"value: <%= PropertyName %>, events:{change:textChange}\" <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n\\r\\n        />\\r\\n    <div data-role=\"button\"\\r\\n         data-sprite-css-class=\"k-icon k-edit\"\\r\\n         class=\"urlTextboxIcon\"\\r\\n         data-bind=\"events: { click: openURL }\">\\r\\n        <i class=\"fa fa-external-link nav-icon-color\"></i>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nSTRING\r\n**/\r\n\r\ndefine('forms/fields/urlTextbox/controller',['require','text!forms/fields/urlTextbox/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/urlTextbox/view.html\");\r\n\r\n\r\n    var definition = {\r\n\r\n        template: tpl,\r\n        build: function (viewModel, node, callback) {\r\n            \r\n            var vm = node.vm;\r\n            \r\n            var view = new kendo.View();\r\n\r\n            if (_.isUndefined(vm.view)) {\r\n                vm.view = [];\r\n            }\r\n            \r\n            vm.view.buildURLTextbox = function () {\r\n                //build template using underscore.js so that we can interpret kendo template vars if needed\r\n                var built = _.template(tpl);\r\n                var regexp = new RegExp(/^((ftp|http|https?):\\/\\/)?([w|W]{3}\\.)*?[a-zA-Z0-9\\-\\.]{3,}\\.[a-zA-Z]{2,}(\\.[a-zA-Z]{2,})?$/);\r\n                var disabled = \"urlTextboxButtonDisabled\";\r\n                var error = \"input-error\";\r\n                var url = vm.get(node.PropertyName);\r\n\r\n                var properties = {\r\n                    Required: node.Required,\r\n                    Disabled: node.disabled\r\n                };\r\n                \r\n                $.extend(true, properties, node);\r\n                var template = $(built(properties));\r\n                var txtBox = template.find(\"input\");\r\n                var link = template.find(\".urlTextboxIcon\");\r\n\r\n                var validateUrl = function () {\r\n                    var isOk = true;\r\n                    url = vm.get(node.PropertyName);\r\n                    link.removeClass(disabled);\r\n                    txtBox.removeClass(error);\r\n                    if (url == \"\" || _.isNull(url)) {\r\n                        isOk = false;\r\n                        link.addClass(disabled);\r\n                    } else if (!regexp.test(url)) {\r\n                        link.addClass(disabled);\r\n                        txtBox.addClass(error);\r\n                        isOk = false;\r\n                    }\r\n                    return isOk;\r\n                }\r\n                validateUrl();\r\n                vm.textChange = function (e) {\r\n                    validateUrl();\r\n                }\r\n\r\n                vm.openURL = function (e) {\r\n                    if (validateUrl()) {\r\n                        //append protocol if does not have one\r\n                        if (!url.match(/^ftp|http([s]?):\\/\\/.*/)) {\r\n                            url = 'http://' + url;\r\n                        }\r\n                        var win = window.open(url, '_blank');\r\n                        win.focus();\r\n                    }\r\n                };\r\n\r\n\r\n                view = new kendo.View(template, { wrap: false, model: vm });\r\n               \r\n               callback(view.render());\r\n            };\r\n            vm.view.buildURLTextbox();\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","/**\r\nDECIMAL\r\n**/\r\n\r\ndefine('forms/fields/percentage/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\"); //use numeric template\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                //Required: false,\r\n                DecimalPlaces: 2,\r\n                MinValue: '',\r\n                MaxValue: '',\r\n                StepIncrement: 0.01,\r\n                Disabled: node.disabled,\r\n                Required: node.Required,\r\n                Format: \"P0\"\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\r\n\r\n\r\ndefine('forms/formBuilder',[\r\n    \"forms/structure/formPanel/controller\",\r\n    \"forms/structure/formPanelFull/controller\",\r\n    \"forms/structure/customFieldGroup/controller\",\r\n    \"forms/structure/customFieldGroupRow/controller\",\r\n    \"forms/structure/columnField/controller\",\r\n    \"forms/structure/tab/controller\",\r\n    \"forms/structure/tabPane/controller\",\r\n    \"forms/structure/tabNavigation/controller\",\r\n    \"forms/structure/tabData/controller\",\r\n\r\n    \"forms/predefined/actionLog/controller\",\r\n    \"forms/predefined/fileAttachments/controller\",\r\n    \"CustomSpace/Scripts/forms/predefined/affectedItems/controller\", // \"forms/predefined/affectedItems/controller\",\r\n    \"CustomSpace/Scripts/forms/predefined/relatedItems/controller\", // \"forms/predefined/relatedItems/controller\",\r\n    \"forms/predefined/childWorkItems/controller\",\r\n    \"forms/predefined/userInput/controller\",\r\n    \"forms/predefined/activities/controller\",\r\n    \"forms/predefined/multipleObjectPicker/controller\",\r\n    \"CustomSpace/Scripts/forms/predefined/history/controller\", // \"forms/predefined/history/controller\",\r\n    \"forms/predefined/billableTime/controller\",\r\n    \"forms/predefined/knowledgeArticle/controller\",\r\n    \"forms/predefined/fileAttachmentsDragDrop/controller\",\r\n    \r\n\r\n    \"forms/fields/string/controller\",\r\n    \"forms/fields/longstring/controller\",\r\n    \"forms/fields/boolean/controller\",\r\n    \"forms/fields/display/controller\",\r\n    \"forms/fields/spacer/controller\",\r\n    \"forms/fields/numeric/controller\",\r\n    \"forms/fields/int/controller\",\r\n    \"forms/fields/decimal/controller\",\r\n    \"forms/fields/double/controller\",\r\n    \"forms/fields/date/controller\",\r\n    \"forms/fields/datetime/controller\",\r\n    \"forms/fields/enum/controller\",\r\n    \"forms/fields/userPicker/controller\",\r\n    \"forms/fields/objectPicker/controller\",\r\n    \"forms/fields/button/controller\",\r\n    \"forms/fields/editor/controller\",\r\n    \"forms/fields/combo/controller\",\r\n    \"forms/fields/dropDownList/controller\",\r\n    \"forms/fields/bundle/controller\",\r\n    \"forms/fields/fileUpload/controller\",\r\n    \"forms/fields/urlTextbox/controller\",\r\n    \"forms/fields/percentage/controller\"\r\n    \r\n\r\n\r\n], function (formPanel,\r\n    formPanelFull,\r\n    customFieldGroup,\r\n    customFieldGroupRow,\r\n    columnField,\r\n    tab, //.tab-content\r\n    tabPane, //.tab-pane\r\n    tabNavigation, //ul\r\n    tabData,//li\r\n\r\n    actionLog,\r\n    fileAttachments,\r\n    affectedItems,\r\n    relatedItems,\r\n    childWorkItems,\r\n    userInput,\r\n    activities,\r\n    multipleObjectPicker,\r\n    history,\r\n    billableTime,\r\n    knowledgeArticle,\r\n    fileAttachmentsDragDrop,\r\n    \r\n\r\n    String,\r\n    LongString,\r\n    Boolean,\r\n    Display,\r\n    Spacer,\r\n    Numeric,\r\n    Int32,\r\n    Decimal,\r\n    Double,\r\n    Date,\r\n    DateTime,\r\n    Enum,\r\n    UserPicker,\r\n    ObjectPicker,\r\n    Button,\r\n    Editor,\r\n    Combo,\r\n    DropDownList,\r\n    Bundle,\r\n    FileUpload,\r\n    UrlTextbox,\r\n    Percentage) {\r\n\r\n    var mainContainer;\r\n    var jsonTemplate;\r\n    var viewModel;\r\n\r\n    var definition = {\r\n        build: function (vm, callback) {\r\n            viewModel = vm.viewModel;\r\n            jsonTemplate = vm.formTemplate;\r\n\r\n            // Decide on layout template\r\n            eval(\"var _obj = \" + jsonTemplate.layoutType + \";\");\r\n            // if no template was found, use default ('form')\r\n            if (!_obj) {\r\n                _obj = formPanel;\r\n            }\r\n\r\n            _obj.build(function (tplString) {\r\n                mainContainer = $(tplString);\r\n            });\r\n\r\n            readTemplate(mainContainer, jsonTemplate);\r\n            callback(mainContainer);\r\n            //see if we have a non-default tab selection\r\n            $(\"a[selected='selected']\").tab('show'); //selected tab for loading ex: http://localhost:13463/Incident/Edit/IR430/?tab=activity&activityId=MA798\r\n        }\r\n    }\r\n\r\n    var readTemplate = function (container, json, columns) {\r\n        var columns = (columns != undefined && columns !== false) ? columns : false;\r\n\r\n        $.each(json, function (key, item) {\r\n            if (key != \"layoutType\") {\r\n                jsonDecision(container, key, item, columns);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Mutate any jsonFormTemplate items by name:value\r\n    var mutationLogic = {\r\n        // Run on all properties\r\n        all: function (propValue) {\r\n            propValue.vm = viewModel; // pass in viewModel\r\n        },\r\n        tabList: function (tabList) {\r\n            jsonTemplate.tabNavigation = {\r\n                nodeCount: tabList.length,\r\n                tabData: []\r\n            }\r\n            tabNavigation.build(viewModel, jsonTemplate, function (tabtplString) {\r\n                var tabnavCont = $(tabtplString);\r\n\r\n                //prevent multiple tabs being set to focus. \r\n                var focusSet = false;\r\n                $.each(tabList, function (i, tabNode) {\r\n                    //this gets ?tab= data from uri if present\r\n                    var focusedTab = app.getParameterByName(\"tab\").toLowerCase();\r\n                    var tabNodeNameKey = tabNode.name;\r\n                    //set vals\r\n                    tabNode.tabId = app.lib.newGUID();\r\n                    tabNode.active = (i == 0) ? \"active\" : \"\";\r\n                    tabNode.content.tabId = tabNode.tabId;\r\n                    tabNode.content.active = tabNode.active;\r\n\r\n                    //call build on each nav node \r\n                    tabData.build(viewModel, tabNode, function (tplString) {\r\n                        //append to tabnavcont\r\n                        var element = $(tplString);\r\n\r\n                        if (app.isMobile()) {\r\n                            tabnavCont.children('.nav-dropdown-content').find('ul').append(element);\r\n                        } else {\r\n                            tabnavCont.append(element);\r\n                        }\r\n                      \r\n                        if (!app.isMobile()) {\r\n                            //--Start focus tab logic\r\n                            //check if there we found and focused tab param in the uri\r\n                            if (!focusSet && focusedTab.length > 0) {\r\n                                //this statement will set focus if they have a tab name in the uri that matches a tab name on the page\r\n                                if (tabNodeNameKey.toLowerCase() === focusedTab) {\r\n                                    element.find(\"a\").attr(\"selected\", \"true\");\r\n                                    focusSet = true;\r\n                                }\r\n\r\n                                //if focus is on activity tab (i.e. click an activity from the grid) set focus on tab and open activity\r\n                                switch (focusedTab) {\r\n                                    case \"activity\":\r\n                                        //find the activity tab based on control type\r\n                                        $.each(tabNode.content, function (i, content) {\r\n                                            $.each(content.customFieldGroupList, function (i, group) {\r\n                                                if (group.type === \"activities\") {\r\n                                                    element.find(\"a\").attr(\"selected\", \"true\");\r\n                                                    focusSet = true;\r\n                                                };\r\n                                            });\r\n                                        });\r\n                                        break;\r\n                                    default:\r\n                                        break;\r\n                                };\r\n                            };\r\n                            //--End focused tab logic\r\n                        } \r\n                    });\r\n                });\r\n                //append tabnavcont to main form panel\r\n                mainContainer.append(tabnavCont);\r\n            });\r\n\r\n            // ------------ tab dropdown\r\n\r\n        },\r\n        // Run to determine colspan\r\n        columnFieldList: function (columnFieldList) {\r\n            app.lib.setColumnSizes(columnFieldList);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    var getContainer = function (tplReturn) {\r\n        return (typeof (tplReturn) === \"string\") ? $(tplReturn) : tplReturn;\r\n    }\r\n\r\n    var chooseNextAction = function (container, item, objectName, columnCount) {\r\n        if (item.content) { //this denotes a tabPane\r\n            jsonDecision(container, objectName + \"Pane\", item.content);\r\n        } else if (item.rows) { //this denotes a FieldGroupList\r\n            jsonDecision(container, objectName + \"Row\", item.rows);\r\n        } else if (item.DataType) { //denotes a standard field, like string or numeric\r\n            jsonDecision(container, item.DataType, item);\r\n        } else if (item.type) { // predefined\r\n            jsonDecision(container, item.type, item);\r\n        } else { //an array of items, re-loop to comb through the child properties\r\n            readTemplate(container, item, columnCount);\r\n        }\r\n    };\r\n\r\n    // \r\n    var jsonDecision = function (propContainer, propName, propValue, columns) {\r\n        //propName is the name of the obj we will call .build on\r\n        //propValue is the object itself, like { DataType: \"UserPicker\", PropertyDisplayName: \"PrimaryOwner\", PropertyName: \"RelatesToIncident\", FilterByAnalyst: true},\r\n        var objectName = propName;\r\n\r\n        var list = false;\r\n        var row = false;\r\n        var pane = false;\r\n        var columnCount = (columns == undefined) ? false : columns; //TODO: ELI do we need this now, with the mutate function\r\n\r\n        // mutation logic\r\n        if (mutationLogic[propName]) {\r\n            mutationLogic[propName](propValue);\r\n        }\r\n        mutationLogic[\"all\"](propValue);\r\n\r\n        // Check if it is a List\r\n        if (propValue.push) {\r\n            if (propName.indexOf(\"List\") > -1) {\r\n                list = true;\r\n                objectName = propName.split(\"List\")[0];\r\n            }\r\n            else if (propName.indexOf(\"Row\") > -1) {\r\n                row = true;\r\n                columnCount = propValue.length;\r\n            }\r\n            else if (propName.indexOf(\"Pane\") > -1) {\r\n                pane = true;\r\n            }\r\n        }\r\n\r\n        // Decide on Template\r\n        eval(\"var _obj = \" + objectName + \";\");\r\n        // Check if Template Exists\r\n        if (!_obj) {\r\n            throw Exception(objectName + \" is not part of the templating system\");\r\n            return false;\r\n        }\r\n\r\n        // xxxList \r\n        if (list || row || pane) {\r\n            if (_obj == tab) {\r\n                //if it is a tab object, need to call build first, then loop through children\r\n                _obj.build(viewModel, propValue, function (tplReturn) {\r\n                    var _container = getContainer(tplReturn);\r\n                    propContainer.append(_container);\r\n                    $.each(propValue, function (i, item) {\r\n                        chooseNextAction(_container, item, objectName);\r\n                    });\r\n                });\r\n\r\n            } else {\r\n                $.each(propValue, function (i, item) {\r\n                    if (objectName == \"columnField\") {\r\n                        item.columnCount = columnCount;\r\n                    }\r\n\r\n                    if (_obj == tabPane) { //this one passes in propValue, the else statement passes in item\r\n                        _obj.build(viewModel, propValue, function (tplReturn) {\r\n                            var _container = getContainer(tplReturn);\r\n                            propContainer.append(_container);\r\n                            readTemplate(_container, item, columnCount);\r\n                        });\r\n                    }\r\n                        //todo: note, possibly do manipulation here on customFieldGroupList/Row. do account for the bs-panels being wonky.\r\n\r\n                    else {\r\n\r\n                        _obj.build(viewModel, item, function (tplReturn) {\r\n                            var _container = getContainer(tplReturn);\r\n                            propContainer.append(_container);\r\n                            //allow view to define where children should be added \r\n                            if (_container.find(\".append-here\").length != 0) {\r\n                                chooseNextAction(_container.find(\".append-here\"), item, objectName, columnCount);\r\n                            } else {\r\n                                chooseNextAction(_container, item, objectName, columnCount);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            //we should only force a disable state if isDisabled is true\r\n            //otherwise keep default and defined disable value\r\n            if (!_.isUndefined(viewModel) && viewModel.isDisabled) {\r\n                propValue.disabled = true;\r\n            }\r\n\r\n            _obj.build(viewModel, propValue, function (tplReturn) {\r\n                var _container = getContainer(tplReturn);\r\n                propContainer.append(_container);\r\n            });\r\n        }\r\n\r\n    }\r\n    return definition;\r\n});\r\n\r\n\r\n\n","define('forms/formHelper',[\n\n], function (\n\n        ) {\n\n\n    var definition = {\n        \n        manageDirty: function (vm) {\n            //setup is dirty flag\n            vm.set('isDirty', false);\n            //bind to view model changes to set dirty flag\n            vm.bind(\"change\", function (e) {\n                //console.log(e.field); // will output the changed field once the event is raised\n                //TODO: may need to make this a little smarter\n                //don't trigger isDirty changes\n                if (e.field !== \"isDirty\" &&\n                    e.field !== \"HistoryButton\") {\n                    vm.set(\"isDirty\", true);\n                }\n            });\n            //don't let the user leave the page if form is dirty\n            window.onbeforeunload = function () {\n                //TODO find a way to over write default browser alert\n                if (vm.get(\"isDirty\")) {\n                    return localization.UnsavedDataMessage;\n                }\n            }\n        },\n\n        mobileDrawerTaskButton: function (taskContainer) { //This will going to create task button to the drawer for mobile task\n            //if (app.isMobileDevice()) \n            var task = drawermenu.addButton(localization.Tasks, \"fa fa-tasks\", function () { });\n            app.lib.makeDrawer(\"bottom\", taskContainer, task, true);\n\n            function mobileTaskShow() {\r\n                if (app.isMobile()) {\r\n                    task.show();\r\n                } else {\r\n                    task.hide();\r\n                }\n            }\n\n            $(window).resize(function () {\r\n                mobileTaskShow();\r\n            });\n\n            mobileTaskShow();\n        }\n    }\n\n\n    return definition;\n});\n\n\n","require.config({\r\n    waitSeconds: 0,\r\n    urlArgs: \"v=\" + session.staticFileVersion,\r\n    baseUrl: \"/Scripts/\",\r\n    paths: {\r\n        //kendo: \"kendo/js/kendo.mobile.min\",\r\n        //jquery: \"jquery/jquery.min\",\r\n        text: \"require/text\",\r\n        \"CustomSpace\": \"../CustomSpace\"\r\n    },\r\n\r\n    shim: {\r\n        //kendo: {\r\n        //    deps: ['jquery'],\r\n        //    exports: 'kendo'\r\n        //}\r\n    }\r\n});\r\n\r\n//let's let the user know that things are happening\r\napp.lib.mask.apply();\r\n$(\"body\").css(\"cursor\", \"wait\");\r\n$(document).ajaxStop(function () {\r\n    $(\"body\").css(\"cursor\", \"auto\");\r\n});\r\n\r\nrequire([\"forms/headerBuilder\", \"forms/formBuilder\", \"forms/formHelper\"], function (headerBuilder, formBuilder, formHelper) {\r\n\r\n\r\n    var saveUrl = pageForm.saveUrl;\r\n    var mainContainer = $(pageForm.container);\r\n    var headerContainer = $('.page_bar').empty();\r\n\r\n    var formContainer = $('<div/>').addClass(\"page-form\");\r\n    var dataVM = pageForm.viewModel;\r\n   \r\n\r\n    //add header json definition\r\n    //since all WI have same header structure we put it in this file\r\n    //if this changes we need to move this to all the cshtml New/Edit files\r\n    if (pageForm.type == \"userRelatedInfo\") {\r\n        pageForm.headerTemplate = {\r\n            rows: [\r\n                    {\r\n                        columns: [\r\n                            { View: \"status\", Class: \"col-md-5 col-xs-12\" },\r\n                            { View: \"spacer\", ColSpan: 4 }\r\n                        ]\r\n                    }\r\n            ]\r\n        };\r\n    } else {\r\n        pageForm.headerTemplate = {\r\n            rows: [\r\n                    {\r\n                        columns: [\r\n                            { View: \"title\", ColSpan: 8 },\r\n                            { View: \"spacer\", ColSpan: 4 }\r\n                        ]\r\n                    }\r\n            ]\r\n        };\r\n    }\r\n\r\n    var init = function () {\r\n        /*\r\n         * this is how we are doing some session stuff to pick what template to use. (find it in wiMain.js)\r\n         *          setTemplateJSONFromSessionAdJSON();\r\n         * For WIs at least the templates can vary based on AD groupd (I think).\r\n         * For Incidents we have \"Default\" and \"DefaultEndUser\".\r\n         * If we are not going to have different types of User Profile forms, we can likely skip \r\n         * this and just define it like I have. Or change the json structure. Some kind of standard\r\n         * is being worked out on all this so we can streamline it better.\r\n         */\r\n        if (pageForm.type == \"userRelatedInfo\") {\r\n            if (dataVM.hasAsset) {\r\n                pageForm.formTemplate = pageForm.formTemplate[\"Default\"];\r\n            } else {\r\n                pageForm.formTemplate = pageForm.formTemplate[\"withOutAsset\"];\r\n            }\r\n        } else {\r\n            pageForm.formTemplate = pageForm.formTemplate[\"Default\"];\r\n        }\r\n\r\n        //add dynamic containers to main container\r\n        //mainContainer.append(headerContainer, formContainer);\r\n        mainContainer.append(formContainer);\r\n\r\n        //build and add header container\r\n        headerBuilder.build(pageForm, function (view) {\r\n            headerContainer.append(view);\r\n        });\r\n\r\n        //build and add form from json definition\r\n        formBuilder.build(pageForm, function (html) {\r\n            formContainer.append(html);\r\n            app.controls.apply(formContainer, { localize: true, vm: dataVM, bind: true });\r\n\r\n            formContainer.show();\r\n\r\n            if (pageForm.type != \"userRelatedInfo\") {\r\n\r\n                // make sure we have the drawer before we try to add buttons buttons\r\n                //if (!_.isUndefined(drawermenu)) { //stupid underscore need to move to lo-dash\r\n                if (typeof (drawermenu) != 'undefined') {\r\n                    createButtons();\r\n                } else {\r\n                    app.events.subscribe(\"drawerCreated\", function () {\r\n                        createButtons();\r\n                    });\r\n                }\r\n            }\r\n\r\n            app.lib.handleMessages();\r\n\r\n            //manage dirty\r\n            formHelper.manageDirty(dataVM);\r\n        });\r\n\r\n        //let them in\r\n        app.lib.mask.remove();\r\n    }\r\n\r\n    // Form Buttons\r\n    var createButtons = function () {\r\n\r\n\r\n        // Save Failure\r\n        var saveFailure = function (exceptionMessage) {\r\n            if (exceptionMessage == localization.RequiredFieldsErrorMessage) {\r\n                app.lib.message.add(exceptionMessage, \"danger\");\r\n            } else {\r\n                //fallback to generic message\r\n                app.lib.message.add(localization.PleaseCorrectErrors, \"danger\");\r\n            }\r\n            app.lib.message.show();\r\n        }\r\n        // Save Button\r\n        drawermenu.addButton(localization.Save, \"fa fa-check\", function () {\r\n\r\n            save(function (data) {\r\n                data = eval(\"(\" + data + \")\");\r\n\r\n                app.lib.message.add(data.data, \"success\");\r\n                location = \"/Settings/User/UserProfile/\";\r\n                app.clearAllLocalStorage();\r\n                // we need this to force terminate the warning window bacasue of app.clearAllLocalStorage() function.\r\n                app.sessionTimeout.hideWarningPopup();\r\n                store.set(\"cireson_last_read_announcement\", new Date().toISOString());//it should be stored on local storage.\r\n            }, saveFailure);\r\n        });\r\n\r\n\r\n\r\n        // Apply Button\r\n        drawermenu.addButton(localization.Apply, \"fa fa-pencil\", function () {\r\n\r\n            save(function (data) {\r\n                \r\n                refreshButtons();\r\n                $(\".k-overlay\").hide();\r\n                app.lib.message.show();\r\n                setTimeout(function () {\r\n                    $('html, body').animate({\r\n                        scrollTop: 0\r\n                    }, 300);\r\n                    app.lib.mask.remove();\r\n                    location = \"/Settings/User/UserProfile/\";\r\n                    app.clearAllLocalStorage();\r\n                    // we need this to force terminate the warning window bacasue of app.clearAllLocalStorage() function.\r\n                    app.sessionTimeout.hideWarningPopup();\r\n                    store.set(\"cireson_last_read_announcement\", new Date().toISOString());//it should be stored on local storage.\r\n                }, 100);\r\n            }, saveFailure);\r\n        });\r\n        // Cancel Button\r\n        drawermenu.addButton(localization.Cancel, \"fa fa-times\", function () {\r\n            if (dataVM.get(\"isDirty\")) {\r\n                $.when(kendo.ui.ExtOkCancelDialog.show({\r\n                    title: localization.Warning,\r\n                    message: localization.UnsavedDataMessage,\r\n                    icon: \"fa fa-exclamation\"\r\n                })\r\n                ).done(function (response) {\r\n                    if (response.button === \"ok\") {\r\n                        //make the form clean so we don't trigger onbeforeunload\r\n                        dataVM.set(\"isDirty\", false);\r\n\r\n                        location.href = \"/Settings/User/UserProfile/\";\r\n                    }\r\n                });\r\n            } else {\r\n                location.href = \"/Settings/User/UserProfile/\";\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    var refreshButtons = function () {\r\n        if (pageForm.viewModel.IsNew) {\r\n            $(\"#drawer-taskbar\").html(\"\");\r\n            pageForm.viewModel.IsNew = false;\r\n            createButtons();\r\n        }\r\n    }\r\n\r\n    // Ajax Save Method (to be moved)\r\n    var save = function (success, failure) {\r\n        //ensure all values inputted have been bound to VM\r\n        $(\".page_content *\").blur();\r\n\r\n        var valid = true;\r\n        formContainer.find(\".form-group\").removeClass(\"has-error\");\r\n        formContainer.find(\"[required]\").each(function () {\r\n            var jqEle = $(this);\r\n            var nodeName = jqEle[0].nodeName.toLowerCase();\r\n            if (nodeName != \"input\" && nodeName != \"textarea\") {\r\n                jqEle = jqEle.find(\"input\");\r\n            }\r\n            if (jqEle.val() == \"\") {\r\n                valid = false;\r\n                jqEle.parents(\".form-group\").addClass(\"has-error\");\r\n            }\r\n        });\r\n        if (!valid) {\r\n            failure(localization.RequiredFieldsErrorMessage);\r\n            return;\r\n        }\r\n        app.lib.mask.apply();\r\n\r\n\r\n        var postData = encodeURIComponent(JSON.stringify({\r\n            isDirty: true,\r\n            current: dataVM.toJSON(),\r\n            original: pageForm.jsonRaw\r\n        }));\r\n\r\n        $.ajax({\r\n            type: 'POST',\r\n            dataType: 'text',\r\n            url: saveUrl,\r\n            data: \"formJson=\" + postData,\r\n            success: function (data, status, xhr) {\r\n                //make the form clean so we don't trigger onbeforeunload\r\n                dataVM.set(\"isDirty\", false);\r\n\r\n                if (data.search('loginForm') < 0) { // Logged out check                   \r\n                    success(data);\r\n                } else {\r\n                    //session expired\r\n                    window.location = \"/Login/Login?ReturnUrl=\" + window.location.pathname;\r\n                }\r\n            },\r\n            error: function (xhr, ajaxOptions, thrownError) {\r\n                failure();\r\n                console && app.lib.log(localization.RequestFailed);\r\n                app.lib.log(thrownError);\r\n\r\n                var jsonRsp = xhr.responseText;\r\n                app.lib.log(jsonRsp);\r\n\r\n                var errorMsg = localization.RequestFailed;\r\n                if (jsonRsp.exception && jsonRsp.exception.length > 0) {\r\n                    errorMsg = jsonRsp.exception;\r\n                }\r\n\r\n                kendo.ui.ExtAlertDialog.show({\r\n                    title: localization.ErrorDescription,\r\n                    message: errorMsg,\r\n                    icon: \"fa fa-exclamation\"\r\n                });\r\n            },\r\n            processData: false,\r\n            async: false\r\n        });\r\n    }\r\n\r\n    init();\r\n\r\n\r\n});\r\n\ndefine(\"forms/profileMain\", function(){});\n\n"]}