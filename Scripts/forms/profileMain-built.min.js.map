{"version":3,"sources":["require/text.js","forms/header/status/view.html!text","forms/flyout/fileAttachmentsFlyout/mobile_view.html!text","forms/flyout/fileAttachmentsFlyout/view.html!text","forms/flyout/fileAttachmentsFlyout/controller.js","forms/header/status/controller.js","forms/header/relationships/view.html!text","forms/header/relationships/controller.js","forms/header/slo/view.html!text","forms/header/slo/controller.js","forms/header/spacer/view.html!text","forms/header/spacer/controller.js","forms/header/title/view.html!text","forms/header/title/controller.js","forms/header/approval/view.html!text","forms/header/approval/controller.js","forms/headerBuilder.js","forms/structure/formPanel/view.html!text","forms/structure/formPanel/controller.js","forms/structure/formPanelFull/view.html!text","forms/structure/formPanelFull/controller.js","forms/structure/customFieldGroup/view.html!text","forms/structure/customFieldGroup/controller.js","forms/structure/customFieldGroupRow/view.html!text","forms/structure/customFieldGroupRow/controller.js","forms/structure/columnField/view.html!text","forms/structure/columnField/controller.js","forms/structure/tab/view.html!text","forms/structure/tab/controller.js","forms/structure/tabPane/view.html!text","forms/structure/tabPane/controller.js","forms/structure/tabNavigation/view.html!text","forms/structure/tabNavigation/mobile.html!text","forms/structure/tabNavigation/controller.js","forms/structure/tabData/view.html!text","forms/structure/tabData/mobile.html!text","forms/structure/tabData/controller.js","forms/predefined/actionLog/view.html!text","forms/predefined/actionLog/controller.js","forms/predefined/fileAttachments/view.html!text","forms/predefined/fileAttachments/controller.js","forms/predefined/affectedItems/view.html!text","forms/popups/multipleObjectPickerPopup/view.html!text","forms/popups/multipleObjectPickerPopup/controller.js","forms/predefined/affectedItems/controller.js","forms/predefined/relatedItems/view.html!text","forms/predefined/relatedItems/controller.js","forms/predefined/childWorkItems/view.html!text","forms/predefined/childWorkItems/controller.js","forms/predefined/userInput/view.html!text","forms/predefined/userInput/controller.js","forms/predefined/activities/view.html!text","forms/predefined/activities/controller.js","forms/predefined/multipleObjectPicker/view.html!text","forms/predefined/multipleObjectPicker/controller.js","../CustomSpace/Scripts/forms/predefined/history/view.html!text","../CustomSpace/Scripts/forms/predefined/history/controller.js","forms/predefined/billableTime/view.html!text","forms/predefined/billableTime/controller.js","forms/predefined/knowledgeArticle/view.html!text","forms/predefined/knowledgeArticle/popup.html!text","forms/predefined/knowledgeArticle/controller.js","forms/predefined/fileAttachmentsDragDrop/view.html!text","forms/predefined/fileAttachmentsDragDrop/controller.js","forms/fields/string/view.html!text","forms/fields/string/controller.js","forms/fields/longstring/view.html!text","forms/fields/longstring/controller.js","forms/fields/boolean/view.html!text","forms/fields/boolean/controller.js","forms/fields/display/view.html!text","forms/fields/display/controller.js","forms/fields/spacer/view.html!text","forms/fields/spacer/controller.js","forms/fields/numeric/view.html!text","forms/fields/numeric/controller.js","forms/fields/int/controller.js","forms/fields/decimal/controller.js","forms/fields/double/controller.js","forms/fields/date/view.html!text","forms/fields/date/controller.js","forms/fields/datetime/view.html!text","forms/fields/datetime/controller.js","forms/fields/enum/view.html!text","forms/fields/enum/controller.js","forms/fields/userPicker/view.html!text","forms/popups/userPickerPopup/view.html!text","forms/popups/userPickerPopup/controller.js","forms/fields/userPicker/controller.js","forms/fields/objectPicker/view.html!text","forms/popups/objectPickerPopup/view.html!text","forms/popups/objectPickerPopup/controller.js","forms/fields/objectPicker/controller.js","forms/fields/button/view.html!text","forms/fields/button/controller.js","forms/fields/editor/view.html!text","forms/fields/editor/controller.js","forms/fields/combo/view.html!text","forms/fields/combo/controller.js","forms/fields/dropDownList/view.html!text","forms/fields/dropDownList/controller.js","forms/fields/bundle/view.html!text","forms/fields/bundle/controller.js","forms/fields/fileUpload/view.html!text","forms/fields/fileUpload/controller.js","forms/fields/urlTextbox/view.html!text","forms/fields/urlTextbox/controller.js","forms/fields/percentage/controller.js","forms/formBuilder.js","forms/formHelper.js","forms/profileMain.js"],"names":["define","module","text","fs","Cc","Ci","xpcIsWindows","progIds","xmlRegExp","bodyRegExp","hasLocation","location","href","defaultProtocol","protocol","replace","defaultHostName","hostname","defaultPort","port","undefined","buildMap","masterConfig","config","version","strip","content","matches","match","jsEscape","createXhr","xhr","i","progId","XMLHttpRequest","ActiveXObject","e","parseName","name","modName","ext","temp","index","indexOf","isRelative","substring","length","moduleName","xdRegExp","useXhr","url","uProtocol","uHostName","uPort","exec","split","toLowerCase","finishLoad","onLoad","isBuild","load","req","inlineText","parsed","nonStripName","toUrl","get","err","error","write","pluginName","hasOwnProperty","asModule","writeFile","extPart","fileName","value","textWrite","contents","env","process","versions","node","require","nodeRequire","callback","errback","file","readFileSync","headers","header","open","setRequestHeader","onXhr","onreadystatechange","evt","status","readyState","Error","responseText","onXhrComplete","send","Packages","java","stringBuffer","line","io","File","lineSeparator","lang","System","getProperty","input","BufferedReader","InputStreamReader","FileInputStream","StringBuffer","readLine","charAt","append","String","toString","close","Components","classes","interfaces","utils","inStream","convertStream","fileObj","readData","FileUtils","createInstance","nsIFileInputStream","init","nsIConverterInputStream","available","DEFAULT_REPLACEMENT_CHARACTER","readString","path","__fileAttachmentsPopupSingleton","tpl","app","isMobile","FileAttachmentsPopup","vm","targetEle","task","_vmWindow","win","self","this","html","setSaveCallback","$","unbind","bind","obj","setCancelCallback","kendoCiresonWindow","title","localization","FileAttachments","width","height","actions","data","kendo","observable","save","trigger","selectedFiles","closeModal","cancel","isDesktopView","isMobileDevice","isMobileView","onOpenFile","dataSource","view","map","select","item","saveCancelBtn","closeBtn","openModal","removeClass","show","modal","selectFile","el","isImage","listView","find","closest","dataItem","getByUid","action","attr","downloadUrl","rootURL","BaseId","window","setTimeout","document","body","appendChild","createElement","src","focus","dialog","destroy","eq","remove","dialogs","kendoDialog","DisplayName","Content","animation","effects","addClass","on","each","before","off","kendoListView","viewModel","FileAttachment","template","selectable","change","dataBound","parent","hide","getPopup","built","_","ele","attachmentPickerFlyout","build","isUndefined","set","viewAttachments","filesCount","statusVisible","newWI","id","View","wrap","model","render","container","wrapper","buildParentHeaderView","viewCallBack","controller","parentIncident","type","ParentRecord","Parentincident","editHref","ParentWorkItem","Id","editLink","Title","unlinkParent","when","ui","ExtYesNoDialog","UnlinkToParent","message","SureUnlinkToParent","done","response","button","isNull","definition","isAnalyst","DoWork","sloViewObj","element","sloObjects","sloActive","sloPaused","sloMet","sloWarning","sloBreached","sloNotReady","sloContainer","key","isMet","isPaused","sloTemplate","sloObj","Status","imageClass","isBreach","sloImg","clone","SLOCoundown","Time","Hours","Minutes","Seconds","eval","WarningDate","ServerDatetimeNow","sloCloned","isMetStat","hours","minutes","seconds","warningDate","serverCurrentDate","secs","Math","abs","mins","hrs","setSeconds","getSeconds","parseInt","rejected","approve","notYetVoted","approvalModel","decisionEnumId","comments","onRejectClick","updateStatus","onApproveClick","onCompleteClick","constants","workItemStatuses","ManualActivity","Completed","Name","updateManualActivity","onFailClick","Failed","isReviewActivity","updateReviewActivity","isManualActivity","ExtYesNoTextAreaDialog","Comments","DoYouHaveComments","required","pageForm","Reviewer","reviewItem","group","userGroup","User","Decision","session","user","comment","VotedBy","Date","toISOString","consoleSetting","RequireImplementationNotes","ImplementationdetailsRequired","Implementationdetails","buttons","Save","click","$inputText","val","currentNotes","Notes","options","requiredCss","cls","Cancel","postData","encodeURIComponent","JSON","stringify","isDirty","current","toJSON","original","jsonRaw","ajax","dataType","saveUrl","success","reload","search","successMessage","ReviewActivityApprovedMessage","ReviewActivityRejectedMessage","ClassName","ManualActivityCompletedMessage","ManualActivityFailedMessage","lib","add","handleMessages","pathname","ajaxOptions","thrownError","DataConflict","DataConflictError","DataConflictDescription","icon","jsonRsp","log","errorMsg","ReconnectRequired","exception","ExtAlertDialog","RequestFailed","console","ErrorDescription","processData","async","pageDataSource","DataSource","serverFiltering","serverSorting","transport","read","ClassTypeId","userId","isScoped","Security","IsWorkItemScoped","showInActives","cache","requestEnd","updatePageDetails","pageCount","idx","pageString","statusInProgress","reviewDetails","fullDetails","review","nextClick","navigate","previousClick","dSource","nextItem","approvalUrl","onChangeSupportGroup","MASupportGroupField","SupportGroupFieldValue","currentPage","toatPage","pageText","disablePrevious","disableNext","workItemId","statusName","isParent","IsParent","disabledButtons","reviewResult","reviewId","SupportGroupVisible","SupportGroupEnumId","MASupportGroupGuid","disabledMAButtons","relationships","slo","spacer","approval","headerTemplate","rows","row","rowElm","columns","column","colElm","Class","_obj","Exception","appendTo","Visible","dtpl","mtpl","cid","properties","Disabled","disabled","extend","ObjectPickerPopup","classId","columnNames","gridUrl","dataSourceFilter","isConfigItem","popup","_vm","controllerUrl","filter","objects","bindEvents","onSaveClick","selectedRows","grid2","itm","closePopup","onCancelClick","openPopup","clearSearchText","gridFunctions","clear","kendoWindow","createPopup","Popup","grid","searchText","outObjs","ObservableArray","addObject","selected","max","grid2Funcs","addItem","removeObject","removeRow","page","gridFuncs","searchFilter","comboFuncs","getIdValue","onChange","onDataBound","totalPages","pager","items","ii","iitem","dblClick","a","uid","push","item1","combo","createKendoWindow","SelectObject","activate","createCombo","kendoComboBox","prefix","schema","errors","dataTextField","autoBind","dataValueField","createGrid","gc","kendoGrid","pageSize","total","hidden","field","filterable","encoded","attributes","class","Path","userColumns","FirstName","LastName","UserName","Domain","Company","sortable","mode","operators","string","startswith","Startswith","contains","Contains","Isequalto","neq","Isnotequalto","columnMenu","pageable","createGrid2","Data","Total","nd","nodeName","templateFrag","objectPickerPopup","cur_table","HasRelatedWorkItems","boundArray","affectedItemController","addConfigItem","selectedConfigItemId","addAffectedItem","searchConfigItem","popupWindow","object","selectedConfigItem","configItemDataSource","filters","onConfigItemChange","sender","selectedIndex","isUserCIVisible","RequestedWorkItem","selectedUserConfigItemId","selectedUserConfigItem","addUserConfigItem","userConfigItemDataSource","affectedUserId","onUserConfigItemChange","showMoreInfo","detailsPopupEle","detailsPopup","baseId","displayName","refresh","center","onDataBinding","table","AssetStatus","Hidden","isWindowsComputer","isConfigItemWindowsComputer","objectId","result","isUser","isConfigItemUser","IsUser","isMoreInfo","isSlideOut","bIsUser","bIsWindowsComputer","hasControlCenterURL","TrueControlCenterURL","showTCCInfo","tooltip","ComputerManagement","slideOutNav","getTCCSourceURL","UserManagement","onContextmenuSelect","target","onContextmenuActivate","managementTitle","menuItems","imageUrl","imageAttr","custom","AdditionalDetails","setOptions","originalFilter","apply","arguments","dsFilters","innerFilters","x","uniq","affectedtemController","isDuplicate","idToAdd","n","getJSON","json","RelatesToConfigItem","relatedItemController","isEnabled","Control","boundObj","bindButtonEvents","addClick","gridEle","LastModified","command","Remove","scrollable","extra","messages","info","Showitemswithvaluethat","and","And","or","Or","Filter","Clear","reorderable","ChooseColumns","sortAscending","SortAscending","sortDescending","SortDescending","editable","confirmDelete","cancelDelete","create","update","toolbar","currentTarget","hasClass","selectedItem","strClass","className","PropertyName","ClassId","PropertyToDisplay","ControllerUrl","IsMobileView","showProp","parents","buildSubProperties","propToFill","prop","propSplit","mainProp","subProp","_boundArray","ProjectionId","colNames","splitedProp","propperty","post","projectionId","propIndex","shift","ShowAddButton","isDisabled","hideRemoveButton","ShowRemoveButton","columnFields","buildColumnFields","columnToDisplay","buildGridColumns","fields","dataBinding","formatPropertyInBoundArray","ClassProperties","Scoped","scopeBoundArray","SelectableRow","openObject","showRemovButton","propertyKey","localizationKey","localizedText","columnClass","SelectProperty","dateFormat","culture","calendar","patterns","g","format","currentItemEvent","columnString","currentItem","property","isBoolean","isNumber","scopeClassId","timeout","objectIds","_data","tbody","stringProp","parse","HiddenProperty","concat","DashboardsLicense","IsValid","enableWatchlist","Analyst","operator","historyTemplate","buildAndRender","builtHistory","historyElm","kendoDropDownList","event","historyController","getObjectHistory","dataSourceSet","setDataSource","getDropDownDataSource","storage","setWithNoDirty","variable","isDirtyState","loadHistory","dropDownDataSet","getChildren","Activity","Key","activity","objectGUID","objectTitle","customhistoryModel","nodes","noop","LastUpdatedDisplay","billableTimeController","btHour","btMinute","btTotalTime","btTotalTimeInString","onHourSpin","onMinuteSpin","BillableTime","BasedId","LastUpdated","onAddClick","hour","minute","isExisting","newBillableModel","TimeInMinutes","newGUID","Image","iconPath","icons","EnteredDate","EnteredBy","Description","computeTotalTime","resetTime","onSubtractClick","totalTime","SubtractTimeTitle","SubtractTimeMessage","itemTotalTime","Totaltime","isVisible","popupTpl","popupView","knowledgeArticleModel","modalViewModel","ArticleId","Category","Type","selectedItems","logic","first","articleIds","pluck","last","query","pop","relatedHTMLKB","KnowledgeArticleID","WorkItemID","WorkItemId","AssetID","AssetId","bindRowClick","getAllRelatedWorkItems","addUrlParam","ArticleID","CategoryName","TypeName","errorThrown","removeRelatedKB","removeHTMLKB","then","Required","AcceptExtension","Clas","isDesktop","onSelect","files","extension","FileExtensionInvalid","preventDefault","onUploadSuccess","operation","rawFile","onUploadError","parseJSON","warn","onRemove","fieldName","css","blob","Blob","URL","createObjectURL","navigator","msSaveOrOpenBlob","msSaveBlob","style","download","revokeObjectURL","removeChild","defer","kendoUpload","removeUrl","autoUpload","showFileList","dropZone","stringController","CheckLength","elem","helpBlock","next","maxChars","removeAttr","buildStringView","limitLength","MinLength","MaxLength","LimitLength","longStringController","buildLongStringView","Rows","visible","IsVisible","Inline","HideLabel","DecimalPlaces","MinValue","MaxValue","StepIncrement","Format","number","FromFilter","ToFilter","FromRelative","ToRelative","EnumId","LeafNodeOnly","ShowPath","FilterIds","__userPickerPopupSingleton","NameIdModel","nameProp","idProp","serverNameProp","serverIdProp","setObj","setFromObj","getFromObj","getObj","getGenericFromObj","UserPickerPopup","groupsOnly","gridHtml","_model","onSearchClick","searchValue","selectedUser","userObj","selectedRow","kendoDataSource","Grid","SelectGroup","SelectUser","settings","onRowDblClick","createKendoDataSource","userFilter","filterByAnalyst","serverPaging","serverGrouping","PrincipalName","EmployeeId","createKendoGrid","SearchText","selectUserText","searchOnEnter","which","userDataSource","onListViewChanged","userPickerPopup","ExtraProps","Delay","FilterByAnalyst","MaxNumberOfResults","extraProps","delay","minLength","maxNumberOfResults","propName","forceKendoProp","helperBlock","autoComplete","refreshDisplayValues","onAutoCompleteValueChanged","onSearchIconClick","isModelSet","isModelSetNulled","hasExtraProps","createHelperBlock","HelperBlock","props","createAutocomplete","AutoComplete","detailsUrl","setDisplay","setValue","extraPropText","setExtraPropsDisplay","createHtml","data-bind","createViewModel","getUserObjectData","getDisplayName","str","isObject","searchBtn","detailsBtn","placeHolderText","SearchButton","focusedItemIndex","hasTCCURL","validateAutoCompleteValue","getDataSourceMatch","ul","is","getFocusedIndex","children","onDetailsBtnClick","stopPropagation","openSlideout","createSearchButton","data-control-action","iconColor","insertAfter","createDetailsButton","insertBefore","createTCCDetailsButton","kendoMenu","openOnClick","createKendoAutoComplete","kendoAutoComplete","suggest","placeholder","valuePrimitive","enable","clearButton","createDetailsPopup","blurred","text-decoration","background-color","ds","focused","__objectPickerPopupSingleton","groupFilter","ObjectClassId","ObjectClassName","Hosted","selectObjectText","okText","OK","cancelText","getIndexZero","SearchPlaceholder","preventClosing","scrollTop","ButtonType","ButtonSize","Options","defaultTools","mobileTools","kendoEditor","tools","stylesheets","staticFileVersion","editor","Height","PropertyDisplayName","IsCascading","Cascade","ControlObject","gridViewModel","bundleData","cont","createOrEditSoftwareBundle","okClick","dataList","products","tempSoftwarePattern","tempExclusionPattern","tempVersionPattern","SoftwarePatternName","SoftwarePattern","ExclusionPattern","VersionPattern","SoftwarePatternTxt","ExclusionPatternTxt","VersionPatternTxt","enableDisableTextbox","cancelClick","txt","isEnable","onClick","softwarePatternList","Array","exclusionPatternList","versionPatternList","IsBundle","softwarePattern","onSave","validation","SoftwarePatternNamevalidation","EnterRequiredFields","SoftwarePatternvalidation","batch","complete","streamId","bufferedMode","streamLength","img","buildURLTextbox","regexp","RegExp","txtBox","link","validateUrl","isOk","test","textChange","openURL","formPanel","formPanelFull","customFieldGroup","customFieldGroupRow","columnField","tab","tabPane","tabNavigation","tabData","actionLog","fileAttachments","affectedItems","relatedItems","childWorkItems","userInput","activities","multipleObjectPicker","history","billableTime","knowledgeArticle","fileAttachmentsDragDrop","LongString","Boolean","Display","Spacer","Numeric","Int32","Decimal","Double","DateTime","Enum","UserPicker","ObjectPicker","Button","Editor","Combo","DropDownList","Bundle","FileUpload","UrlTextbox","Percentage","mainContainer","jsonTemplate","formTemplate","layoutType","tplString","readTemplate","jsonDecision","mutationLogic","all","propValue","tabList","nodeCount","tabtplString","tabnavCont","focusSet","tabNode","focusedTab","getParameterByName","tabNodeNameKey","tabId","active","customFieldGroupList","columnFieldList","setColumnSizes","getContainer","tplReturn","chooseNextAction","objectName","columnCount","DataType","propContainer","list","pane","_container","manageDirty","onbeforeunload","UnsavedDataMessage","mobileDrawerTaskButton","taskContainer","mobileTaskShow","drawermenu","addButton","Tasks","makeDrawer","resize","waitSeconds","urlArgs","baseUrl","paths","shim","mask","ajaxStop","headerBuilder","formBuilder","formHelper","headerContainer","empty","formContainer","dataVM","ColSpan","hasAsset","controls","localize","createButtons","events","subscribe","saveFailure","exceptionMessage","RequiredFieldsErrorMessage","PleaseCorrectErrors","clearAllLocalStorage","sessionTimeout","hideWarningPopup","store","Apply","refreshButtons","animate","ExtOkCancelDialog","Warning","IsNew","failure","blur","valid","jqEle"],"mappings":"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","file":"profileMain-built.min.js","sourcesContent":["/**\r\n * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\r\n * Available via the MIT or new BSD license.\r\n * see: http://github.com/requirejs/text for details\r\n */\r\n/*jslint regexp: true */\r\n/*global require, XMLHttpRequest, ActiveXObject,\r\n  define, window, process, Packages,\r\n  java, location, Components, FileUtils */\r\n\r\ndefine('text',['module'], function (module) {\r\n    'use strict';\r\n\r\n    var text, fs, Cc, Ci, xpcIsWindows,\r\n        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],\r\n        xmlRegExp = /^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,\r\n        bodyRegExp = /<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,\r\n        hasLocation = typeof location !== 'undefined' && location.href,\r\n        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\\:/, ''),\r\n        defaultHostName = hasLocation && location.hostname,\r\n        defaultPort = hasLocation && (location.port || undefined),\r\n        buildMap = {},\r\n        masterConfig = (module.config && module.config()) || {};\r\n\r\n    text = {\r\n        version: '2.0.10',\r\n\r\n        strip: function (content) {\r\n            //Strips <?xml ...?> declarations so that external SVG and XML\r\n            //documents can be added to a document without worry. Also, if the string\r\n            //is an HTML document, only the part inside the body tag is returned.\r\n            if (content) {\r\n                content = content.replace(xmlRegExp, \"\");\r\n                var matches = content.match(bodyRegExp);\r\n                if (matches) {\r\n                    content = matches[1];\r\n                }\r\n            } else {\r\n                content = \"\";\r\n            }\r\n            return content;\r\n        },\r\n\r\n        jsEscape: function (content) {\r\n            return content.replace(/(['\\\\])/g, '\\\\$1')\r\n                .replace(/[\\f]/g, \"\\\\f\")\r\n                .replace(/[\\b]/g, \"\\\\b\")\r\n                .replace(/[\\n]/g, \"\\\\n\")\r\n                .replace(/[\\t]/g, \"\\\\t\")\r\n                .replace(/[\\r]/g, \"\\\\r\")\r\n                .replace(/[\\u2028]/g, \"\\\\u2028\")\r\n                .replace(/[\\u2029]/g, \"\\\\u2029\");\r\n        },\r\n\r\n        createXhr: masterConfig.createXhr || function () {\r\n            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.\r\n            var xhr, i, progId;\r\n            if (typeof XMLHttpRequest !== \"undefined\") {\r\n                return new XMLHttpRequest();\r\n            } else if (typeof ActiveXObject !== \"undefined\") {\r\n                for (i = 0; i < 3; i += 1) {\r\n                    progId = progIds[i];\r\n                    try {\r\n                        xhr = new ActiveXObject(progId);\r\n                    } catch (e) { }\r\n\r\n                    if (xhr) {\r\n                        progIds = [progId];  // so faster next time\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return xhr;\r\n        },\r\n\r\n        /**\r\n         * Parses a resource name into its component parts. Resource names\r\n         * look like: module/name.ext!strip, where the !strip part is\r\n         * optional.\r\n         * @param {String} name the resource name\r\n         * @returns {Object} with properties \"moduleName\", \"ext\" and \"strip\"\r\n         * where strip is a boolean.\r\n         */\r\n        parseName: function (name) {\r\n            var modName, ext, temp,\r\n                strip = false,\r\n                index = name.indexOf(\".\"),\r\n                isRelative = name.indexOf('./') === 0 ||\r\n                             name.indexOf('../') === 0;\r\n\r\n            if (index !== -1 && (!isRelative || index > 1)) {\r\n                modName = name.substring(0, index);\r\n                ext = name.substring(index + 1, name.length);\r\n            } else {\r\n                modName = name;\r\n            }\r\n\r\n            temp = ext || modName;\r\n            index = temp.indexOf(\"!\");\r\n            if (index !== -1) {\r\n                //Pull off the strip arg.\r\n                strip = temp.substring(index + 1) === \"strip\";\r\n                temp = temp.substring(0, index);\r\n                if (ext) {\r\n                    ext = temp;\r\n                } else {\r\n                    modName = temp;\r\n                }\r\n            }\r\n\r\n            return {\r\n                moduleName: modName,\r\n                ext: ext,\r\n                strip: strip\r\n            };\r\n        },\r\n\r\n        xdRegExp: /^((\\w+)\\:)?\\/\\/([^\\/\\\\]+)/,\r\n\r\n        /**\r\n         * Is an URL on another domain. Only works for browser use, returns\r\n         * false in non-browser environments. Only used to know if an\r\n         * optimized .js version of a text resource should be loaded\r\n         * instead.\r\n         * @param {String} url\r\n         * @returns Boolean\r\n         */\r\n        useXhr: function (url, protocol, hostname, port) {\r\n            var uProtocol, uHostName, uPort,\r\n                match = text.xdRegExp.exec(url);\r\n            if (!match) {\r\n                return true;\r\n            }\r\n            uProtocol = match[2];\r\n            uHostName = match[3];\r\n\r\n            uHostName = uHostName.split(':');\r\n            uPort = uHostName[1];\r\n            uHostName = uHostName[0];\r\n\r\n            return (!uProtocol || uProtocol === protocol) &&\r\n                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&\r\n                   ((!uPort && !uHostName) || uPort === port);\r\n        },\r\n\r\n        finishLoad: function (name, strip, content, onLoad) {\r\n            content = strip ? text.strip(content) : content;\r\n            if (masterConfig.isBuild) {\r\n                buildMap[name] = content;\r\n            }\r\n            onLoad(content);\r\n        },\r\n\r\n        load: function (name, req, onLoad, config) {\r\n            //Name has format: some.module.filext!strip\r\n            //The strip part is optional.\r\n            //if strip is present, then that means only get the string contents\r\n            //inside a body tag in an HTML string. For XML/SVG content it means\r\n            //removing the <?xml ...?> declarations so the content can be inserted\r\n            //into the current doc without problems.\r\n\r\n            // Do not bother with the work if a build and text will\r\n            // not be inlined.\r\n            if (config.isBuild && !config.inlineText) {\r\n                onLoad();\r\n                return;\r\n            }\r\n\r\n            masterConfig.isBuild = config.isBuild;\r\n\r\n            var parsed = text.parseName(name),\r\n                nonStripName = parsed.moduleName +\r\n                    (parsed.ext ? '.' + parsed.ext : ''),\r\n                url = req.toUrl(nonStripName),\r\n                useXhr = (masterConfig.useXhr) ||\r\n                         text.useXhr;\r\n\r\n            // Do not load if it is an empty: url\r\n            if (url.indexOf('empty:') === 0) {\r\n                onLoad();\r\n                return;\r\n            }\r\n\r\n            //Load the text. Use XHR if possible and in a browser.\r\n            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {\r\n                text.get(url, function (content) {\r\n                    text.finishLoad(name, parsed.strip, content, onLoad);\r\n                }, function (err) {\r\n                    if (onLoad.error) {\r\n                        onLoad.error(err);\r\n                    }\r\n                });\r\n            } else {\r\n                //Need to fetch the resource across domains. Assume\r\n                //the resource has been optimized into a JS module. Fetch\r\n                //by the module name + extension, but do not include the\r\n                //!strip part to avoid file system issues.\r\n                req([nonStripName], function (content) {\r\n                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,\r\n                                    parsed.strip, content, onLoad);\r\n                });\r\n            }\r\n        },\r\n\r\n        write: function (pluginName, moduleName, write, config) {\r\n            if (buildMap.hasOwnProperty(moduleName)) {\r\n                var content = text.jsEscape(buildMap[moduleName]);\r\n                write.asModule(pluginName + \"!\" + moduleName,\r\n                               \"define(function () { return '\" +\r\n                                   content +\r\n                               \"';});\\n\");\r\n            }\r\n        },\r\n\r\n        writeFile: function (pluginName, moduleName, req, write, config) {\r\n            var parsed = text.parseName(moduleName),\r\n                extPart = parsed.ext ? '.' + parsed.ext : '',\r\n                nonStripName = parsed.moduleName + extPart,\r\n                //Use a '.js' file name so that it indicates it is a\r\n                //script that can be loaded across domains.\r\n                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';\r\n\r\n            //Leverage own load() method to load plugin value, but only\r\n            //write out values that do not have the strip argument,\r\n            //to avoid any potential issues with ! in file names.\r\n            text.load(nonStripName, req, function (value) {\r\n                //Use own write() method to construct full module value.\r\n                //But need to create shell that translates writeFile's\r\n                //write() to the right interface.\r\n                var textWrite = function (contents) {\r\n                    return write(fileName, contents);\r\n                };\r\n                textWrite.asModule = function (moduleName, contents) {\r\n                    return write.asModule(moduleName, fileName, contents);\r\n                };\r\n\r\n                text.write(pluginName, nonStripName, textWrite, config);\r\n            }, config);\r\n        }\r\n    };\r\n\r\n    if (masterConfig.env === 'node' || (!masterConfig.env &&\r\n            typeof process !== \"undefined\" &&\r\n            process.versions &&\r\n            !!process.versions.node &&\r\n            !process.versions['node-webkit'])) {\r\n        //Using special require.nodeRequire, something added by r.js.\r\n        fs = require.nodeRequire('fs');\r\n\r\n        text.get = function (url, callback, errback) {\r\n            try {\r\n                var file = fs.readFileSync(url, 'utf8');\r\n                //Remove BOM (Byte Mark Order) from utf8 files if it is there.\r\n                if (file.indexOf('\\uFEFF') === 0) {\r\n                    file = file.substring(1);\r\n                }\r\n                callback(file);\r\n            } catch (e) {\r\n                errback(e);\r\n            }\r\n        };\r\n    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&\r\n            text.createXhr())) {\r\n        text.get = function (url, callback, errback, headers) {\r\n            var xhr = text.createXhr(), header;\r\n            xhr.open('GET', url, true);\r\n\r\n            //Allow plugins direct access to xhr headers\r\n            if (headers) {\r\n                for (header in headers) {\r\n                    if (headers.hasOwnProperty(header)) {\r\n                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            //Allow overrides specified in config\r\n            if (masterConfig.onXhr) {\r\n                masterConfig.onXhr(xhr, url);\r\n            }\r\n\r\n            xhr.onreadystatechange = function (evt) {\r\n                var status, err;\r\n                //Do not explicitly handle errors, those should be\r\n                //visible via console output in the browser.\r\n                if (xhr.readyState === 4) {\r\n                    status = xhr.status;\r\n                    if (status > 399 && status < 600) {\r\n                        //An http 4xx or 5xx error. Signal an error.\r\n                        err = new Error(url + ' HTTP status: ' + status);\r\n                        err.xhr = xhr;\r\n                        errback(err);\r\n                    } else {\r\n                        callback(xhr.responseText);\r\n                    }\r\n\r\n                    if (masterConfig.onXhrComplete) {\r\n                        masterConfig.onXhrComplete(xhr, url);\r\n                    }\r\n                }\r\n            };\r\n            xhr.send(null);\r\n        };\r\n    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&\r\n            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\r\n        //Why Java, why is this so awkward?\r\n        text.get = function (url, callback) {\r\n            var stringBuffer, line,\r\n                encoding = \"utf-8\",\r\n                file = new java.io.File(url),\r\n                lineSeparator = java.lang.System.getProperty(\"line.separator\"),\r\n                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),\r\n                content = '';\r\n            try {\r\n                stringBuffer = new java.lang.StringBuffer();\r\n                line = input.readLine();\r\n\r\n                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324\r\n                // http://www.unicode.org/faq/utf_bom.html\r\n\r\n                // Note that when we use utf-8, the BOM should appear as \"EF BB BF\", but it doesn't due to this bug in the JDK:\r\n                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\r\n                if (line && line.length() && line.charAt(0) === 0xfeff) {\r\n                    // Eat the BOM, since we've already found the encoding on this file,\r\n                    // and we plan to concatenating this buffer with others; the BOM should\r\n                    // only appear at the top of a file.\r\n                    line = line.substring(1);\r\n                }\r\n\r\n                if (line !== null) {\r\n                    stringBuffer.append(line);\r\n                }\r\n\r\n                while ((line = input.readLine()) !== null) {\r\n                    stringBuffer.append(lineSeparator);\r\n                    stringBuffer.append(line);\r\n                }\r\n                //Make sure we return a JavaScript string and not a Java string.\r\n                content = String(stringBuffer.toString()); //String\r\n            } finally {\r\n                input.close();\r\n            }\r\n            callback(content);\r\n        };\r\n    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&\r\n            typeof Components !== 'undefined' && Components.classes &&\r\n            Components.interfaces)) {\r\n        //Avert your gaze!\r\n        Cc = Components.classes,\r\n        Ci = Components.interfaces;\r\n        Components.utils['import']('resource://gre/modules/FileUtils.jsm');\r\n        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);\r\n\r\n        text.get = function (url, callback) {\r\n            var inStream, convertStream, fileObj,\r\n                readData = {};\r\n\r\n            if (xpcIsWindows) {\r\n                url = url.replace(/\\//g, '\\\\');\r\n            }\r\n\r\n            fileObj = new FileUtils.File(url);\r\n\r\n            //XPCOM, you so crazy\r\n            try {\r\n                inStream = Cc['@mozilla.org/network/file-input-stream;1']\r\n                           .createInstance(Ci.nsIFileInputStream);\r\n                inStream.init(fileObj, 1, 0, false);\r\n\r\n                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']\r\n                                .createInstance(Ci.nsIConverterInputStream);\r\n                convertStream.init(inStream, \"utf-8\", inStream.available(),\r\n                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);\r\n\r\n                convertStream.readString(inStream.available(), readData);\r\n                convertStream.close();\r\n                inStream.close();\r\n                callback(readData.value);\r\n            } catch (e) {\r\n                throw new Error((fileObj && fileObj.path || '') + ': ' + e);\r\n            }\r\n        };\r\n    }\r\n    return text;\r\n});\n","\ndefine('text!forms/header/status/view.html',[],function () { return '<h1 class=\"page_title\">\\r\\n    <span data-bind=\"text: view.title\"></span><span>-</span><span class=\"uppercase\" data-bind=\"text: view.id\"></span>\\r\\n    <span class=\"cursor-pointer\" id=\"viewAttachments\" data-bind=\"click: view.viewAttachments, visible: view.filesCount > 0\"><i class=\"fa fa-paperclip text-primary\" style=\"font-size: inherit\"></i></span>\\r\\n    <span class=\"label label-info label-heading\" id=\"statusname\" data-bind=\"visible: view.statusVisible, text: viewModel.Status.Name\"></span>\\r\\n    <span class=\"label label-heading\" data-bind=\"visible: viewModel.IsParent\"><img src=\"/Content/Images/Icons/WorkItemsStatus/workitem-parent-icon.svg\"></span>\\r\\n</h2>\\r\\n\\r\\n\\r\\n';});\n\n","\ndefine('text!forms/flyout/fileAttachmentsFlyout/mobile_view.html',[],function () { return '<div class=\"cireson-window defined-form task-window hide\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div>\\r\\n                <div class=\"fileattachment-list\"></div>\\r\\n                <div class=\"fileattachment-img-modal\"></div>\\r\\n            </div>\\r\\n\\r\\n            <script type=\"text/x-kendo-template\" id=\"filesTemplate\">\\r\\n                <div class=\"thumbnail-file\">\\r\\n                    <div class=\"cursor-pointer thumbnail-img\">\\r\\n                        # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                        <img src=\"data:image/png;base64,#= Content.data #\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\';\" alt=\"#: DisplayName # image\" />\\r\\n                        # } else{ #\\r\\n                        <img class=\"default-icon\" src=\"/Content/Images/Icons/FileUpload/document.svg\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\'\">\\r\\n                        # } #\\r\\n                    </div>\\r\\n                    <div class=\"thumbnail-caption\">\\r\\n                        <span>#: DisplayName #</span>\\r\\n                        <div class=\"overlay\">\\r\\n                            # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                            <span class=\"label\">\\r\\n                                <a class=\"icon custom-click\" title=\"View Image\" action=\"view\">\\r\\n                                    <i class=\"fa fa-eye\"></i>\\r\\n                                </a>\\r\\n                            </span>\\r\\n                            <span class=\"label\">\\r\\n                                <a class=\"icon custom-click\" title=\"Open in New Tab\" action=\"opennewtab\">\\r\\n                                    <i class=\"fa fa-external-link\"></i>\\r\\n                                </a>\\r\\n                            </span>\\r\\n                            # } #\\r\\n                            <span class=\"label\">\\r\\n                                <a class=\"icon custom-click\" title=\"Download\" action=\"download\">\\r\\n                                    <i class=\"fa fa-download\"></i>\\r\\n                                </a>\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </script>\\r\\n            <script>\\r\\n                function selectFile(el, action) {\\r\\n                    //var listView = $(\".fileattachment-list\").data(\"kendoListView\");\\r\\n                    //var item = $(el).closest(\"[role=\\'option\\']\");\\r\\n                    //var dataItem = listView.dataSource.getByUid(item.data(\"uid\"));\\r\\n\\r\\n                    //if (action === \"download\") {\\r\\n                    //    var downloadUrl = app.config.rootURL + \"FileAttachment/ViewFile/\";\\r\\n                    //    location.href = downloadUrl + dataItem.BaseId;\\r\\n                    //} else if (action === \"opennewtab\") {\\r\\n                    //    var win = window.open(\\'about:blank\\');\\r\\n                    //    setTimeout(function () { //FireFox seems to require a setTimeout for this to work.\\r\\n                    //        win.document.body.appendChild(win.document.createElement(\\'img\\')).src = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\\r\\n                    //        win.href = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\\r\\n                    //        win.focus();\\r\\n                    //    }, 0);\\r\\n\\r\\n\\r\\n                    //} else {\\r\\n                    //    var dialog = $(\\'.fileattachment-img-modal\\');\\r\\n                    //    dialog.kendoDialog({\\r\\n                    //        modal: true,\\r\\n                    //        title: dataItem.DisplayName,\\r\\n                    //        content: \"<div class=\\'file-img-container\\'><img src=\\\\\"data:image/png;base64,\" + dataItem.Content.data + \"\\\\\" onerror=\\\\\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\';\\\\\" alt=\\\\\"\" + dataItem.DisplayName + \"\\\\\" /></div>\",\\r\\n                    //        animation: {\\r\\n                    //            open: {\\r\\n                    //                effects: \"fade:in\"\\r\\n                    //            }\\r\\n                    //        }\\r\\n                    //    });\\r\\n                    //    $(\\'.k-window.k-widget\\').addClass(\\'acivity-popup-window\\');\\r\\n                    //    dialog.data(\"kendoDialog\").open();\\r\\n                    //}\\r\\n                }\\r\\n\\r\\n            </script>\\r\\n        </div>\\r\\n        <div class=\"window-buttons cireson-window--footer\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }, visible: saveCancelBtn\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }, visible: saveCancelBtn\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel}, visible: closeBtn \">\\r\\n                <%= localization.Close %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","\ndefine('text!forms/flyout/fileAttachmentsFlyout/view.html',[],function () { return '<div tabindex=\"-1\" role=\"dialog\" class=\"modal right fade\">\\r\\n    <div class=\"modal-dialog\">\\r\\n        <div class=\"modal-content\">\\r\\n            <div class=\"modal-header\">\\r\\n                <h4 class=\"modal-title\"><%= localization.FileAttachments %></h4>\\r\\n            </div>\\r\\n            <div class=\"modal-body\">\\r\\n                <div>\\r\\n                    <div class=\"fileattachment-list\"></div>\\r\\n                    <div class=\"fileattachment-img-modal\"></div>\\r\\n                </div>\\r\\n\\r\\n                <script type=\"text/x-kendo-template\" id=\"filesTemplate\">\\r\\n                    <div class=\"thumbnail-file\">\\r\\n                        <div class=\"cursor-pointer thumbnail-img\">\\r\\n                            # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                            <img src=\"data:image/png;base64,#= Content.data #\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\';\" alt=\"#: DisplayName # image\" />\\r\\n                            # } else{ #\\r\\n                            <img class=\"default-icon\" src=\"/Content/Images/Icons/FileUpload/document.svg\" action=\"download\" onerror=\"    this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\'\">\\r\\n                            # } #\\r\\n                        </div>\\r\\n                        <div class=\"thumbnail-caption\">\\r\\n                            <span>#: DisplayName #</span>\\r\\n                            <div class=\"overlay\">\\r\\n                                # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                                <span class=\"label\">\\r\\n                                    <a class=\"icon custom-click\" view-image action=\"view\" title=\"View Image\">\\r\\n                                        <i class=\"fa fa-eye\"></i>\\r\\n                                    </a>\\r\\n                                </span>\\r\\n                                <span class=\"label\">\\r\\n                                    <a class=\"icon custom-click\" title=\"Open in New Tab\" action=\"opennewtab\">\\r\\n                                        <i class=\"fa fa-external-link\"></i>\\r\\n                                    </a>\\r\\n                                </span>\\r\\n                                # } #\\r\\n                                # if (BaseId!=null) { #\\r\\n                                <span class=\"label\">\\r\\n                                    <a class=\"icon custom-click\" title=\"Download\" action=\"download\">\\r\\n                                        <i class=\"fa fa-download\"></i>\\r\\n                                    </a>\\r\\n                                </span>\\r\\n                                # } #\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </script>\\r\\n                \\r\\n            </div>\\r\\n            <div class=\"modal-footer\">\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-primary\"\\r\\n                        data-bind=\"events: { click: save }, visible: saveCancelBtn\">\\r\\n                    <%= localization.OK %>\\r\\n                </button>\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-default\"\\r\\n                        data-bind=\"events: { click: cancel }, visible: saveCancelBtn\">\\r\\n                    <%= localization.Cancel %>\\r\\n                </button>\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-default\"\\r\\n                        data-bind=\"events: { click: cancel}, visible: closeBtn \">\\r\\n                    <%= localization.Close %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n\\r\\n</div>';});\n\n","/**\r\nfileAttachmentsFlyout\r\n**/\r\n\r\nvar __fileAttachmentsPopupSingleton;\r\n\r\ndefine('forms/flyout/fileAttachmentsFlyout/controller',['require','text!forms/flyout/fileAttachmentsFlyout/mobile_view.html','text!forms/flyout/fileAttachmentsFlyout/view.html'],function (require) {\r\n    var tpl = app.isMobile() ? require(\"text!forms/flyout/fileAttachmentsFlyout/mobile_view.html\") : require(\"text!forms/flyout/fileAttachmentsFlyout/view.html\");\r\n    var singletonName = \"fileAttachmentsFlyout\"; // used to call for singleton\r\n    var definition = {\r\n        template: tpl,\r\n        getPopup: function (vm, task) {\r\n            //only build the template if the popup singleton does not exist.\r\n            var built = _.template(tpl);\r\n            var ele = $(built());\r\n\r\n            $(\"body\").append(ele);\r\n            __fileAttachmentsPopupSingleton = new FileAttachmentsPopup(vm, ele, task);\r\n\r\n            return __fileAttachmentsPopupSingleton;\r\n        }\r\n    }\r\n\r\n    // CONTROL\r\n    var FileAttachmentsPopup = function (vm, targetEle, task) {\r\n        var self = this;\r\n        var html = targetEle;\r\n\r\n        var _vmWindow, win;\r\n\r\n        // getter/setters        \r\n        this.setSaveCallback = function (callback) {\r\n            $(self).unbind(\"save\")\r\n                .bind(\"save\", function (e, obj) { callback(obj); });\r\n        }\r\n        this.setCancelCallback = function (callback) {\r\n            $(self).unbind(\"cancel\")\r\n                .bind(\"cancel\", function (e, obj) { callback(obj); });\r\n        }\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n\r\n            if (app.isMobile()) {\r\n                win = html.kendoCiresonWindow({\r\n                    title: localization.FileAttachments,\r\n                    width: 650,\r\n                    height: 740,\r\n                    actions: []\r\n                }).data(\"kendoWindow\");\r\n            }\r\n\r\n            _vmWindow = kendo.observable({\r\n                save: function() {\r\n                    $(self).trigger(\"save\", { selectedFiles: _vmWindow.selectedFiles });\r\n                    _vmWindow.closeModal();\r\n                },\r\n                cancel: function() {\r\n                    $(self).trigger(\"cancel\");\r\n                    _vmWindow.closeModal();\r\n                },\r\n                isDesktopView: !app.isMobileDevice(),\r\n                isMobileView: app.isMobileDevice(),\r\n                selectedFiles: [],\r\n                onOpenFile: function(e) {\r\n                    var data = this.dataSource.view();\r\n\r\n                    _vmWindow.selectedFiles = $.map(this.select(),\r\n                        function(item) {\r\n                            return data[$(item).index()];\r\n                        });\r\n                },\r\n                saveCancelBtn: (task),\r\n                closeBtn: (!task),\r\n                openModal: function () {\r\n                    if (!app.isMobile())\r\n                        html.modal('show');\r\n                    else {\r\n                        html.removeClass('hide');\r\n                        html.show();\r\n                        win.open();\r\n                    }\r\n                },\r\n                closeModal: function() {\r\n                    if (app.isMobile())\r\n                        win.close();\r\n                    else\r\n                        html.modal('hide');\r\n                },\r\n                selectFile: function(el, isImage) {\r\n                    var listView = html.find(\".fileattachment-list\").data(\"kendoListView\");\r\n                    var item = el.closest(\"[role='option']\");\r\n                    var dataItem = listView.dataSource.getByUid(item.data(\"uid\"));\r\n\r\n                    if (isImage && task == \"sendEmail\") return;\r\n\r\n                    action = el.attr(\"action\");\r\n                    if (action === \"download\") {\r\n                        var downloadUrl = app.config.rootURL + \"FileAttachment/ViewFile/\";\r\n                        location.href = downloadUrl + dataItem.BaseId;\r\n                    } else if (action === \"opennewtab\") {\r\n                        var win = window.open('about:blank');\r\n                        setTimeout(function () { //FireFox seems to require a setTimeout for this to work.\r\n                            win.document.body.appendChild(win.document.createElement('img')).src = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\r\n                            win.href = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\r\n                            win.focus();\r\n                        }, 0);\r\n                        \r\n                        \r\n                    } else {\r\n                        var dialog = $('.fileattachment-img-modal');\r\n\r\n                        if (dialog.length > 1) {\r\n                            for (var i = 1; i < dialog.length; i++) {\r\n                                if ($(dialog[i]).data(\"kendoDialog\"))\r\n                                    $(dialog[i]).data(\"kendoDialog\").destroy();\r\n                                dialog.eq(i).remove();\r\n                            }\r\n                        }\r\n\r\n                        if (dataItem) {\r\n\r\n                            var dialogs = $('.acivity-popup-window');\r\n                            if (dialogs.length > 1) {\r\n                                for (var i = 1; i < dialogs.length; i++) {\r\n                                    dialogs.eq(i).remove();\r\n                                }\r\n                            }\r\n\r\n                            dialog.kendoDialog({\r\n                                modal: true,\r\n                                title: dataItem.DisplayName,\r\n                                content: \"<div class='file-img-container'><img src=\\\"data:image/png;base64,\" +\r\n                                    dataItem.Content.data +\r\n                                    \"\\\" onerror=\\\"this.onerror = null; this.src = '/Content/Images/Icons/FileUpload/document.svg';\\\" alt=\\\"\" +\r\n                                    dataItem.DisplayName +\r\n                                    \"\\\" /></div>\",\r\n                                animation: {\r\n                                    open: {\r\n                                        effects: \"fade:in\"\r\n                                    }\r\n                                }\r\n                            });\r\n                            $('.k-window.k-widget').addClass('acivity-popup-window');\r\n                            dialog.data(\"kendoDialog\").open();\r\n\r\n                            //close preview window on overlay click\r\n                            $('.k-overlay').on(\"click\", function () {\r\n                                dialog.data(\"kendoDialog\").close();\r\n                            });\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            });\r\n            kendo.bind(html, _vmWindow);\r\n\r\n            if (!app.isMobile()) {\r\n\r\n                html.on('shown.bs.modal',\r\n                    function() {\r\n                        //reposition modal backdrop\r\n                        $('.modal-backdrop').each(function(i, obj) {\r\n                            html.before(obj);\r\n                        });\r\n\r\n                        //remove modal focus so tools with popup would work\r\n                        $(document).off('focusin.modal');\r\n                    });\r\n\r\n                html.on('hidden.bs.modal',\r\n                    function() {\r\n                        $('.modal-backdrop').remove();\r\n                    });\r\n\r\n            }\r\n\r\n            self.open = _vmWindow.openModal;\r\n            self.close = _vmWindow.closeModal;\r\n            self.vm = _vmWindow;\r\n\r\n            html.find(\".fileattachment-list\").kendoListView({\r\n                dataSource: vm.viewModel.FileAttachment,\r\n                template: kendo.template($(\"#filesTemplate\").html()),\r\n                selectable: (task) ? \"multiple\" : \"single\",\r\n                change: _vmWindow.onOpenFile,\r\n                dataBound: function () {\r\n                    //Remove view image icon if from send email.\r\n                    if (task == undefined && task != \"sendEmail\") {\r\n                        html.find(\"a[view-image]\").parent().hide();\r\n                    }\r\n\r\n                    html.find(\".custom-click\").on(\"click\", function () {\r\n                        _vmWindow.selectFile($(this), false);\r\n                    });\r\n\r\n                    if (!app.isMobile()) {\r\n                        html.find(\".thumbnail-img img\").on(\"click\", function () {\r\n                            _vmWindow.selectFile($(this), true);\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        __construct();\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","/**\r\nHeader Status\r\n**/\r\ndefine('forms/header/status/controller',['require','text!forms/header/status/view.html','forms/flyout/fileAttachmentsFlyout/controller'],function (require) {\r\n    var tpl = require(\"text!forms/header/status/view.html\");\r\n    var attachmentPickerFlyout = require(\"forms/flyout/fileAttachmentsFlyout/controller\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            //add FileAttachment on viewModel if not found\r\n            if (_.isUndefined(vm.viewModel.FileAttachment)) {\r\n                vm.viewModel.set(\"FileAttachment\", []);\r\n            }\r\n            \r\n            //modify vm for this view\r\n            vm.view.viewAttachments = function () {\r\n\r\n                var flyoutWindow = attachmentPickerFlyout.getPopup(vm);\r\n                flyoutWindow.open();\r\n            }\r\n\r\n            vm.view.filesCount = vm.viewModel.FileAttachment.length;\r\n\r\n            vm.view.statusVisible = function () {\r\n                if (vm.newWI) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }\r\n            //set page <title>\r\n            document.title = vm.view.title + ' - ' + vm.view.id;\r\n\r\n            var view = new kendo.View(built(), { wrap: false, model: vm });\r\n\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/header/relationships/view.html',[],function () { return '<div class=\"parent-header-link\" >\\r\\n    <label data-bind=\"text: view.controller.parentIncident\"></label> :\\r\\n    <a data-bind=\"attr: { href: view.controller.editHref}, text: view.controller.editLink\" target=\"_blank\"></a>\\r\\n    <span class=\"fa fa-trash-o fa-lg cursor-pointer\" data-bind=\"click: view.controller.unlinkParent\"></span>\\r\\n</div>';});\n\n","/**\r\nHeader Status\r\n**/\r\ndefine('forms/header/relationships/controller',['require','text!forms/header/relationships/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/relationships/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //we need to have a container to add to via task\r\n            var container = $('<div/>').attr(\"id\", \"parent-header-space\");\r\n            var view = new kendo.View(container, { wrapper: false });\r\n           \r\n            //this function is called from the link parent task so we need to allow callback function to be an input\r\n            vm.view.buildParentHeaderView = function (viewCallBack) {\r\n                //build template using underscore.js so that we can interpret kendo template vars if needed\r\n                var built = _.template(tpl);\r\n                \r\n                //modify vm for this view\r\n                vm.view.controller = {\r\n                    parentIncident: (vm.type === \"ReleaseRecord\") ? localization.ParentRecord : localization.Parentincident,\r\n                    editHref: \"/\"+vm.type+\"/Edit/\" + vm.viewModel.ParentWorkItem.Id + \"/\",\r\n                    editLink: vm.viewModel.ParentWorkItem.Id + \"-\" + vm.viewModel.ParentWorkItem.Title,\r\n                    unlinkParent: function () {\r\n                        $.when(kendo.ui.ExtYesNoDialog.show({\r\n                            title: localization.UnlinkToParent,\r\n                            message: localization.SureUnlinkToParent\r\n                        })\r\n                        ).done(function (response) {\r\n                            if (response.button === \"yes\") {\r\n                                delete vm.viewModel.ParentWorkItem;\r\n                                vm.viewModel.set(\"isDirty\", true);\r\n                                view.content.hide();\r\n                            } else {\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n\r\n                viewCallBack(built());\r\n            }\r\n\r\n            if (!_.isNull(vm.viewModel.ParentWorkItem) &&\r\n                !_.isUndefined(vm.viewModel.ParentWorkItem)) {\r\n                vm.view.buildParentHeaderView(function (tpl) {\r\n                    //destroy default container\r\n                    view.destroy();\r\n\r\n                    container.append(tpl);\r\n                    view = new kendo.View(container, { wrapper: false, model: vm });\r\n                    callback(view.render());\r\n                });\r\n            } else {\r\n                callback(view.render());\r\n            }\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/header/slo/view.html',[],function () { return '<div class=\"slo-container pull-right\">\\r\\n\\r\\n</div>\\r\\n<script id=\"slo-template\" type=\"text/x-kendo-template\">\\r\\n        <li class=\"slo-timer\"></li>\\r\\n        <li class=\"slo-icon fa #: imageClass # fa-lg\"></li>\\r\\n        <li class=\"slo-title\">#: Title #</li>\\r\\n</script>';});\n\n","/**\r\nHeader Status\r\n**/\r\ndefine('forms/header/slo/controller',['require','text!forms/header/slo/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/slo/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function(vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            if (vm.isAnalyst) {\r\n                var built = _.template(tpl);\r\n\r\n                var view = new kendo.View(built(), {\r\n                    wrap: false,\r\n                    init: function() {\r\n                        setTimeout(function() { DoWork(); }, 100);\r\n                    },\r\n                    model: vm\r\n                });\r\n                view.render(); //so we can manipulate it\r\n\r\n                var DoWork = function() {\r\n\r\n                    if (vm.viewModel[\"SLO\"] == null) return;\r\n\r\n                    var sloViewObj = view.element,\r\n                        sloObjects = vm.viewModel[\"SLO\"],\r\n                        sloActive = \"SLAInstance.Status.Active\",\r\n                        sloPaused = \"SLAInstance.Status.Paused\",\r\n                        sloMet = \"SLAInstance.Status.Met\",\r\n                        sloWarning = \"SLAInstance.Status.Warning\",\r\n                        sloBreached = \"SLAInstance.Status.Breached\",\r\n                        sloNotReady = \"SLAInstance.Status.NotReady\";\r\n\r\n                    //var sloContainer = sloViewObj.find(\".slo-container\");\r\n                    var sloContainer = $(\".slo-container\");\r\n\r\n                    for (var key in sloObjects) {\r\n                        if (sloObjects[key].DisplayName == null) continue;\r\n                        var isMet = false;\r\n                        var isPaused = false;\r\n\r\n                        //var sloTemplate = kendo.template(sloViewObj.find(\"#slo-template\").html());\r\n                        var sloTemplate = kendo.template($(\"#slo-template\").html());\r\n\r\n                        var sloObj = {};\r\n                        sloObj.Id = sloObjects[key].DisplayName.replace(\" \", \"\");\r\n                        sloObj.Title = sloObjects[key].DisplayName;\r\n\r\n                        switch (sloObjects[key].Status) {\r\n                        case sloActive:\r\n                            sloObj.imageClass = \"fa-clock-o text-primary\";\r\n                            break;\r\n                        case sloPaused:\r\n                        case sloNotReady:\r\n                            isPaused = true;\r\n                            sloObj.imageClass = \"fa-pause text-info\";\r\n                            break;\r\n                        case sloMet:\r\n                            sloObj.imageClass = \"fa-check-circle-o text-success\";\r\n                            //vm.view.controller.isMet = true;\r\n                            isMet = true;\r\n                            break;\r\n                        case sloWarning:\r\n                            sloObj.imageClass = \"fa-exclamation-circle text-warning\";\r\n                            break;\r\n                        case sloBreached:\r\n                            sloObj.imageClass = \"fa-bell text-danger\";\r\n                            isBreach = true;\r\n                            break;\r\n                        }\r\n\r\n                        var sloImg = sloObj.imageClass; //should remove\r\n\r\n                        var clone = $('<ul/>').addClass(\"slo-status-item\");\r\n                        clone.html(sloTemplate(sloObj));\r\n\r\n                        //alert(sloObjects[key].Time.Hours);\r\n                        SLOCoundown(clone, isMet, isPaused, sloObjects[key].Time.Hours, sloObjects[key].Time.Minutes, sloObjects[key].Time.Seconds,\r\n                            eval(sloObjects[key].WarningDate), eval(sloObjects[key].ServerDatetimeNow), false);\r\n                        sloContainer.append(clone);\r\n                    }\r\n                }\r\n\r\n                var SLOCoundown = function(sloCloned, isMetStat, isPaused, hours, minutes, seconds, warningDate, serverCurrentDate, isBreach) {\r\n                    //force warning image\r\n                    if (!isMetStat && !isBreach && warningDate <= serverCurrentDate) {\r\n                        //reset all classes \r\n                        sloCloned.find(\".slo-icon\").attr('class', \"slo-icon fa fa-exclamation-circle text-warning fa-lg\");\r\n                    }\r\n\r\n                    //set breached\r\n                    if (!isMetStat && (seconds <= 0 && minutes <= 0 && hours <= 0)) {\r\n                        isBreach = true;\r\n                        sloCloned.find(\".slo-icon\").attr('class', \"slo-icon fa fa-bell text-danger fa-lg\");\r\n                        sloCloned.find(\".slo-timer\").addClass(\"text-danger\");\r\n                    }\r\n\r\n                    //set time in view\r\n                    if (!isMetStat) {\r\n                        var secs = (Math.abs(seconds) < 10) ? \"0\" + Math.abs(seconds) : Math.abs(seconds);\r\n                        var mins = (Math.abs(minutes) < 10) ? \"0\" + Math.abs(minutes) : Math.abs(minutes);\r\n                        var hrs = (Math.abs(hours) < 10) ? \"0\" + Math.abs(hours) : Math.abs(hours);\r\n                        if (isBreach) {\r\n                            sloCloned.find(\".slo-timer\").html(\"\");\r\n                        } else\r\n                            sloCloned.find(\".slo-timer\").html((isBreach ? \"-\" : \"\") + Math.abs(hrs) + \":\" + mins + \":\" + secs);\r\n                        //return;\r\n                    } else {\r\n                        sloCloned.find(\".slo-timer\").html(\"&nbsp;\");\r\n                        return;\r\n                    }\r\n\r\n                    if (isPaused) return;\r\n\r\n                    //make the fancy js countdown\r\n                    serverCurrentDate.setSeconds(serverCurrentDate.getSeconds() + 1);\r\n                    seconds = parseInt(seconds) - 1;\r\n\r\n\r\n                    if (seconds <= 0 && minutes <= 0 && hours <= 0) {\r\n                        if (seconds <= -60) {\r\n                            seconds = 0;\r\n                            minutes = parseInt(minutes) - 1;\r\n                        }\r\n\r\n                        if (minutes <= -60) {\r\n                            minutes = 0;\r\n                            hours = parseInt(hours) - 1;\r\n                        }\r\n                    } else {\r\n                        if (minutes < 0) {\r\n                            minutes = 59;\r\n                            hours = parseInt(hours) - 1;\r\n                        }\r\n\r\n                        if (seconds < 0) {\r\n                            seconds = 59;\r\n                            minutes = parseInt(minutes) - 1;\r\n                        }\r\n                    }\r\n\r\n\r\n                    setTimeout(function() {\r\n                        SLOCoundown(sloCloned, isMetStat, isPaused, hours, minutes, seconds,\r\n                            warningDate, serverCurrentDate, isBreach);\r\n                    }, 1000);\r\n                }\r\n\r\n\r\n                callback(view.render());\r\n            }\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\r\n\n","\ndefine('text!forms/header/spacer/view.html',[],function () { return '<div></div>';});\n\n","/**\r\nHeader Spacer\r\n**/\r\ndefine('forms/header/spacer/controller',['require','text!forms/header/spacer/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/spacer/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            //modify vm for this view\r\n\r\n            var view = new kendo.View(built(), { model: vm });\r\n\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/header/title/view.html',[],function () { return '<h1 class=\"page_title\">\\r\\n    <span data-bind=\"html: title\"></span>\\r\\n</h1>\\r\\n\\r\\n';});\n\n","/**\r\nHeader Status\r\n**/\r\ndefine('forms/header/title/controller',['require','text!forms/header/title/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/title/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            vm.title = (!_.isUndefined(localization[vm.type]) && [vm.type].length > 0) ? localization[vm.type] : vm.type;\r\n\r\n            //set page <title>\r\n            document.title = vm.title;\r\n\r\n            var view = new kendo.View(built(), { wrap: false, model: vm });\r\n\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/header/approval/view.html',[],function () { return '<div class=\"container-fluid\" data-bind=\"visible: isDesktopView\">\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-6 col-xs-12\">\\r\\n            <h1 class=\"page_title\">\\r\\n                <span data-bind=\"text: title\"></span><span>-</span><span class=\"uppercase\" data-bind=\"text: workItemId\"></span>\\r\\n                <span class=\"label label-info label-heading\" id=\"statusName\" data-bind=\"text: statusName\"></span>\\r\\n                <span class=\"label label-heading\" data-bind=\"visible: isParent\"><img src=\"/Content/Images/Icons/WorkItemsStatus/workitem-parent-icon.svg\"></span>\\r\\n            </h1>\\r\\n        </div>\\r\\n        <div class=\"col-md-6 col-xs-12\">       \\r\\n            <div class=\"pull-right ra-approval-space\">\\r\\n                <!-- Support group -->\\r\\n                <div class=\"pull-left\">\\r\\n                    <div class=\"form-control-picker input-sm ra-input\"\\r\\n                         data-url=\"/api/V3/Enum/GetList\"\\r\\n                         data-combourl=\"/api/V3/Enum/GetFlatList/\"\\r\\n                         data-bind=\"ciresonDropDownTree: SupportGroupEnumId, value: SupportGroupFieldValue, visible: SupportGroupVisible, click: onChangeSupportGroup, options: {disabled:disabledMAButtons}\"\\r\\n                         data-role=\"SupportGroupField\"\\r\\n                         data-placeholder=\"SupportGroup\"></div>\\r\\n                </div>\\r\\n                <div class=\"pull-right\">\\r\\n                    <!--RA buttons-->\\r\\n                    <button class=\"btn btn-success\"\\r\\n                            data-bind=\"events: { click: onApproveClick }, disabled:disabledButtons, visible:isReviewActivity\">\\r\\n                        <%= localization.Approve %>\\r\\n                    </button>\\r\\n                    <button class=\"btn btn-danger\"\\r\\n                            data-bind=\"events: { click: onRejectClick }, disabled:disabledButtons, visible:isReviewActivity\">\\r\\n                        <%= localization.Reject %>\\r\\n                    </button>\\r\\n                    <!--RA buttons-->\\r\\n                    <!--MA buttons-->\\r\\n                    <button class=\"btn btn-success\"\\r\\n                            data-bind=\"events: { click: onCompleteClick }, disabled:disabledMAButtons, visible:isManualActivity\">\\r\\n                        <%= localization.Completed %>\\r\\n                    </button>\\r\\n                    <button class=\"btn btn-danger\"\\r\\n                            data-bind=\"events: { click: onFailClick }, disabled:disabledMAButtons, visible:isManualActivity\">\\r\\n                        <%= localization.Failed %>\\r\\n                    </button>\\r\\n                    <!--MA buttons-->\\r\\n                    <span>\\r\\n                        <button class=\"btn-link\" data-bind=\"disabled:disablePrevious, events:{click: previousClick}\"><i class=\"fa fa-chevron-left\"></i></button>\\r\\n                        <span data-bind=\"html: pageText\"></span>\\r\\n                        <button class=\"btn-link\" data-bind=\"disabled:disableNext, events:{click: nextClick}\"><i class=\"fa fa-chevron-right\"></i></button>\\r\\n                    </span>\\r\\n                </div>\\r\\n             </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\"container-fluid\" data-bind=\"visible: isMobileView\">\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space pull-right\">\\r\\n                <div>\\r\\n                    <button class=\"btn-link\" data-bind=\"disabled:disablePrevious, events:{click: previousClick}\"><i class=\"fa fa-chevron-left\"></i></button>\\r\\n                    <span data-bind=\"html: pageText\"></span>\\r\\n                    <button class=\"btn-link\" data-bind=\"disabled:disableNext, events:{click: nextClick}\"><i class=\"fa fa-chevron-right\"></i></button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"row\">\\r\\n        <!-- Support group -->\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"form-control-picker ra-input\"\\r\\n                 data-url=\"/api/V3/Enum/GetList\"\\r\\n                 data-combourl=\"/api/V3/Enum/GetFlatList/\"\\r\\n                 data-bind=\"ciresonDropDownTree: SupportGroupEnumId, value: SupportGroupFieldValue, visible: SupportGroupVisible, click: onChangeSupportGroup\"\\r\\n                 data-role=\"SupportGroupField\"\\r\\n                 data-placeholder=\"SupportGroup\"></div>\\r\\n        </div>\\r\\n        <!--RA buttons-->\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space\">\\r\\n                <button class=\"btn btn-success\"\\r\\n                        data-bind=\"events: { click: onApproveClick }, disabled:disabledButtons, visible:isReviewActivity\">\\r\\n                    <%= localization.Approve %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space\">\\r\\n                <button class=\"btn btn-danger\"\\r\\n                        data-bind=\"events: { click: onRejectClick }, disabled:disabledButtons, visible:isReviewActivity\">\\r\\n                    <%= localization.Reject %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!--RA buttons-->\\r\\n\\r\\n        <!--MA buttons-->\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space\">\\r\\n                <button class=\"btn btn-success\"\\r\\n                        data-bind=\"events: { click: onCompleteClick }, disabled:disabledMAButtons, visible:isManualActivity\">\\r\\n                    <%= localization.Completed %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-12 col-xs-12\">\\r\\n            <div class=\"ra-approval-space\">\\r\\n                <button class=\"btn btn-danger\"\\r\\n                        data-bind=\"events: { click: onFailClick }, disabled:disabledMAButtons, visible:isManualActivity\">\\r\\n                    <%= localization.Failed %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!--MA buttons-->\\r\\n    </div>\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-6 col-xs-12\">\\r\\n            <h1 class=\"page_title\">\\r\\n                <span data-bind=\"text: title\"></span><span>-</span><span class=\"uppercase\" data-bind=\"text: workItemId\"></span>\\r\\n                <span class=\"label label-info label-heading\" id=\"statusname\" data-bind=\"text: statusName\"></span>\\r\\n                <span class=\"label label-heading\" data-bind=\"visible: isParent\"><img src=\"/Content/Images/Icons/WorkItemsStatus/workitem-parent-icon.svg\"></span>\\r\\n            </h1>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n';});\n\n","/**\r\nRA Approval controls\r\n**/\r\ndefine('forms/header/approval/controller',['require','text!forms/header/approval/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/header/approval/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n            var rejected = \"107fc6bd-2bb3-0282-4425-f43b5b32ef13\";\r\n            var approve = \"0e856c6c-04e5-0a8e-6041-bc7715b4747e\";\r\n            var notYetVoted = \"dae75d12-89ac-a8d8-4fe3-516c2a6a26f7\";\r\n\r\n\r\n            vm.view.approvalModel = new kendo.observable({\r\n                decisionEnumId: null,\r\n                comments: \"\",\r\n                onRejectClick: function () {\r\n                    vm.view.approvalModel.decisionEnumId = rejected;\r\n                    this.updateStatus();\r\n                },\r\n                onApproveClick: function () {\r\n                    vm.view.approvalModel.decisionEnumId = approve;\r\n\r\n                    this.updateStatus();\r\n                },\r\n                onCompleteClick: function () {\r\n                    var status = { Id: app.constants.workItemStatuses.ManualActivity.Completed, Name: localization.Completed };\r\n                    vm.view.approvalModel.updateManualActivity(status);\r\n                },\r\n                onFailClick: function () {\r\n                    var status = { Id: app.constants.workItemStatuses.ManualActivity.Failed, Name: localization.Failed }\r\n                    vm.view.approvalModel.updateManualActivity(status);\r\n                },\r\n                updateStatus: function () {\r\n                    if (vm.view.approvalModel.isReviewActivity) {\r\n                        vm.view.approvalModel.updateReviewActivity();\r\n                    }\r\n\r\n                    if (vm.view.approvalModel.isManualActivity) {\r\n                        vm.view.approvalModel.updateManualActivity();\r\n                    }\r\n                },\r\n                updateReviewActivity: function () {\r\n                    $.when(kendo.ui.ExtYesNoTextAreaDialog.show({\r\n                        title: localization.Comments,\r\n                        message: localization.DoYouHaveComments,\r\n                        required: true,\r\n                        height: 250\r\n                    })\r\n                  ).done(function (response) {\r\n                      if (response.button === \"yes\") {\r\n                          vm.view.approvalModel.comments = response.input;\r\n                      }\r\n\r\n\r\n                      _.each(pageForm.viewModel.Reviewer, function (reviewItem) {\r\n\r\n                          var group = _.find(pageForm.userGroup, function (group) {\r\n                              return (!_.isUndefined(reviewItem.User)) ? reviewItem.User.BaseId == group.Id : false;\r\n                          });\r\n\r\n                          if (reviewItem.Decision.Id == notYetVoted\r\n                              && ((!_.isUndefined(reviewItem.User) && reviewItem.User.BaseId == session.user.Id)\r\n                              || !_.isUndefined(group))) {\r\n\r\n                              var comment = \"\";\r\n                              if (_.isNull(reviewItem.Comments)) {\r\n                                  comment = vm.view.approvalModel.comments;\r\n                              }\r\n                              else {\r\n                                  comment = reviewItem.Comments + \" \" + vm.view.approvalModel.comments;\r\n                              }\r\n\r\n                              reviewItem.VotedBy = {};\r\n                              reviewItem.VotedBy.BaseId = session.user.Id;\r\n                              reviewItem.Decision.set(\"Id\", vm.view.approvalModel.decisionEnumId);\r\n                              reviewItem.set(\"Comments\", comment);\r\n                              reviewItem.set(\"DecisionDate\", new Date().toISOString());\r\n\r\n                          }\r\n                      });\r\n\r\n                      //exclude parent workitem details\r\n                      if (pageForm.viewModel.ParentWorkItem) delete pageForm.viewModel.ParentWorkItem;\r\n\r\n                      vm.view.approvalModel.save();\r\n                  });\r\n                },\r\n                updateManualActivity: function (status) {\r\n                    $.when(kendo.ui.ExtYesNoTextAreaDialog.show({\r\n                        title: session.consoleSetting.RequireImplementationNotes ? localization.ImplementationdetailsRequired : localization.Implementationdetails,\r\n                        buttons: [\r\n                            {\r\n                                name: localization.Save,\r\n                                click: function (e) {\r\n                                    var $inputText = $(\"#extInputDialog .k-ext-input-dialog-input\");\r\n                                    var comment = $(\"#extInputDialog .k-ext-input-dialog-input\").val();\r\n                                    var currentNotes = !_.isNull(pageForm.viewModel.Notes) ? pageForm.viewModel.Notes : \"\";\r\n\r\n                                    if (e.dialog.options.required && $inputText.val().length == 0) {\r\n                                        $inputText.addClass(e.dialog.options.requiredCss);\r\n                                    } else {\r\n                                        //exclude parent workitem details\r\n                                        if (pageForm.viewModel.ParentWorkItem) delete pageForm.viewModel.ParentWorkItem;\r\n\r\n                                        //set status \r\n                                        pageForm.viewModel.set(\"Status\", status)\r\n\r\n                                        //set notes\r\n                                        pageForm.viewModel.set(\"Notes\", currentNotes + \"\\n\" + comment);\r\n                                        vm.view.approvalModel.save();\r\n                                        e.dialog.close();\r\n                                    }\r\n                                },\r\n                                cls: \"btn-primary\"\r\n                            },\r\n                            {\r\n                                name: localization.Cancel,\r\n                                click: function (e) {\r\n                                    e.dialog.close();\r\n                                }\r\n                        }],\r\n                        required: session.consoleSetting.RequireImplementationNotes,\r\n                        requiredCss: \"k-ext-required\"\r\n                    })\r\n                 );\r\n                },\r\n                save: function () {\r\n                    var postData = encodeURIComponent(JSON.stringify({\r\n                        isDirty: true,\r\n                        current: pageForm.viewModel.toJSON(),\r\n                        original: pageForm.jsonRaw\r\n                    }));\r\n\r\n                    $.ajax({\r\n                        type: 'POST',\r\n                        dataType: 'text',\r\n                        url: pageForm.saveUrl,\r\n                        data: \"formJson=\" + postData,\r\n                        success: function (data, status, xhr) {\r\n                            location.reload();\r\n                            if (data.search('loginForm') < 0) { // Logged out check    \r\n                                var successMessage = vm.view.approvalModel.decisionEnumId == \"0e856c6c-04e5-0a8e-6041-bc7715b4747e\" ?\r\n                                    localization.ReviewActivityApprovedMessage : localization.ReviewActivityRejectedMessage;\r\n                                \r\n                                if (pageForm.viewModel.ClassName == \"System.WorkItem.Activity.ManualActivity\") {\r\n                                    successMessage = (pageForm.viewModel.Status.Id == app.constants.workItemStatuses.ManualActivity.Completed) ?\r\n                                                    localization.ManualActivityCompletedMessage :\r\n                                                    localization.ManualActivityFailedMessage;\r\n                                }\r\n\r\n                                app.lib.message.add(successMessage.replace(\"{0}\", vm.viewModel.Id), \"success\");\r\n                                app.lib.handleMessages();\r\n                            } else {\r\n                                //session expired\r\n                                window.location = \"/Login/Login?ReturnUrl=\" + window.location.pathname;\r\n                            }\r\n                        },\r\n                        error: function (xhr, ajaxOptions, thrownError) {\r\n                            //do we have a data conflict\r\n                            if (xhr.status == 409) {\r\n\r\n                                $.when(kendo.ui.ExtYesNoDialog.show({\r\n                                    title: localization.DataConflict,\r\n                                    message: localization.DataConflictError + \"<br/><br/><small>(\" + localization.DataConflictDescription + \")</small>\",\r\n                                    icon: \"fa fa-exchange text-danger\",\r\n                                    width: \"500px\",\r\n                                    height: \"175px\"\r\n                                })\r\n                                ).done(function (response) {\r\n                                    if (response.button === \"yes\") {\r\n                                        //open in new tab, may not work this way in all browsers\r\n                                        window.open(window.location.pathname);\r\n                                    } else {\r\n                                        //refresh page\r\n                                        location.href = window.location.pathname;\r\n                                    }\r\n                                });\r\n\r\n                            } else if (xhr.status == 503) { //SDK unavailable\r\n                                var jsonRsp = xhr.responseText;\r\n                                app.lib.log(jsonRsp);\r\n                                //determine error Message\r\n                                var errorMsg = localization.ReconnectRequired;\r\n                                if (jsonRsp.exception && jsonRsp.exception.length > 0) {\r\n                                    errorMsg = jsonRsp.exception;\r\n                                }\r\n                                //alert the user\r\n                                kendo.ui.ExtAlertDialog.show({\r\n                                    title: localization.Failed,\r\n                                    message: errorMsg,\r\n                                    icon: \"fa fa-times-circle text-danger\"\r\n                                });\r\n                            } else if (xhr.status == 403) { //user does not have access\r\n                                var jsonRsp = xhr.responseText;\r\n                                app.lib.log(jsonRsp);\r\n                                //determine error Message\r\n                                var errorMsg = localization.RequestFailed;\r\n                                if (jsonRsp.exception && jsonRsp.exception.length > 0) {\r\n                                    errorMsg = jsonRsp.exception;\r\n                                }\r\n                                //alert the user\r\n                                kendo.ui.ExtAlertDialog.show({\r\n                                    title: localization.Failed,\r\n                                    message: errorMsg,\r\n                                    icon: \"fa fa-times-circle text-danger\"\r\n                                });\r\n\r\n                            } else {\r\n                                console && app.lib.log(localization.RequestFailed);\r\n                                app.lib.log(thrownError);\r\n\r\n                                var jsonRsp = xhr.responseText;\r\n                                app.lib.log(jsonRsp);\r\n\r\n                                var errorMsg = localization.RequestFailed;\r\n                                if (jsonRsp.exception && jsonRsp.exception.length > 0) {\r\n                                    errorMsg = jsonRsp.exception;\r\n                                }\r\n\r\n                                kendo.ui.ExtAlertDialog.show({\r\n                                    title: localization.ErrorDescription,\r\n                                    message: errorMsg,\r\n                                    icon: \"fa fa-exclamation\"\r\n                                });\r\n                            }\r\n                        },\r\n                        processData: false,\r\n                        async: false\r\n                    });\r\n                },\r\n                pageDataSource: new kendo.data.DataSource({\r\n                    serverFiltering: true,\r\n                    serverSorting: true,\r\n                    transport: {\r\n                        read: {\r\n                            url: pageForm.viewModel.ClassTypeId.toLowerCase() == \"bfd90aaa-80dd-0fbb-6eaf-65d92c1d8e36\" ? \"/api/V3/WorkItem/GetGridWorkItemsMyApprovals/\" : \"/api/V3/WorkItem/GetGridWorkItemsMyManualActivities/\",\r\n                            data: {\r\n                                userId: session.user.Id,\r\n                                isScoped: session.user.Security.IsWorkItemScoped,\r\n                                showInActives: false\r\n                            },\r\n                            cache: false\r\n                        }\r\n                    },\r\n                    requestEnd: function (e) {\r\n                        vm.view.approvalModel.updatePageDetails(e.response);\r\n                    }\r\n                }),\r\n                updatePageDetails: function (data) {\r\n                    var index = 1;\r\n                    var pageCount = (data) ? data.length : 0;\r\n\r\n                    _.find(data, function (item, idx) {\r\n                        if (item.Id == vm.viewModel.Id) {\r\n                            index = idx;\r\n                        }\r\n                    });\r\n\r\n                    var pageString = (index + 1) + \" / \" + pageCount;\r\n\r\n                    vm.view.approvalModel.set(\"currentPage\", index);\r\n                    vm.view.approvalModel.set(\"toatPage\", pageCount);\r\n                    vm.view.approvalModel.set(\"pageText\", pageString);\r\n                    vm.view.approvalModel.set(\"disablePrevious\", (index == 0) ? true : false);\r\n                    vm.view.approvalModel.set(\"disableNext\", (index == pageCount - 1) ? true : false);\r\n\r\n                    var statusInProgress = vm.viewModel.Status.Id === \"11fc3cef-15e5-bca4-dee0-9c1155ec8d83\";\r\n\r\n                    if (!statusInProgress || (!_.isUndefined(vm.viewModel.reviewDetails) && (vm.viewModel.reviewDetails.fullDetails.Decision.Id == approve || vm.viewModel.reviewDetails.fullDetails.Decision.Id == rejected) && (vm.viewModel.reviewDetails.fullDetails.User.BaseId == session.user.Id))) {\r\n                        vm.view.approvalModel.set(\"disabledButtons\", true);\r\n                    }\r\n                    else {\r\n                        var review = _.find(pageForm.viewModel.Reviewer, function (reviewItem) {\r\n                            if (_.isUndefined(reviewItem.User)) {\r\n                                return null;\r\n                            }\r\n                            var group = _.find(pageForm.userGroup, function (group) {\r\n                                return reviewItem.User.BaseId == group.Id;\r\n                            });\r\n\r\n                            return !_.isUndefined(reviewItem.User) && reviewItem.Decision.Id == notYetVoted && (reviewItem.User.BaseId == session.user.Id || !_.isUndefined(group));\r\n                        });\r\n\r\n                        if (!review) return;\r\n\r\n                        if (!statusInProgress || (_.isUndefined(review) || _.isNull(review))) {\r\n                            vm.view.approvalModel.set(\"disabledButtons\", true);\r\n                        }\r\n                    }\r\n                },\r\n                nextClick: function () {\r\n                    var index = vm.view.approvalModel.get(\"currentPage\") + 1;\r\n                    vm.view.approvalModel.navigate(index);\r\n                },\r\n                previousClick: function () {\r\n                    var index = vm.view.approvalModel.get(\"currentPage\") - 1;\r\n                    vm.view.approvalModel.navigate(index);\r\n                },\r\n                navigate: function (index) {\r\n                    vm.view.approvalModel.pageDataSource.read();\r\n                    var dSource = vm.view.approvalModel.pageDataSource.data();\r\n\r\n                    var nextItem = dSource[index];\r\n                    var url = vm.view.approvalModel.isReviewActivity ? \"/ReviewActivity/Approval/\" : \"/ManualActivity/Complete/\";\r\n                    var approvalUrl = url + nextItem.Id;\r\n\r\n                    location.href = approvalUrl;\r\n                },\r\n                onChangeSupportGroup: function() {\r\n                    vm.viewModel[pageForm.MASupportGroupField] = vm.view.approvalModel.SupportGroupFieldValue;\r\n                },\r\n                currentPage: 0,\r\n                toatPage: 0,\r\n                pageText: \"\",\r\n                disablePrevious: false,\r\n                disableNext: false,\r\n                title: vm.view.title,\r\n                workItemId: vm.viewModel.Id,\r\n                statusVisible: vm.view.statusVisible,\r\n                statusName: vm.viewModel.Status.Name,\r\n                isParent: vm.viewModel.IsParent,\r\n                isDesktopView: !app.isMobile(),\r\n                isMobileView: app.isMobile(),\r\n                disabledButtons: false,\r\n                reviewResult: null,\r\n                reviewId: 0,\r\n                SupportGroupVisible: pageForm.MASupportGroupField !== \"\",\r\n                SupportGroupEnumId: pageForm.MASupportGroupGuid,\r\n                SupportGroupFieldValue: vm.viewModel[pageForm.MASupportGroupField],\r\n                isManualActivity: pageForm.viewModel.ClassName == \"System.WorkItem.Activity.ManualActivity\",\r\n                isReviewActivity: pageForm.viewModel.ClassName == \"System.WorkItem.Activity.ReviewActivity\",\r\n                disabledMAButtons: pageForm.viewModel.Status.Id == app.constants.workItemStatuses.ManualActivity.Completed ||\r\n                    pageForm.viewModel.Status.Id == app.constants.workItemStatuses.ManualActivity.Failed\r\n                \r\n            });\r\n\r\n            vm.view.approvalModel.pageDataSource.read();\r\n            var view = new kendo.View(built(), { wrap: false, model: vm.view.approvalModel });\r\n\r\n            callback(view.render());\r\n\r\n\r\n        }\r\n    }\r\n    \r\n    return definition;\r\n\r\n});\n","define('forms/headerBuilder',[\r\n    \"forms/header/status/controller\",\r\n    \"forms/header/relationships/controller\",\r\n    \"forms/header/slo/controller\",\r\n    \"forms/header/spacer/controller\",\r\n    \"forms/header/title/controller\",\r\n    \"forms/header/approval/controller\"\r\n\r\n], function (\r\n    status,\r\n    relationships,\r\n    slo,\r\n    spacer,\r\n    title,\r\n    approval\r\n        ) {\r\n\r\n\r\n    var definition = {\r\n        build: function (vm, callback) {\r\n            //loop all rows in header definition\r\n            _.each(vm.headerTemplate.rows, function (row) {\r\n                //create row dom element\r\n                var rowElm = $('<div/>').addClass(\"row\");\r\n                //loop all cols in def\r\n                _.each(row.columns, function (column) {\r\n                    //create col element\r\n                    var colElm = $('<div/>').addClass(column.Class);\r\n\r\n                    // Decide on Template\r\n                    eval(\"var _obj = \" + column.View + \";\");\r\n                    // Check if Template Exists\r\n                    if (!_obj) {\r\n                        //TODO: should we maybe just default to the string object?\r\n                        throw Exception(column.View + \" is not part of the templating system\");\r\n                        return false;\r\n                    }\r\n\r\n                    _obj.build(vm, column, function (view) {\r\n                        //callback(view);\r\n                        colElm.append(view);\r\n                        colElm.appendTo(rowElm);\r\n                    });\r\n\r\n\r\n                });\r\n\r\n                callback(rowElm);\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return definition;\r\n});\n","\ndefine('text!forms/structure/formPanel/view.html',[],function () { return '<div class=\"form-panel\">\\r\\n\\r\\n</div>';});\n\n","/**\r\nForm Panel\r\n**/\r\ndefine('forms/structure/formPanel/controller',['require','text!forms/structure/formPanel/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/formPanel/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (callback) {\r\n            var built = _.template(tpl);\r\n            callback(built());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/formPanelFull/view.html',[],function () { return '<div class=\"form-panel\">\\r\\n\\r\\n</div>';});\n\n","/**\r\nForm Panel\r\n**/\r\ndefine('forms/structure/formPanelFull/controller',['require','text!forms/structure/formPanelFull/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/formPanelFull/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (callback) {\r\n            var built = _.template(tpl);\r\n            callback(built());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/customFieldGroup/view.html',[],function () { return '<div class=\"row\">\\r\\n    <div class=\"panel panel-default no-shadow\">\\r\\n        <div class=\"panel-heading\"><%= name %></div>\\r\\n        <div class=\"panel-body append-here\">\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nCustom Field Group\r\n**/\r\ndefine('forms/structure/customFieldGroup/controller',['require','text!forms/structure/customFieldGroup/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/customFieldGroup/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n            if (!_.isUndefined(node.Visible) && !node.Visible) {\r\n                return;\r\n            }\r\n\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/customFieldGroupRow/view.html',[],function () { return '<div class=\"row\"></div>';});\n\n","/**\r\ncustomFieldGroupRow\r\n**/\r\ndefine('forms/structure/customFieldGroupRow/controller',['require','text!forms/structure/customFieldGroupRow/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/customFieldGroupRow/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            callback(tpl);\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/columnField/view.html',[],function () { return '<div class=\"col-md-<%= ColSize %>\"></div>';});\n\n","/**\r\ncolumnField\r\n**/\r\ndefine('forms/structure/columnField/controller',['require','text!forms/structure/columnField/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/columnField/view.html\");\r\n\r\n    //get and modfiy field html as needed\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/tab/view.html',[],function () { return '<div class=\"tab-content\"></div>';});\n\n","/**\r\nTab List\r\n**/\r\ndefine('forms/structure/tab/controller',['require','text!forms/structure/tab/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/tab/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/structure/tabPane/view.html',[],function () { return '<div class=\"tab-pane <%= active %>\" id=\"<%= tabId %>\"></div>   ';});\n\n","/**\r\nTab pane\r\n**/\r\ndefine('forms/structure/tabPane/controller',['require','text!forms/structure/tabPane/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/structure/tabPane/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/structure/tabNavigation/view.html',[],function () { return '<ul class=\"nav nav-pills\" id=\"myTab\" data-bind=\"tabDrop:true\"></ul>';});\n\n","\ndefine('text!forms/structure/tabNavigation/mobile.html',[],function () { return '<div class=\"nav-dropdown\">\\r\\n    <span class=\"nav-dropdown-default\"></span>\\r\\n    <div class=\"nav-dropdown-trigger\">\\r\\n        <i class=\"fa fa-sort-desc\"></i>\\r\\n    </div>\\r\\n    <div class=\"nav-dropdown-content\">\\r\\n        <ul id=\"myTab\" data-bind=\"navDrop:true\"></ul>\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nTab navigation\r\n**/\r\ndefine('forms/structure/tabNavigation/controller',['require','text!forms/structure/tabNavigation/view.html','text!forms/structure/tabNavigation/mobile.html'],function (require) {\r\n    var dtpl = require(\"text!forms/structure/tabNavigation/view.html\");\r\n    var mtpl = require(\"text!forms/structure/tabNavigation/mobile.html\");\r\n    \r\n    var tpl = (app.isMobile()) ? mtpl : dtpl;\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/structure/tabData/view.html',[],function () { return '<li class=\"<%= active %>\"><a href=\"#<%= tabId %>\" data-toggle=\"tab\" data-cid=\"<%= cid %>\"><%= name %></a></li>';});\n\n","\ndefine('text!forms/structure/tabData/mobile.html',[],function () { return '<li value=\"<%= tabId %>\" data-cid=\"<%= cid %>\" data-toggle=\"tab\"\\r\\n      <% if ( active ){ %>\\r\\n         class=\"selected\" \\r\\n       <% } %>\\r\\n         > <%= name %>\\r\\n</li>\\r\\n\\r\\n';});\n\n","/**\r\nTab data\r\n**/\r\ndefine('forms/structure/tabData/controller',['require','text!forms/structure/tabData/view.html','text!forms/structure/tabData/mobile.html'],function (require) {\r\n    var dtpl = require(\"text!forms/structure/tabData/view.html\");\r\n    var mtpl = require(\"text!forms/structure/tabData/mobile.html\");\r\n  \r\n    var tpl = (app.isMobile()) ? mtpl : dtpl;\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            node.cid = node.name;\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/predefined/actionLog/view.html',[],function () { return '<div data-control=\"actionLog\">\\r\\n    <div class=\"row\" data-bind=\"visible:isDesktop\">\\r\\n        <div class=\"col-md-12\">\\r\\n            <div class=\"form-group\">\\r\\n                <label for=\"commentBoxEditor\" data-localize=\"Comment\"></label>\\r\\n                <textarea id=\"commentBoxEditor\" class=\"k-textbox form-control input-sm action-log-textarea\" data-bind=\"value: commentBoxHTML\"\\r\\n                <% if ( Disabled ){ %>\\r\\n                disabled\\r\\n                <% } %>>\\r\\n                    </textarea>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-12\">\\r\\n            <div class=\"pull-left\">\\r\\n                <span data-bind=\"text: charactersRemaining\"></span>\\r\\n                <span data-localize=\"CharactersRemaining\"> </span>\\r\\n            </div>\\r\\n            <div class=\"pull-right\">\\r\\n                <button type=\"button\" data-bind=\"click: addComment, enabled: addEnabled\" class=\"k-button btn btn-primary action-log-add-button\" data-localize=\"Add\"></button>\\r\\n            </div>\\r\\n            <div data-bind=\"visible: isAnalyst\" class=\"pull-right checkbox action-log-private\">\\r\\n                <input type=\"checkbox\" data-bind=\"checked: isPrivate\" id=\"actionLogisPrivate\" \\r\\n                       <% if (Disabled) { %>\\r\\n                        disabled\\r\\n                    <% } %>>\\r\\n                </input>\\r\\n\\r\\n                <label class=\"label-middle-align checkbox-inline checkbox-label\" data-localize=\"IsPrivate\" for=\"actionLogisPrivate\" />\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\"row\" data-bind=\"visible:isMobile\">\\r\\n        <div class=\"action-log-mobile\">\\r\\n            <textarea id=\"commentBoxEditorMobile\" class=\"k-textbox form-control input-sm action-log-textarea\" data-bind=\"value: commentBoxHTML\"\\r\\n            <% if (Disabled) { %>disabled<% } %>></textarea>\\r\\n            <div class=\"action-log-mobile-buttons\">\\r\\n                <button type=\"button\" data-bind=\"click: addComment\" data-localize=\"Add Comment\" class=\"col-xs-7 btn btn-primary\"></button>\\r\\n                <div data-bind=\"visible: isAnalyst\" class=\"pull-left checkbox checkbox-inline action-log-mobile-private\">\\r\\n                    <input type=\"checkbox\" data-bind=\"checked: isPrivate\" id=\"actionLogisPrivate\"><% if (Disabled) { %>\\r\\n                    disabled\\r\\n                    <% } %>></input>\\r\\n                    <label class=\"label-middle-align control-label\" data-localize=\"IsPrivate\" for=\"actionLogisPrivate\" />\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"row\">\\r\\n\\r\\n        <div class=\"col-md-12\" data-bind=\"visible:isDesktop\">\\r\\n\\r\\n            <div data-control-grid=\"actionLogGrid\" class=\"inline-spacing\"></div>\\r\\n\\r\\n            <!-- kendo details template used by action grid -->\\r\\n            <script data-id=\"commentDetailTemplate\" type=\"text/kendo-tmpl\">\\r\\n                <p name=\"CommentBoxDetail\" class=\"action-log-comment\">#=DescriptionDisplay#</p>\\r\\n            </script>\\r\\n        </div>\\r\\n        <div data-bind=\"visible:isMobile\">\\r\\n            <div data-role=\"listview\" data-bind=\"source: actionLogSource\" data-template=\"action-log-grid-mobile-template\" class=\"action-log-mobile-grid \"></div>\\r\\n            <script type=\"text/x-kendo-template\" id=\"action-log-grid-mobile-template\">\\r\\n                <div class=\"col-md-12 action-log-info\">\\r\\n                    <div class=\"row\">\\r\\n                        <div class=\"col-xs-2 action-log-icon\">\\r\\n                            <img src=\"#:data.Image#\" alt=\"#:data.Image#\" />\\r\\n                        </div>\\r\\n                        <div class=\"col-xs-10 action-log-details\">\\r\\n                            <p>\\r\\n                                #: EnteredBy # &middot; #: (EnteredDate) ? kendo.toString(new Date(EnteredDate), \\'d\\'):\\'\\' #\\r\\n                            </p>\\r\\n                            <p> #: Title #</p>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\"row\">\\r\\n                        <div class=\"col-xs-offset-2 col-xs-10 action-log-content\">\\r\\n                            #: Description #\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </script>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nactionLog\r\n**/\r\n\r\ndefine('forms/predefined/actionLog/controller',['require','text!forms/predefined/actionLog/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/actionLog/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n            var view = built(properties);\r\n\r\n            callback(view);\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/fileAttachments/view.html',[],function () { return '<div class=\"row\">\\r\\n    <div class=\"col-md-12 fileAttachmentGrid\" data-control=\"fileAttachmentGrid\" data-control-bind=\"FileAttachment\"\\r\\n\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        >\\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nfileAttachments\r\n**/\r\n\r\ndefine('forms/predefined/fileAttachments/controller',['require','text!forms/predefined/fileAttachments/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/fileAttachments/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n\r\n            var properties = {\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/affectedItems/view.html',[],function () { return '<div data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileGridTemplate\" class=\"\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">#: DisplayName #</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <p>#: (AssetStatus.Name!=null) ? AssetStatus.Name : \"\" #</p>\\r\\n                <p># if (AssetStatus.Name!=null && AssetStatus.Name!=\"\") { # &middot # } # </p>\\r\\n                <p>#: (Path!=null ) ? Path : \"\" # </p>\\r\\n                <p># if (Path!=null && Path!=\"\") { # &middot # } # </p>\\r\\n\\r\\n            </div>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <a class=\"k-delete-button\">#: localization.Remove #</a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12 affecteditems-grid\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-md-6\">\\r\\n                <div class=\"form-group\">\\r\\n                    <label class=\"control-label\"><%= localization.Configurationitem %></label>\\r\\n                    <div class=\"two-action-input-group\">\\r\\n                        <input data-role=\"combobox\" class=\"search-combo\"\\r\\n                               data-placeholder=\"<%= localization.ChooseOne %>\"\\r\\n                               data-value-primitive=\"true\"\\r\\n                               data-text-field=\"Text\"\\r\\n                               data-value-field=\"Value\"\\r\\n                               data-filter=\"contains\"\\r\\n                               data-auto-bind=\"false\"\\r\\n                               data-min-length=\"3\"\\r\\n                               data-bind=\"value: view.affectedItemController.selectedConfigItem, source: view.affectedItemController.configItemDataSource, events:{change:view.affectedItemController.onConfigItemChange }\"\\r\\n                               data-cid=\"ci-searchbox\" />\\r\\n                        <span class=\"search\"\\r\\n                              data-bind=\"events:{click: view.affectedItemController.searchConfigItem}\"\\r\\n                              data-cid=\"affecteditemssearchicon\">\\r\\n                            <i class=\"fa fa-search\"></i>\\r\\n                        </span>\\r\\n                        <button data-role=\"button\" class=\"search-button two-action-input-group__primary-action\"\\r\\n                                data-bind=\"events:{click: view.affectedItemController.addConfigItem}\"\\r\\n                                data-cid=\"affectedItemsSearchBoxAddButton\">\\r\\n                            <%= localization.Add %>\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-6\">\\r\\n                <div class=\"form-group affected-user-item-search\" data-bind=\"visible: view.affectedItemController.isUserCIVisible\">\\r\\n                    <label class=\"control-label\"><%= localization.AffectedUserItems %></label>\\r\\n                    <div class=\"two-action-input-group\">\\r\\n                        <input data-role=\"combobox\" class=\"search-combo\"\\r\\n                               data-placeholder=\"<%= localization.ChooseOne %>\"\\r\\n                               data-value-primitive=\"true\"\\r\\n                               data-text-field=\"Text\"\\r\\n                               data-value-field=\"Value\"\\r\\n                               data-filter=\"contains\"\\r\\n                               data-auto-bind=\"false\"\\r\\n                               data-bind=\"value: view.affectedItemController.selectedUserConfigItem, source: view.affectedItemController.userConfigItemDataSource, events:{change:view.affectedItemController.onUserConfigItemChange }\"\\r\\n                               data-cid=\"auitems-searchbox\" />\\r\\n                        <button class=\"two-action-input-group__primary-action\" data-role=\"button\"\\r\\n                                data-bind=\"events:{click: view.affectedItemController.addUserConfigItem}\"\\r\\n                                data-cid=\"affectedItemsComboBoxAddButton\">\\r\\n                            <%= localization.Add %>\\r\\n\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div data-role=\"grid\"\\r\\n             data-bind=\"visible: view.affectedItemController.isDesktopView, source: view.affectedItemController.dataSource, events:{dataBinding: view.affectedItemController.onDataBinding}\"\\r\\n             data-selectable=\"false\"\\r\\n             data-sortable=\"true\"\\r\\n             data-filterable=\"true\"\\r\\n             data-scrollable=\"false\"\\r\\n             data-column-menu=\"true\"\\r\\n             data-pageable=\"false\"\\r\\n             data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n             data-columns=\\'[\\r\\n                    { title: \"\", width: \"1%\", template: \"\\\\u003cdiv data-base-id=\\\\\"#=BaseId#\\\\\" class=\\\\\"aci-context-menu open-modal pull-right\\\\\" data-bind=\\\\\"visible: view.affectedItemController.isSlideOut\\\\\"\\\\u003e\\\\u003ci class=\\\\\"fa fa-info-circle\\\\\"\\\\u003e\\\\u003c/i\\\\u003e\\\\u003c/div\\\\u003e\\\\u003cdiv class=\\\\\"open-modal pull-right\\\\\" data-bind=\\\\\"visible: view.affectedItemController.isMoreInfo, events:{click:view.affectedItemController.showMoreInfo }\\\\\"\\\\u003e\\\\u003ci class=\\\\\"fa fa-info-circle\\\\\"/\\\\u003e\\\\u003c/i\\\\u003e\\\\u003c/div\\\\u003e\"},\\r\\n                    { field: \"DisplayName\", title: localization.DisplayName, width: \"50%\"},\\r\\n                    { field: \"BaseId\", title: localization.BaseId, width: \"25%\", hidden: true },\\r\\n                    { field: \"Path\", title: localization.Path, width: \"25%\" },\\r\\n                    { field: \"AssetStatus.Name\", title: localization.Status, width: \"25%\" },\\r\\n                    { title: localization.Actions, width: \"15%\", command: [{ name: \"destroy\", buttonType: \"ImageAndText\", text: localization.Remove, className:\"custom__grid-remove\" }] }\\r\\n                ]\\'>\\r\\n        </div>\\r\\n        <div data-bind=\"visible: view.affectedItemController.isMobileView\">\\r\\n            <div data-bind=\"mobileGrid: HasRelatedWorkItems\" data-template-name=\"mobileGridTemplate\" class=\"mobile-grid-parent\"></div>\\r\\n        </div>\\r\\n        <!--context menu for info icon-->\\r\\n        <ul id=\"tccmenu\" data-role=\"contextmenu\"\\r\\n            data-filter=\".aci-context-menu\"\\r\\n            data-show-on=\"click\"\\r\\n            data-bind=\"events:{select:view.affectedItemController.onContextmenuSelect, activate:view.affectedItemController.onContextmenuActivate}\">\\r\\n        </ul>\\r\\n   </div>\\r\\n</div>';});\n\n","\ndefine('text!forms/popups/multipleObjectPickerPopup/view.html',[],function () { return '<div id=\"MultiObjectPickerWindow\" class=\"cireson-window defined-form task-window\" data-cid=\"MultiObjectPickerWindow\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-5\">\\r\\n                    <div class=\"form-group\">\\r\\n                        <label><%= localization.SearchText %></label>\\r\\n                        <span class=\"k-textbox k-space-right object-picker-search\">\\r\\n                            <input type=\"text\" data-objectpicker-action=\"search\" data-objectpicker-action-value=\"search\" value=\"\" data-cid=\"MultiObjectPickerWindowSearchBox\" />\\r\\n                            <span data-objectpicker-action=\"search\" class=\"fa fa-search text-primary cursor-pointer\"></span>\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\"col-md-5\">\\r\\n                    <div class=\"form-group\">\\r\\n                        <label><%= localization.SearchObjectText %></label>\\r\\n                        <input type=\"text\" data-objectpicker-control=\"comboBox\">\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <label><%= localization.SelectObjects %></label>\\r\\n\\r\\n            <div class=\"objectPicker-container\">\\r\\n                <div class=\"k-widget k-grid k-secondary\" data-objectpicker-control=\"objectPickerGrid\"></div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"objectPicker-actions\">\\r\\n                <button data-objectpicker-action=\"addObject\" class=\"btn btn-primary k-button\" data-cid=\"multiobject-picker-add-object-btn\"><%= localization.Add %></button>\\r\\n                <button data-objectpicker-action=\"removeObject\" class=\"btn btn-danger k-button\" data-cid=\"multiobject-picker-remove-object-btn\"><%= localization.Remove %></button>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"k-widget k-grid k-secondary objectPicker-grid2-container\" data-objectpicker-control=\"objectPickerGrid2\"></div>\\r\\n        </div>\\r\\n        <div class=\"cireson-window--footer window-buttons\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }\"\\r\\n                    data-cid=\"multiobject-picker-ok-btn\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }\"\\r\\n                    data-cid=\"multiobject-picker-cancel-btn\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nmultipleObjectPickerPopup\r\n**/\r\n\r\ndefine('forms/popups/multipleObjectPickerPopup/controller',['require','text!forms/popups/multipleObjectPickerPopup/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/popups/multipleObjectPickerPopup/view.html\");\r\n    var singletonName = \"objectPickerPopup\"; // used to call for singleton\r\n    var definition = {\r\n        template: tpl,\r\n        getPopup: function (classId, columnNames, gridUrl, dataSourceFilter, isConfigItem) {\r\n            var built = _.template(tpl);\r\n            var templateFrag = $(built());\r\n            //var classId = classId;\r\n            //var columnNames = columnNames;\r\n            //var gridUrl = gridUrl;\r\n            // keep popup window as singleton\r\n            // check to see if dom element exists, if so get userPickerPopup object from it\r\n            var ele = $('[datasingleton=\"' + singletonName + '\"]');\r\n            var objectPickerPopup = ele.data(singletonName);\r\n            if (!ele.length) {\r\n                ele = templateFrag;\r\n                $(\"body\").append(ele);\r\n                objectPickerPopup = new ObjectPickerPopup(ele, classId, columnNames, gridUrl, dataSourceFilter, isConfigItem);\r\n                ele.data(singletonName, objectPickerPopup);\r\n            }\r\n            return objectPickerPopup;\r\n\r\n        }\r\n    }\r\n\r\n    /* -- ObjectPickerPopup --\r\n        // params\r\n            targetEle = domEle to create popup with\r\n        // public methods               \r\n            open = function(classId){ // opens popup with this classId }\r\n            close = function(){ // closes popup }\r\n            setSaveCallback = function(callback) sets callback to listen for save event\r\n            // callback(obj){  } returns selected user object\r\n    */\r\n    \r\n    // CONTROL\r\n    var ObjectPickerPopup = function (targetEle, classId, columnNames, gridUrl, dataSourceFilter, isConfigItem) {\r\n        var self = this;\r\n        var html = targetEle;\r\n        var classId = classId;\r\n        var columnNames = columnNames;\r\n        var controllerUrl = gridUrl;\r\n        var filter = dataSourceFilter;\r\n        var isConfigItem = isConfigItem;\r\n        var popup;\r\n        var _vm;\r\n\r\n        // model getters/setters\r\n        // Props return from grid search to match to generic model\r\n        var _textProp = \"DisplayName\";\r\n        var _idProp = \"Id\";\r\n       // var _model = new NameIdModel(_textProp, _idProp);\r\n\r\n        // getter/setters        \r\n        this.setSaveCallback = function (callback) {\r\n            $(self).unbind(\"save\")\r\n                .bind(\"save\", function (e, objects) { callback(objects); });\r\n        }\r\n        this.setCancelCallback = function (callback) {\r\n            $(self).unbind(\"cancel\")\r\n                .bind(\"cancel\", function (e, objects) { callback(objects); });\r\n        }\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n            _vm = kendo.observable({\r\n                save: onSaveClick,\r\n                cancel: onCancelClick\r\n            });\r\n            kendo.bind(html, _vm);\r\n            createPopup();\r\n            bindEvents();\r\n            self.open = openPopup;\r\n            self.close = closePopup;\r\n        }\r\n\r\n        /************************/\r\n        /*** CONTROL EVENTS *****/\r\n        /************************/\r\n\r\n        var bindEvents = function () {\r\n\r\n        }\r\n\r\n        /******************************/\r\n        /*** CONTROL USER ACTIONS *****/\r\n        /******************************/\r\n\r\n        var onSaveClick = function () {\r\n            var selectedRows = popup.grid2.dataSource.data();\r\n            if (selectedRows) {\r\n                $.each(selectedRows, function (i, itm) {\r\n                    if (_.isUndefined(itm.BaseId)) { itm.BaseId = itm.Id;}\r\n                    $(self).trigger(\"save\", itm);\r\n                });\r\n                closePopup();\r\n            }\r\n        }\r\n        var onCancelClick = function () {\r\n            $(self).trigger(\"cancel\");\r\n            closePopup();\r\n        }\r\n\r\n        /*************************/\r\n        /*** CONTROL METHODS *****/\r\n        /*************************/\r\n\r\n        var openPopup = function () {\r\n            popup.actions.clearSearchText();\r\n            popup.gridFunctions.clear();\r\n            popup.kendoWindow.open();\r\n        }\r\n        var closePopup = function () {\r\n            popup.kendoWindow.close();\r\n        }\r\n        var createPopup = function () {\r\n            popup = new Popup();\r\n        }\r\n\r\n        /****************************/\r\n        /*** CONTROL SUBCLASSES *****/\r\n        /****************************/\r\n\r\n        /* -- Popup --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n               \r\n        */\r\n        var Popup = function () {\r\n            var self = this;\r\n            var kendoWindow;\r\n\r\n            var gridUrl = (!_.isUndefined(controllerUrl) && !_.isNull(controllerUrl)) ? controllerUrl : \"/Search/GetSearchObjectsWithEnumObjectByClassId\";\r\n            var comboUrl = \"/Search/GetSearchClasses\";\r\n            var combo;\r\n            var grid;\r\n            var grid2;\r\n            var searchText;\r\n            var gridFunctions;\r\n            var actions;\r\n            var outObjs = new kendo.data.ObservableArray([]);\r\n            // CONSTRUCT\r\n            var __construct = function () {\r\n                createKendoWindow();\r\n                createCombo();\r\n                createGrid();\r\n                createGrid2();\r\n                bindEvents();\r\n                self.kendoWindow = kendoWindow;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            // ACTIONS\r\n           \r\n\r\n            var callback = function () { }\r\n\r\n            var actions = new (function () {\r\n                this.addObject = function () {\r\n                    var selected = grid.select();\r\n                    for (var i = 0, max = selected.length; i < max; i++) {\r\n                        var item = grid.dataItem(selected[i]);\r\n                        if (item) grid2Funcs.addItem(item);\r\n                    }\r\n\r\n                    //var item = grid.dataItem(grid.select());\r\n                    //if (item) grid2Funcs.addItem(item);\r\n                }\r\n                this.removeObject = function () {\r\n                    //grid2.removeRow(grid2.select());\r\n                    var selected = grid2.select();\r\n                    for (var i = 0, max = selected.length; i < max; i++) {\r\n                        grid2.removeRow(selected[i]);\r\n                    }\r\n                }\r\n                this.search = function () {\r\n                    var ele = html.find('[data-objectpicker-action-value=\"search\"]');\r\n                    searchText = (ele) ? ele.val() : \"\";\r\n                    grid.dataSource.read();\r\n\r\n                    //used on RelatesToWorkItem relatinship, exclude current workitem from list\r\n                    if (!_.isUndefined(filter) && !_.isNull(filter)) {\r\n                        grid.dataSource.filter(filter);\r\n                    }\r\n                    grid.dataSource.page(1);\r\n                }\r\n                this.clearSearchText = function () {\r\n                    html.find('[data-objectpicker-action-value=\"search\"]').val('');\r\n                    searchText = \"\";\r\n                }\r\n            })();\r\n            self.actions = actions;\r\n\r\n            var gridFuncs = new (function () {\r\n                this.searchFilter = function () {\r\n                    return { searchFilter: searchText, classId: comboFuncs.getIdValue, columnNames: columnNames };\r\n                }\r\n                this.onChange = function () {\r\n\r\n                }\r\n                this.onDataBound = function () {\r\n                    if (grid.dataSource.totalPages() == 1) {\r\n                        grid.pager.element.hide();\r\n                    }\r\n                }\r\n                this.clear = function () {\r\n                    self.grid.dataSource.data([]);\r\n                    while (outObjs.length != 0) {\r\n                        $.each(self.grid2.items(), function (ii, iitem) {\r\n                            self.grid2.removeRow(iitem)\r\n                        });\r\n                    }\r\n                }\r\n                this.dblClick = function () {\r\n                    // $(this) add to grid 2\r\n                    grid2Funcs.addItem(grid.dataItem($(this)));\r\n                }\r\n                \r\n            })();\r\n            self.gridFunctions = gridFuncs;\r\n\r\n            var grid2Funcs = new (function () {\r\n                this.addItem = function (item) {\r\n                    var a = true;\r\n                    $.each(outObjs, function (i, itm) {\r\n                        if (item.uid == itm.uid) {\r\n                            a = false;\r\n                        }\r\n                    })\r\n                    if (a) outObjs.push(item);\r\n                }\r\n            })();\r\n\r\n            var comboFuncs = new (function () {\r\n                this.getIdValue = function () {\r\n                    var item1 = self.combo.value();\r\n                    return !_.isNull(item1) ? item1 : classId.toLowerCase();\r\n                }\r\n            })();\r\n\r\n            // METHODS\r\n            var createKendoWindow = function () {\r\n                kendoWindow = html.kendoCiresonWindow({\r\n                    title: localization.SelectObject,\r\n                    content: null,\r\n                    width: 750,\r\n                    height: 710,\r\n                    actions: [\"Close\"],\r\n                    activate: function () {\r\n                        self.combo.value(classId.toLowerCase());\r\n                    }\r\n                }).data(\"kendoWindow\");\r\n            }\r\n\r\n\r\n            //combo\r\n            var createCombo = function () {\r\n                self.combo = html.find(\"[data-objectpicker-control='comboBox']\").kendoComboBox({\r\n                    \"dataSource\": {\r\n                        \"transport\": {\r\n                            \"prefix\": \"\",\r\n                            \"read\": {\r\n                                \"url\": comboUrl,\r\n                                \"data\": { classId: classId }\r\n                            }\r\n                        },\r\n                        \"schema\": {\r\n                            \"errors\": \"Errors\"\r\n                        }\r\n                    },\r\n                    \"dataTextField\": \"Item2\",\r\n                    \"autoBind\": true,\r\n                    \"dataValueField\": \"Item1\",\r\n                    \"filter\": \"contains\"\r\n                }).data(\"kendoComboBox\");\r\n            }\r\n\r\n            //first grid\r\n            var createGrid = function () {\r\n                var gc = html.find('[data-objectpicker-control=\"objectPickerGrid\"]');\r\n                var gridSettings = function () {\r\n                    var dataSource = {\r\n                        \"transport\": {\r\n                            \"prefix\": \"\",\r\n                            \"read\": {\r\n                                \"url\": gridUrl,\r\n                                \"data\": gridFuncs.searchFilter,\r\n                                \"type\": \"GET\",\r\n                                \"cache\": false\r\n                            }\r\n                        },\r\n                        \"pageSize\": 5,\r\n                        \"type\": \"aspnetmvc-ajax\",\r\n                        \"schema\": {\r\n                            \"data\": \"Data\",\r\n                            \"total\": \"Total\",\r\n                            \"errors\": \"Errors\",\r\n                        }\r\n                    }\r\n                    var columns = [\r\n                        {\r\n                            \"title\": \"Id\",\r\n                            \"hidden\": true,\r\n                            \"field\": \"Id\",\r\n                            \"filterable\": { },\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.DisplayName,\r\n                            \"attributes\": {\r\n                                \"class\": \"grid-highlight-column\"\r\n                            },\r\n                            \"field\": \"DisplayName\",\r\n                            \"filterable\": { },\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.Class,\r\n                            \"field\": \"FullClassName\",\r\n                            \"hidden\": app.isMobile(),\r\n                            \"filterable\": { },\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.Path,\r\n                            \"field\": \"Path\",\r\n                            \"hidden\": app.isMobile(),\r\n                            \"filterable\": { },\r\n                            \"encoded\": true\r\n                        }\r\n                    ];\r\n                    var userClassId = \"10a7f898-e672-ccf3-8881-360bfb6a8f9a\";\r\n                    var userColumns = [\r\n                       {\r\n                           \"title\": localization.FirstName,\r\n                           \"attributes\": {\r\n                               \"class\": \"grid-highlight-column\"\r\n                           },\r\n                           \"field\": \"FirstName\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       }, {\r\n                           \"title\": localization.LastName,\r\n                           \"attributes\": {\r\n                               \"class\": \"grid-highlight-column\"\r\n                           },\r\n                           \"field\": \"LastName\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       }, {\r\n                           \"title\": localization.Title,\r\n                           \"field\": \"Title\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       }, {\r\n                           \"title\": localization.UserName,\r\n                           \"field\": \"UserName\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       },{\r\n                           \"title\": localization.Domain,\r\n                           \"field\": \"Domain\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       },{\r\n                           \"title\": localization.Company,\r\n                           \"field\": \"Company\",\r\n                           \"filterable\": {},\r\n                           \"encoded\": true\r\n                       }\r\n                    ];\r\n                    return {\r\n                        \"columns\": (classId.toLowerCase() == userClassId) ? userColumns : columns,\r\n                        \"sortable\": {\r\n                            \"mode\": \"multiple\"\r\n                        },\r\n                        \"selectable\": \"Multiple, Row\",\r\n                        \"filterable\": {\r\n                            \"operators\": {\r\n                                \"string\": {\r\n                                    \"startswith\": localization.Startswith,\r\n                                    \"contains\": localization.Contains,\r\n                                    \"eq\": localization.Isequalto,\r\n                                    \"neq\": localization.Isnotequalto\r\n                                }\r\n                            }\r\n                        },\r\n                        \"columnMenu\": false,\r\n                        \"autoBind\": false,\r\n                        \"dataSource\": dataSource,\r\n                        \"pageable\": true\r\n                    }\r\n                }\r\n                grid = gc.kendoGrid(gridSettings()).data(\"kendoGrid\");\r\n                gridFuncs.onDataBound();\r\n                gc.on(\"dblclick\", \"tbody>tr\", gridFuncs.dblClick);\r\n                self.grid = grid;\r\n            }\r\n\r\n            //second grid\r\n            var createGrid2 = function () {\r\n                var gc = html.find('[data-objectpicker-control=\"objectPickerGrid2\"]');\r\n                var dataSource = {\r\n                    \"transport\": {\r\n                        \"prefix\": \"\",\r\n                        \"read\": {\r\n                            \"url\": \"\"\r\n                        }\r\n                    },\r\n                    \"pageSize\": 5,\r\n                    \"type\": \"aspnetmvc-ajax\",\r\n                    data: {\r\n                        Data: outObjs,\r\n                        Total: outObjs.length\r\n                    },\r\n                    \"schema\": {\r\n                        \"data\": \"Data\",\r\n                        \"total\": \"Total\",\r\n                        \"errors\": \"Errors\",\r\n                    }\r\n                }\r\n                var columns = [\r\n                        {\r\n                            \"title\": \"Id\",\r\n                            \"hidden\": true,\r\n                            \"field\": \"Id\",\r\n                            \"filterable\": {},\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.DisplayName,\r\n                            \"attributes\": {\r\n                                \"class\": \"grid-highlight-column\"\r\n                            },\r\n                            \"field\": \"DisplayName\",\r\n                            \"filterable\": {},\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.Class,\r\n                            \"field\": \"FullClassName\",\r\n                            \"hidden\": app.isMobile(),\r\n                            \"filterable\": {},\r\n                            \"encoded\": true\r\n                        }, {\r\n                            \"title\": localization.Path,\r\n                            \"field\": \"Path\",\r\n                            \"hidden\": app.isMobile(),\r\n                            \"filterable\": {},\r\n                            \"encoded\": true\r\n                        }\r\n                ];\r\n                var userClassId = \"10a7f898-e672-ccf3-8881-360bfb6a8f9a\";\r\n                var userColumns = [\r\n                   {\r\n                       \"title\": localization.FirstName,\r\n                       \"attributes\": {\r\n                           \"class\": \"grid-highlight-column\"\r\n                       },\r\n                       \"field\": \"FirstName\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.LastName,\r\n                       \"attributes\": {\r\n                           \"class\": \"grid-highlight-column\"\r\n                       },\r\n                       \"field\": \"LastName\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.Title,\r\n                       \"field\": \"Title\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.UserName,\r\n                       \"field\": \"UserName\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.Domain,\r\n                       \"field\": \"Domain\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }, {\r\n                       \"title\": localization.Company,\r\n                       \"field\": \"Company\",\r\n                       \"filterable\": {},\r\n                       \"encoded\": true\r\n                   }\r\n                ];\r\n                grid2 = gc.kendoGrid({\r\n                    \"columns\": (classId.toLowerCase() == userClassId) ? userColumns : columns,\r\n                    \"pageable\": true,\r\n                    \"dataSource\": dataSource,\r\n                    \"selectable\": \"Multiple, Row\",\r\n                    \"filterable\": {\r\n                        \"operators\": {\r\n                            \"string\": {\r\n                                \"startswith\": localization.Startswith,\r\n                                \"contains\": localization.contains,\r\n                                \"eq\": localization.Isequalto,\r\n                                \"neq\": localization.Isnotequalto\r\n                            }\r\n                        }\r\n                    },\r\n\r\n                    \"columnMenu\": false\r\n                }).data(\"kendoGrid\");\r\n\r\n                self.grid2 = grid2;\r\n            }\r\n\r\n            //bind events\r\n            var bindEvents = function () {\r\n                html.find('[data-objectpicker-action]').each(function (i, ele) {\r\n                    var action = $(this).attr('data-objectpicker-action');\r\n                    var nd = ele.nodeName.toLowerCase();\r\n                    if (!actions[action]) { app.lib.exception(\"The method action.\" + action + \" does not exist\"); }\r\n                    if ((nd == \"input\" && $(this).attr(\"type\").toLowerCase() == \"text\") || nd == \"textarea\") {\r\n                        $(this).bind('enter', actions[action]);\r\n                    } else {\r\n                        $(this).click(actions[action]);\r\n                    }\r\n                });\r\n            }\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /*************/\r\n        /*** END *****/\r\n        /*************/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        __construct();\r\n\r\n\r\n    }\r\n    return definition;\r\n\r\n});\n","/**\naffectedItems\n**/\n\ndefine('forms/predefined/affectedItems/controller',['require','text!forms/predefined/affectedItems/view.html','forms/popups/multipleObjectPickerPopup/controller'],function (require) {\n    var tpl = require(\"text!forms/predefined/affectedItems/view.html\");\n    var objectPickerPopup = require(\"forms/popups/multipleObjectPickerPopup/controller\");\n\n    var definition = {\n        template: tpl,\n        build: function (vm, node, callback) {\n            var built = _.template(tpl);\n            var properties = {\n                Disabled: !_.isUndefined(node.disabled) ? node.disabled : false\n            };\n\n            $.extend(true, properties, node);\n\n            var view = new kendo.View();\n\n            var cur_table = false;\n\n            //use setters and getters if you want vm boundOdj to trigger change\n            if (_.isUndefined(vm.HasRelatedWorkItems)) {\n                vm.set('HasRelatedWorkItems', new kendo.data.ObservableArray([]));\n            }\n            var boundArray = vm.get('HasRelatedWorkItems');\n\n            vm.view.affectedItemController = new kendo.observable({\n                addConfigItem: function (e) {\n                    if (!_.isUndefined(this.selectedConfigItemId)) { addAffectedItem(this.selectedConfigItemId); }\n                },\n                searchConfigItem: function () {\n                    var popupWindow = objectPickerPopup.getPopup(\"62F0BE9F-ECEA-E73C-F00D-3DD78A7422FC\", \"DisplayName,Path,Status\", null, null, true);\n                    popupWindow.setSaveCallback(function (object) {\n                        addAffectedItem(object.BaseId);\n                    });\n                    popupWindow.open();\n                },\n                selectedConfigItemId: \"\",\n                selectedConfigItem: \"\",\n                configItemDataSource: new kendo.data.DataSource({\n                    serverFiltering: true,\n                    transport: {\n                        read: {\n                            url: function (data) {\n                                var configItem = (data.filter.filters.length > 0) ? data.filter.filters[0].value : \"\";\n                                return \"/api/V3/Config/GetAffectedItemsList?itemFilter=\" + configItem;\n                            },\n                            dataType: \"json\"\n                        }\n                    }\n                }),\n                onConfigItemChange: function (e) {\n                    var dataItem = e.sender.dataItem(e.sender.selectedIndex);\n                    if (!_.isUndefined(dataItem))\n                        this.selectedConfigItemId = dataItem.Id;\n                },\n                isUserCIVisible: !_.isUndefined(vm.RequestedWorkItem) ? true : false,\n                selectedUserConfigItemId: \"\",\n                selectedUserConfigItem: \"\",\n                addUserConfigItem: function (e) {\n                    if (!_.isUndefined(this.selectedUserConfigItemId)) { addAffectedItem(this.selectedUserConfigItemId); }\n                },\n                userConfigItemDataSource: new kendo.data.DataSource({\n                    serverFiltering: true,\n                    transport: {\n                        read: {\n                            url: \"/ConfigItems/GetAffectedUserConfigItemsList\",\n                            data: {\n                                affectedUserId: function () {\n                                    return !_.isUndefined(vm.RequestedWorkItem) && !_.isNull(vm.RequestedWorkItem.BaseId) ? vm.RequestedWorkItem.BaseId : \"\";\n                                }\n                            },\n                            dataType: \"json\",\n                            type: \"GET\"\n                        }\n                    }\n                }),\n                onUserConfigItemChange: function (e) {\n                    var dataItem = e.sender.dataItem(e.sender.selectedIndex);\n                    if (!_.isUndefined(dataItem))\n                        this.selectedUserConfigItemId = dataItem.Id;\n                },\n                dataSource: new kendo.data.DataSource({\n                    schema: {\n                        data: \"Data\",\n                        total: \"Total\",\n                        errors: \"Errors\",\n                        model: {\n                            id: \"BaseId\",\n                        }\n                    },\n                    data: {\n                        Data: boundArray,\n                        Total: boundArray.length\n                    }\n                }),\n                showMoreInfo: function (e) {\n                    var detailsPopupEle = $(\"<div>\");\n                    detailsPopupEle.appendTo(\"body\");\n\n                    var detailsPopup = detailsPopupEle.kendoCiresonWindow({\n                        title: \"\",\n                        width: 550,\n                        height: 500,\n                        actions: [\"Close\"]\n                    }).data(\"kendoWindow\");\n\n                    var baseId = null;\n                    var displayName = \"\";\n                    if (e.data == null && e.BaseId != null) {\n                        baseId = e.BaseId;\n                        displayName = e.DisplayName;\n                    } else {\n                        baseId = e.data.BaseId;\n                        displayName = e.data.DisplayName;\n                    }\n\n                    detailsPopup.refresh({\n                        url: \"/Search/ObjectViewer\",\n                        data: { id: baseId }\n                    });\n                    detailsPopupEle.find(\".k-content\").html(\"<div style='padding: 55px'>Loading...</div>\");\n                    detailsPopup.title(displayName).center().open();\n                },\n                onDataBinding: function (e) {\n                    cur_table = e.sender.table;\n                    _.each(boundArray, function (item) {\n                        item.AssetStatus = (!_.isUndefined(item.AssetStatus) && !_.isNull(item.AssetStatus))? item.AssetStatus : { Id: null, Name: null };\n                        item.Status = (!_.isUndefined(item.Status) && !_.isNull(item.Status)) ? item.Status : { Id: null, Name: null };\n                        item.Hidden = properties.Disabled;\n                    });\n                },\n                isDesktopView: !app.isMobileDevice(),\n                isMobileView: app.isMobileDevice(),\n                isWindowsComputer: false,\n                isConfigItemWindowsComputer: function (id) {\n                    $.ajax({\r\n                        type: \"GET\",\n                        async: false,\n                        url: \"/ConfigItems/IsComputer\",\n                        data: { objectId: id },\n                        success: function (result) {\r\n                            vm.view.affectedItemController.isWindowsComputer = (result.toLowerCase() === \"true\");\r\n                        }\r\n                    });\n                },\n                isUser: false,\n                isConfigItemUser: function (id) {\n                    /*$.ajax({\r\n                        type: \"GET\",\n                        async: false,\n                        url: \"/ConfigItems/IsUser\",\n                        data: { objectId: id },\n                        success: function (result) {\r\n                            vm.view.affectedItemController.isUser = (result.toLowerCase() === \"true\");\r\n                        }\r\n                    });\n\t\t\t\t\t*/\n\t\t\t\t\t/*\n\t\t\t\t\t$.ajax({\n                        type: \"GET\",\n                        async: false,\n                        url: \"/api/v3/Dashboard/GetDashboardDataById/\",\n                        data: {\n\t\t\t\t\t\t\tqueryId: '7b608bb5-4db0-b770-9e63-27cfb647b157',\n\t\t\t\t\t\t\tuserObjectId: id\n\t\t\t\t\t\t},\n                        success: function (result) {\n                            vm.view.affectedItemController.isUser = (result[0].isUser.toLowerCase() === \"true\");\n                        }\n                    });\n\t\t\t\t\t*/\n\t\t\t\t\t$.ajax({\n                        type: \"GET\",\n                        async: false,\n                        url: \"/Search/GetObjectProperties/\",\n                        data: {\n\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t},\n                        success: function (result) {\n                            vm.view.affectedItemController.isUser = (result.IsUser === true);\n                        }\n                    });\n                },\n                isMoreInfo: function (viewModel) {\n                    var bSlideOut = vm.view.affectedItemController.isSlideOut(viewModel);\n                    return !bSlideOut;\n                },\n                isSlideOut: function (viewModel) {\n                    /*\n\t\t\t\t\tvm.view.affectedItemController.isConfigItemWindowsComputer(viewModel.BaseId);\n                    vm.view.affectedItemController.isConfigItemUser(viewModel.BaseId);\n                    \n                    var bIsWindowsComputer = vm.view.affectedItemController.isWindowsComputer;\n                    var bIsUser = vm.view.affectedItemController.isUser;\n\t\t\t\t\t*/\n\t\t\t\t\tvm.view.affectedItemController.isConfigItemUser(viewModel.BaseId);\n\t\t\t\t\tvar bIsUser = vm.view.affectedItemController.isUser;\n\t\t\t\t\t\n\t\t\t\t\tvm.view.affectedItemController.isWindowsComputer = false;\n\t\t\t\t\tvar bIsWindowsComputer = false;\n\t\t\t\t\t\n\t\t\t\t\tif (bIsUser !== true) {\n\t\t\t\t\t\tvm.view.affectedItemController.isConfigItemWindowsComputer(viewModel.BaseId);\n\t\t\t\t\t\tbIsWindowsComputer = vm.view.affectedItemController.isWindowsComputer;\n\t\t\t\t\t}\n\n                    var hasControlCenterURL = !_.isNull(session.consoleSetting.TrueControlCenterURL) && (session.consoleSetting.TrueControlCenterURL != \"\");\n\n                    return ((bIsWindowsComputer || bIsUser) && hasControlCenterURL) ? true : false;\n                },\n                showTCCInfo: function (dataItem) {\n                    var src = session.consoleSetting.TrueControlCenterURL;\n                    var bIsWindowsComputer = vm.view.affectedItemController.isWindowsComputer;\n                    var bIsUser = vm.view.affectedItemController.isUser;\n                    var tooltip = localization.ComputerManagement;\n\n                    if (bIsWindowsComputer) {\r\n                        src = app.slideOutNav.getTCCSourceURL(dataItem, \"computer\");\r\n                    } else if (bIsUser) {\r\n                        src = app.slideOutNav.getTCCSourceURL(dataItem, \"user\");\n                        tooltip = localization.UserManagement;\r\n                    }\n\n                    var options = {\r\n                        url: src,\r\n                        tooltip: tooltip\r\n                    }\n                    app.slideOutNav.show(options);\n                },\n                onContextmenuSelect: function (e) {\n                    var type = e.item.attributes[\"custom\"].value;\n                    var baseId = e.target.attributes[\"data-base-id\"].value;\n                    var dataItem = _.find(e.data.HasRelatedWorkItems, function (item) { return item.BaseId == baseId; });\n\n                    (type == \"slideout\") ? vm.view.affectedItemController.showTCCInfo(dataItem) : vm.view.affectedItemController.showMoreInfo(dataItem);\n                },\n                onContextmenuActivate: function (e) {\n                    var baseId = e.target.attributes[\"data-base-id\"].value;\n                    vm.view.affectedItemController.isConfigItemWindowsComputer(baseId);\n                    vm.view.affectedItemController.isConfigItemUser(baseId);\n\n                    var managementTitle = localization.UserManagement;\n                    if (vm.view.affectedItemController.isWindowsComputer) {\n                        managementTitle = localization.ComputerManagement;\n                    }\n\n                    var menuItems = [{\n                        text: managementTitle,\n                        imageUrl: \"/Content/Images/Icons/Other/control-center-launcher.png\",\n                        imageAttr: {\n                            height: '16px',\n                            width: '16px'\n                        },\n                        attr: {\n                            custom: 'slideout' //custom attribute holds the link type\n                        }\n                    },\n                     {\n                         text: \"<i class='fa fa-info-circle cursor-pointer'></i>\" + localization.AdditionalDetails,\n                         encoded: false,\n                         attr: {\n                             custom: 'info' //custom attribute holds the link type\n                         }\n                     }];\n\n                    var contextmenu = $(\"#tccmenu\").data(\"kendoContextMenu\");\n                    contextmenu.setOptions({\n                        dataSource: menuItems\n                    });\n                }\n\n            });\n\n            var grid = vm.view.affectedItemController;\n\n            grid.dataSource.originalFilter = grid.dataSource.filter;\n\n            // Replace the original filter function.\n            grid.dataSource.filter = function () {\n\n                // Call the original filter function.\n                var result = grid.dataSource.originalFilter.apply(this, arguments);\n\n                // If a column is about to be filtered, then raise a new \"filtering\" event.\n                if (arguments.length > 0) {\n                    this.trigger(\"filterApplied\", arguments);\n                }\n\n                return result;\n            }\n\n            grid.dataSource.bind(\"filterApplied\", function () {\n\n                $.each($(cur_table).find(\"th a.k-header-column-menu i\"), function () {\n                    $(this).remove();\n                });\n\n                if (grid.dataSource.filter()) {\n\n                    var filters = grid.dataSource.filter().filters || [];\n                    var dsFilters = [];\n                    for (var i in filters) {\n                        if (filters[i].filters) {\n                            var innerFilters = filters[i].filters;\n                            for (var x in innerFilters) {\n                                dsFilters.push(innerFilters[x]);\n                            }\n                        } else {\n                            dsFilters.push(filters[i]);\n                        }\n                    }\n\n                    dsFilters = _.uniq(dsFilters, function (el) { return el.field; });\n\n                    for (var i in dsFilters) {\n                        $(cur_table).find(\"th[data-field=\" + dsFilters[i].field + \"] a.k-header-column-menu\").append(\"<i class=\\\"fa fa-filter\\\"></i>\");\n                    }\n\n                }\n            });\n\n            var templateFrag = built(properties);\n            view = new kendo.View(templateFrag, { wrap: true, model: vm.view.affectedtemController });\n            callback(templateFrag);\n            \n            if (vm.view.affectedItemController.isUserCIVisible) {\n                vm.RequestedWorkItem.bind(\"change\", function (e) {\n                    vm.view.affectedItemController.userConfigItemDataSource.read();\n                });\n            }\n\n            //more functions\n            var isDuplicate = function (idToAdd) {\n                var n = false;\n                $.each(boundArray, function (i, item) {\n                    if (item.BaseId == idToAdd) {\n                        n = true;\n                    }\n                });\n                return n;\n            }\n\n            var addAffectedItem = function (baseId) {\n                if (isDuplicate(baseId)) { return; }\n                $.getJSON('/ConfigItems/GetAffectedItem', { id: baseId }, function (json) {\n                    var item = {\n                        BaseId: baseId,\n                        DisplayName: json.DisplayName,\n                        Path: json.Path,\n                        AssetStatus: !_.isUndefined(json.AssetStatus) ? (json.AssetStatus != null) ? json.AssetStatus : \"\" : { Name: !_.isUndefined(json.AssetStatus) ? json.AssetStatus : \"\" },\n                        Status: !_.isUndefined(json.Status) ? (json.Status != null) ? json.Status : \"\" : { Name: !_.isUndefined(json.Status) ? json.Status : \"\" }\n                    };\n                    boundArray.push(item);\n                });\n            }\n        }\n    }\n\n    return definition;\n\n});\n","\ndefine('text!forms/predefined/relatedItems/view.html',[],function () { return '<div id=\"relatedItemTemplate\" data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileGridTemplate\" class=\"\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">#: DisplayName #</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <p>#: (AssetStatus.Name!=null) ? AssetStatus.Name : \"\" #</p>\\r\\n                <p># if (AssetStatus.Name!=null && AssetStatus.Name!=\"\") { # &middot # } # </p>\\r\\n                <p>#: (Path!=null ) ? Path : \"\" # </p>\\r\\n                <p># if (Path!=null && Path!=\"\") { # &middot # } # </p>\\r\\n                \\r\\n            </div>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <a class=\"k-delete-button\">#: localization.Remove #</a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12 relateditems-grid\">\\r\\n        <div class=\"row\">\\r\\n            <div class=\"col-md-6\">\\r\\n                <div class=\"form-group\">\\r\\n                    <label class=\"control-label\"><%= localization.Configurationitem %></label>\\r\\n                    <div class=\"two-action-input-group\">\\r\\n                        <input data-role=\"combobox\" class=\"search-combo\"\\r\\n                               data-placeholder=\"<%= localization.ChooseOne %>\"\\r\\n                               data-value-primitive=\"true\"\\r\\n                               data-text-field=\"Text\"\\r\\n                               data-value-field=\"Value\"\\r\\n                               data-filter=\"contains\"\\r\\n                               data-auto-bind=\"false\"\\r\\n                               data-bind=\"value: view.relatedItemController.selectedConfigItem, source: view.relatedItemController.configItemDataSource, events:{change:view.relatedItemController.onConfigItemChange }\"\\r\\n                               <% if ( Disabled ){ %> disabled <% } %>/>\\r\\n\\r\\n                        <span data-bind=\"events:{click: view.relatedItemController.searchConfigItem}\"\\r\\n                              data-cid=\"relatedItemsSearchIcon\"\\r\\n                          <% if ( Disabled ){ %> disabled class=\"search search-disabled\" <% } else{ %> class=\"search\" <% } %>\\r\\n                          >\\r\\n                        <i class=\"fa fa-search\"></i>\\r\\n                    </span>\\r\\n                        <button data-role=\"button\" class=\"search-button two-action-input-group__primary-action\"\\r\\n                                data-bind=\"events:{click: view.relatedItemController.addConfigItem}\"\\r\\n                                data-cid=\"relatedItemSearchAddBbtn\"\\r\\n                            <% if ( Disabled ){ %> disabled <% } %>\\r\\n                            >\\r\\n                        <%= localization.Add %>\\r\\n                    </button>\\r\\n                    </div>\\r\\n                 </div>\\r\\n            </div>\\r\\n            <div class=\"col-md-6\">\\r\\n                <div class=\"form-group affected-user-item-search\" data-bind=\"visible: view.relatedItemController.isUserCIVisible\">\\r\\n                    <label class=\"control-label\"><%= localization.AffectedUserItems %></label>\\r\\n                    <div class=\"two-action-input-group\">\\r\\n                        <input data-role=\"combobox\" class=\"search-combo\"\\r\\n                               data-placeholder=\"<%= localization.ChooseOne %>\"\\r\\n                               data-value-primitive=\"true\"\\r\\n                               data-text-field=\"Text\"\\r\\n                               data-value-field=\"Value\"\\r\\n                               data-filter=\"contains\"\\r\\n                               data-auto-bind=\"false\"\\r\\n                               data-bind=\"value: view.relatedItemController.selectedUserConfigItem, source: view.relatedItemController.userConfigItemDataSource, events:{change:view.relatedItemController.onUserConfigItemChange }\"\\r\\n                               data-cid=\"affectedItemsUserItemBox\"\\r\\n                               <% if ( Disabled ){ %> disabled <% } %> />\\r\\n\\r\\n                        <button class=\"two-action-input-group__primary-action\"\\r\\n                                data-role=\"button\"\\r\\n                                data-bind=\"events:{click: view.relatedItemController.addUserConfigItem}\"\\r\\n                            <% if ( Disabled ){ %> disabled <% } %>\\r\\n                            >\\r\\n                        <%= localization.Add %>\\r\\n                    </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div data-role=\"grid\"\\r\\n             data-bind=\"visible: view.relatedItemController.isDesktopView, source: view.relatedItemController.dataSource, events:{dataBinding: view.relatedItemController.onDataBinding}\"\\r\\n             data-selectable=\"false\"\\r\\n             data-sortable=\"true\"\\r\\n             data-filterable=\"true\"\\r\\n             data-scrollable=\"false\"\\r\\n             data-column-menu=\"true\"\\r\\n             data-pageable=\"false\"\\r\\n             data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n             data-columns=\\'[\\r\\n                    { title: \"\", width: \"1%\", template: \"\\\\u003cdiv data-base-id=\\\\\"#=BaseId#\\\\\" class=\\\\\"ci-context-menu open-modal pull-right\\\\\" data-bind=\\\\\"visible: view.relatedItemController.isSlideOut\\\\\"\\\\u003e\\\\u003ci class=\\\\\"fa fa-info-circle\\\\\"\\\\u003e\\\\u003c/i\\\\u003e\\\\u003c/div\\\\u003e\\\\u003cdiv class=\\\\\"open-modal pull-right\\\\\" data-bind=\\\\\"visible: view.relatedItemController.isMoreInfo, events:{click:view.relatedItemController.showMoreInfo }\\\\\"\\\\u003e\\\\u003ci class=\\\\\"fa fa-info-circle\\\\\"/\\\\u003e\\\\u003c/i\\\\u003e\\\\u003c/div\\\\u003e\"},\\r\\n                    { field: \"DisplayName\", title: localization.DisplayName, width: \"50%\"},\\r\\n                    { field: \"BaseId\", title: localization.BaseId, width: \"25%\", hidden: true },\\r\\n                    { field: \"Path\", title: localization.Path, width: \"25%\" },\\r\\n                    { field: \"AssetStatus.Name\", title: localization.Status, width: \"25%\" },\\r\\n                    { title: localization.Actions, width: \"15%\", command: [{ name: \"destroy\", buttonType: \"ImageAndText\", text: localization.Remove, className:\"custom__grid-remove\" }] }\\r\\n                ]\\'>\\r\\n        </div>\\r\\n        <div data-bind=\"visible: view.relatedItemController.isMobileView\">\\r\\n            <div data-bind=\"mobileGrid: RelatesToConfigItem\" data-template-name=\"mobileGridTemplate\" class=\"mobile-grid-parent\"></div>\\r\\n        </div>\\r\\n        <!--context menu for info icon-->\\r\\n        <ul id=\"tccmenu-related-ci\" data-role=\"contextmenu\" \\r\\n            data-filter=\".ci-context-menu\"\\r\\n            data-show-on=\"click\"\\r\\n            data-bind=\"events:{select:view.relatedItemController.onContextmenuSelect, activate:view.relatedItemController.onContextmenuActivate}\">\\r\\n        </ul>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\nrelatedItems\n**/\n\ndefine('forms/predefined/relatedItems/controller',['require','text!forms/predefined/relatedItems/view.html','forms/popups/multipleObjectPickerPopup/controller'],function (require) {\n    var tpl = require(\"text!forms/predefined/relatedItems/view.html\");\n    var objectPickerPopup = require(\"forms/popups/multipleObjectPickerPopup/controller\");\n\n    var definition = {\n        template: tpl,\n        build: function (vm, node, callback) {\n            var built = _.template(tpl);\n            var properties = {\n                Disabled: !_.isUndefined(node.disabled) ? node.disabled : false\n            };\n\n            $.extend(true, properties, node);\n\n            var view = new kendo.View();\n\n            var cur_table = false;\n\n            //use setters and getters if you want vm boundOdj to trigger change\n            if (_.isUndefined(vm.RelatesToConfigItem)) {\n                vm.set('RelatesToConfigItem', new kendo.data.ObservableArray([]));\n            }\n            var boundArray = vm.get('RelatesToConfigItem');\n\n            vm.view.relatedItemController = new kendo.observable({\n                addConfigItem: function (e) {\n                    if (!_.isUndefined(this.selectedConfigItemId)) {\n                        addAffectedItem(this.selectedConfigItemId);\n                    }\n                },\n                searchConfigItem: function() {\n                    var popupWindow = objectPickerPopup.getPopup(\"62F0BE9F-ECEA-E73C-F00D-3DD78A7422FC\", \"DisplayName,Path,Status\", null, null, true);\n                    popupWindow.setSaveCallback(function(object) {\n                        addAffectedItem(object.BaseId);\n                    });\n                    popupWindow.open();\n                },\n                selectedConfigItemId: \"\",\n                selectedConfigItem: \"\",\n                configItemDataSource: new kendo.data.DataSource({\n                    serverFiltering: true,\n                    transport: {\n                        read: {\n                            url: function (data) {\n                                var configItem = (data.filter.filters.length > 0) ? data.filter.filters[0].value : \"\";\n                                return \"/api/V3/Config/GetAffectedItemsList?itemFilter=\" + configItem;\n                            },\n                            dataType: \"json\"\n                        }\n                    }\n                }),\n                onConfigItemChange: function(e) {\n                    var dataItem = e.sender.dataItem(e.sender.selectedIndex);\n                    if (!_.isUndefined(dataItem))\n                        this.selectedConfigItemId = dataItem.Id;\n                },\n                isUserCIVisible: !_.isUndefined(vm.RequestedWorkItem) ? true : false,\n                selectedUserConfigItemId: \"\",\n                selectedUserConfigItem: \"\",\n                addUserConfigItem: function(e) {\n                    if (!_.isUndefined(this.selectedUserConfigItemId)) {\n                        addAffectedItem(this.selectedUserConfigItemId);\n                    }\n                },\n                userConfigItemDataSource: new kendo.data.DataSource({\n                    serverFiltering: true,\n                    transport: {\n                        read: {\n                            url: \"/ConfigItems/GetAffectedUserConfigItemsList\",\n                            data: { affectedUserId: function() { return !_.isUndefined(vm.RequestedWorkItem) && !_.isNull(vm.RequestedWorkItem.BaseId) ? vm.RequestedWorkItem.BaseId : \"\" } },\n                            dataType: \"json\",\n                            type: \"GET\",\n                        }\n                    }\n                }),\n                onUserConfigItemChange: function(e) {\n                    var dataItem = e.sender.dataItem(e.sender.selectedIndex);\n                    if (!_.isUndefined(dataItem))\n                        this.selectedUserConfigItemId = dataItem.Id;\n                },\n                dataSource: new kendo.data.DataSource({\n                    schema: {\n                        data: \"Data\",\n                        total: \"Total\",\n                        errors: \"Errors\",\n                        model: {\n                            id: \"BaseId\",\n                        }\n                    },\n                    data: {\n                        Data: boundArray,\n                        Total: boundArray.length\n                    }\n                }),\n                showMoreInfo: function (e) {\n                    var detailsPopupEle = $(\"<div>\");\n                    detailsPopupEle.appendTo(\"body\");\n\n                    var detailsPopup = detailsPopupEle.kendoCiresonWindow({\n                        title: \"\",\n                        width: 550,\n                        height: 500,\n                        actions: [\"Close\"]\n                    }).data(\"kendoWindow\");\n\n                    var baseId = null;\n                    var displayName = \"\";\n                    if (e.data == null && e.BaseId != null) {\n                        baseId = e.BaseId;\n                        displayName = e.DisplayName;\n                    } else {\n                        baseId = e.data.BaseId;\n                        displayName = e.data.DisplayName;\n                    }\n\n                    detailsPopup.refresh({\n                        url: \"/Search/ObjectViewer\",\n                        data: { id: baseId }\n                    });\n                    detailsPopupEle.find(\".k-content\").html(\"<div style='padding: 55px'>Loading...</div>\");\n                    detailsPopup.title(displayName).center().open();\n                },\n                onDataBinding: function (e) {\n                    cur_table = e.sender.table;\n                    _.each(boundArray, function(item) {\n                        item.AssetStatus = !_.isUndefined(item.AssetStatus) ? item.AssetStatus : { Id: null, Name: null };\n                        item.Status = !_.isUndefined(item.Status) ? item.Status : { Id: null, Name: null };\n                    });\n                },\n                isDesktopView: !app.isMobileDevice(),\n                isMobileView: app.isMobileDevice(),\n                isEnabled: !properties.Disabled,\n                isWindowsComputer: false,\n                isConfigItemWindowsComputer: function (id) {\n                    $.ajax({\r\n                        type: \"GET\",\n                        async: false,\n                        url: \"/ConfigItems/IsComputer\",\n                        data: { objectId: id },\n                        success: function (result) {\r\n                            vm.view.relatedItemController.isWindowsComputer = (result.toLowerCase() === \"true\");\r\n                        }\r\n                    });\n                },\n                isUser: false,\n                isConfigItemUser: function (id) {\n                    /*\n\t\t\t\t\t$.ajax({\r\n                        type: \"GET\",\n                        async: false,\n                        url: \"/ConfigItems/IsUser\",\n                        data: { objectId: id },\n                        success: function (result) {\r\n                            vm.view.relatedItemController.isUser = (result.toLowerCase() === \"true\");\r\n                        }\r\n                    });\n\t\t\t\t\t*/\n\t\t\t\t\t/*\n\t\t\t\t\t$.ajax({\n                        type: \"GET\",\n                        async: false,\n                        url: \"/api/v3/Dashboard/GetDashboardDataById/\",\n                        data: {\n\t\t\t\t\t\t\tqueryId: '7b608bb5-4db0-b770-9e63-27cfb647b157',\n\t\t\t\t\t\t\tuserObjectId: id\n\t\t\t\t\t\t},\n                        success: function (result) {\n                            vm.view.relatedItemController.isUser = (result[0].isUser.toLowerCase() === \"true\");\n                        }\n                    });\n\t\t\t\t\t*/\n\t\t\t\t\t$.ajax({\n                        type: \"GET\",\n                        async: false,\n                        url: \"/Search/GetObjectProperties/\",\n                        data: {\n\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t},\n                        success: function (result) {\n                            vm.view.relatedItemController.isUser = (result.IsUser === true);\n                        }\n                    });\n                },\n                isMoreInfo: function (viewModel) {\n                    var bSlideOut = vm.view.relatedItemController.isSlideOut(viewModel);\n                    return !bSlideOut;\n                },\n                isSlideOut: function (viewModel) {\n                    /*\n\t\t\t\t\tvm.view.relatedItemController.isConfigItemWindowsComputer(viewModel.BaseId);\n                    vm.view.relatedItemController.isConfigItemUser(viewModel.BaseId);\n                    \n                    var bIsWindowsComputer = vm.view.relatedItemController.isWindowsComputer;\n                    var bIsUser = vm.view.relatedItemController.isUser;\n\t\t\t\t\t*/\n\t\t\t\t\tvm.view.relatedItemController.isConfigItemUser(viewModel.BaseId);\n\t\t\t\t\tvar bIsUser = vm.view.relatedItemController.isUser;\n\t\t\t\t\t\n\t\t\t\t\tvm.view.relatedItemController.isWindowsComputer = false;\n\t\t\t\t\tvar bIsWindowsComputer = false;\n\t\t\t\t\t\n\t\t\t\t\tif (bIsUser !== true) {\n\t\t\t\t\t\tvm.view.relatedItemController.isConfigItemWindowsComputer(viewModel.BaseId);\n\t\t\t\t\t\tbIsWindowsComputer = vm.view.relatedItemController.isWindowsComputer;\n\t\t\t\t\t}\n\n                    var hasControlCenterURL = !_.isNull(session.consoleSetting.TrueControlCenterURL) && (session.consoleSetting.TrueControlCenterURL != \"\");\n                    \n                    return ((bIsWindowsComputer || bIsUser) && hasControlCenterURL) ? true : false;\n                },\n                showTCCInfo: function (dataItem) {\n                    var src = session.consoleSetting.TrueControlCenterURL;\n                    var bIsWindowsComputer = vm.view.relatedItemController.isWindowsComputer;\n                    var bIsUser = vm.view.relatedItemController.isUser;\n                    var tooltip = localization.ComputerManagement;\n\n                    if (bIsWindowsComputer) {\n                        src = app.slideOutNav.getTCCSourceURL(dataItem, \"computer\");\n                    } else if (bIsUser) {\n                        src = app.slideOutNav.getTCCSourceURL(dataItem, \"user\");\n                        tooltip = localization.UserManagement;\n                    }\n\n                    var options = {\r\n                        url: src,\r\n                        tooltip: tooltip\r\n                    }\n                    app.slideOutNav.show(options);\n                },\n                onContextmenuSelect: function (e) {\n                    var type = e.item.attributes[\"custom\"].value;\n                    var baseId = e.target.attributes[\"data-base-id\"].value;\n                    var dataItem =_.find(e.data.RelatesToConfigItem, function (item) { return item.BaseId==baseId; });\n                   \n                    (type == \"slideout\") ? vm.view.relatedItemController.showTCCInfo(dataItem) : vm.view.relatedItemController.showMoreInfo(dataItem);\n                },\n                onContextmenuActivate: function (e) {\n                    var baseId = e.target.attributes[\"data-base-id\"].value;\n                    vm.view.relatedItemController.isConfigItemWindowsComputer(baseId);\n                    vm.view.relatedItemController.isConfigItemUser(baseId);\n                    \n                    var managementTitle = localization.UserManagement;\n                    if (vm.view.relatedItemController.isWindowsComputer) {\n                        managementTitle = localization.ComputerManagement;\n                    }\n\n                    var menuItems = [{\n                        text: managementTitle,\n                        imageUrl: \"/Content/Images/Icons/Other/control-center-launcher.png\",\n                        imageAttr: {\n                            height: '16px',\n                            width: '16px'\n                        },\n                        attr: {\n                            custom: 'slideout' //custom attribute holds the link type\n                        }\n                     },\n                     {\n                         text: \"<i class='fa fa-info-circle cursor-pointer'></i>\" + localization.AdditionalDetails,\n                        encoded: false,\n                        attr: {\n                            custom: 'info' //custom attribute holds the link type\n                        }\n                     }];\n\n                    var contextmenu = $(\"#tccmenu-related-ci\").data(\"kendoContextMenu\");\n                    contextmenu.setOptions({\n                        dataSource: menuItems\n                    });\n                }\n            });\n\n            var grid = vm.view.relatedItemController;\n\n            grid.dataSource.originalFilter = grid.dataSource.filter;\n\n            // Replace the original filter function.\n            grid.dataSource.filter = function () {\n                    \n                // Call the original filter function.\n                var result = grid.dataSource.originalFilter.apply(this, arguments);\n\n                // If a column is about to be filtered, then raise a new \"filtering\" event.\n                if (arguments.length > 0) {\n                    this.trigger(\"filterApplied\", arguments);\n                }\n\n                return result;\n            }\n\n            grid.dataSource.bind(\"filterApplied\", function (e) {\n\n                $.each($(cur_table).find(\"th a.k-header-column-menu i\"), function () {\n                    $(this).remove();\n                });\n\n                if (grid.dataSource.filter()) {\n\n                    var filters = grid.dataSource.filter().filters || [];\n                    var dsFilters = [];\n                    for (var i in filters) {\n                        if (filters[i].filters) {\n                            var innerFilters = filters[i].filters;\n                            for (var x in innerFilters) {\n                                dsFilters.push(innerFilters[x]);\n                            }\n                        } else {\n                            dsFilters.push(filters[i]);\n                        }\n                    }\n\n                    dsFilters = _.uniq(dsFilters, function(el) { return el.field; });\n\n                    for (var i in dsFilters) {\n                        $(cur_table).find(\"th[data-field=\" + dsFilters[i].field + \"] a.k-header-column-menu\").append(\"<i class=\\\"fa fa-filter\\\"></i>\");\n                    }\n\n                }\n            });\n            \n            var templateFrag = built(properties);\n            view = new kendo.View(templateFrag, { wrap: true, model: vm.view.relatedItemController });\n            callback(templateFrag);\n\n\n            if (properties.Disabled) {\n                var searchButton = $(view.content).find(\".search\");\n                searchButton.addClass(\"search-disabled\");\n            }\n\n            if (vm.view.relatedItemController.isUserCIVisible) {\n                vm.RequestedWorkItem.bind(\"change\", function (e) {\n                    vm.view.relatedItemController.userConfigItemDataSource.read();\n                });\n            }\n\n            //more functions\n            var isDuplicate = function (idToAdd) {\n                var n = false;\n                $.each(boundArray, function (i, item) {\n                    if (item.BaseId == idToAdd) {\n                        n = true;\n                    }\n                });\n                return n;\n            }\n\n            var addAffectedItem = function (baseId) {\n                if (isDuplicate(baseId)) { return; }\n                $.getJSON('/ConfigItems/GetAffectedItem', { id: baseId }, function (json) {\n                    var item = {\n                        BaseId: baseId,\n                        DisplayName: json.DisplayName,\n                        Path: json.Path,\n                        AssetStatus: !_.isUndefined(json.AssetStatus) ? (json.AssetStatus != null) ? json.AssetStatus : \"\" : { Name: !_.isUndefined(json.AssetStatus) ? json.AssetStatus : \"\" },\n                        Status: !_.isUndefined(json.Status) ? (json.Status != null) ? json.Status : \"\" : { Name: !_.isUndefined(json.Status) ? json.Status : \"\" }\n                    };\n                    boundArray.push(item);\n                });\n            }\n        }\n    }\n\n    return definition;\n\n});\n","\ndefine('text!forms/predefined/childWorkItems/view.html',[],function () { return '<div data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileGridTemplate\" class=\"mobile-grid\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">${Id}: ${Title}</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <p>#: localizationHelper.localize(\"Status\") #: #: Status # </p>\\r\\n                <p>#: localizationHelper.localize(\"LastModified\") #: #: kendo.toString(kendo.parseDate(LastModified), \"g\") # </p>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12 file-attachments\"\\r\\n         data-control=\"childWorkItems\"\\r\\n         data-control-bind=\"ChildWorkItem\"\\r\\n         data-control-show=\"IsParent\"\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>>\\r\\n\\r\\n    <div >\\r\\n        <button class=\"btn btn-primary\" data-role=\"button\" data-click=\"addClick\"><%= localization.Add %> </button>\\r\\n    </div>\\r\\n    \\r\\n    <% if ( IsMobileView == false ){ %>\\r\\n        <div data-control-grid=\"objectGrid\" class=\"inline-spacing\"></div>\\r\\n    <% } %>\\r\\n    \\r\\n    <% if ( IsMobileView ){ %>\\r\\n        <div data-template-name=\"mobileGridTemplate\" class=\"mobile-grid-parent\" data-bind=\"mobileGrid: ChildWorkItem\"></div>\\r\\n    <% } %>\\r\\n    \\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nchildWorkItem\r\n**/\r\n\r\ndefine('forms/predefined/childWorkItems/controller',['require','text!forms/predefined/childWorkItems/view.html','forms/popups/multipleObjectPickerPopup/controller'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/childWorkItems/view.html\");\r\n    var objectPickerPopup = require(\"forms/popups/multipleObjectPickerPopup/controller\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            boundObj = vm;\r\n            \r\n            var properties = {\r\n                Disabled: false,\r\n                PropertyName: \"ChildWorkItem\",\r\n                ClassId: (vm.ClassName === \"System.WorkItem.ReleaseRecord\") ? \"d02dc3b6-d709-46f8-cb72-452fa5e082b8\" : \"a604b942-4c7b-2fb2-28dc-61dc6f465c68\",\r\n                PropertyToDisplay: \"Id,Title,Status,LastModified\",\r\n                ControllerUrl: \"/Search/GetChildWorkItems\",\r\n                IsMobileView: app.isMobileDevice()\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n            var built = _.template(tpl);\r\n            var templateFrag = $(built(properties));\r\n            var popupWindow = objectPickerPopup.getPopup(properties.ClassId, properties.PropertyToDisplay, properties.ControllerUrl);\r\n            var objectPicker = new Control(templateFrag.find(\"[data-control='childWorkItems']\"), boundObj, properties.PropertyName, properties, popupWindow);\r\n            var showProp = templateFrag.find(\"[data-control='childWorkItems']\").attr(\"data-control-show\");\r\n            templateFrag.find(\"[data-control='childWorkItems']\").attr(\"data-control\", \"childWorkItemsBound\");\r\n            callback(templateFrag);\r\n\r\n            // Determine if group should be visible (IsParent)\r\n            if (boundObj[showProp] === false || _.isNull(boundObj[showProp])) {\r\n                templateFrag.parents(\".row\").hide();\r\n            }\r\n           \r\n        }\r\n    }\r\n\r\n    var Control = function (targetEle, boundObj, name, properties, popupWindow) {\r\n\r\n        //use setters and getters if you want vm boundOdj to trigger change\r\n        if (_.isUndefined(boundObj[name])) {\r\n            boundObj.set(name, new kendo.data.ObservableArray([]));\r\n        }\r\n        var boundArray = boundObj.get(name);\r\n\r\n        var __construct = function () {\r\n            bindButtonEvents();\r\n            bindEvents();\r\n            createGrid();\r\n        }\r\n\r\n        var bindEvents = function () {\r\n            \r\n        }\r\n\r\n        var bindButtonEvents = function () {\r\n            var actions = {\r\n                addClick: function () {\r\n                    popupWindow.setSaveCallback(function (object) {\r\n                        if (isDuplicate(object.BaseId)) { return; }\r\n                        boundArray.push(object);\r\n                    });\r\n                    popupWindow.open();\r\n                }\r\n            };\r\n\r\n            //bind add click event\r\n            targetEle.find('[data-click]').each(function () {\r\n                if (actions[$(this).attr('data-click')]) {\r\n                    $(this).click(actions[$(this).attr('data-click')]);\r\n                }\r\n            });\r\n        }\r\n\r\n       \r\n        var createGrid = function () {\r\n            var gridEle = targetEle.find(\"[data-control-grid]\");\r\n            \r\n            var grid = gridEle.kendoGrid({\r\n                columns:\r\n                 [\r\n                  { field: \"Id\", title: localization.Id, attributes: { \"class\": \"grid-highlight-column\" } },\r\n                  { field: \"Title\", title: localization.Title },\r\n                  { field: \"Status\", title: localization.Status, template: \"#= (Status.Name)?Status.Name:Status #\", },\r\n                  {\r\n                      field: \"LastModified\",\r\n                      title: localization.LastModified,\r\n                      type: \"date\",\r\n                      template: \"#= (LastModified) ? kendo.toString(new Date(LastModified), 'g'):'' #\"\r\n                  },\r\n                  { field: \"BaseId\", title: \"BaseId\", hidden: \"true\" },\r\n                  { width: \"105px\", command: [{ name: \"destroy\", text: localization.Remove }]}\r\n                 ],\r\n                scrollable: false,\r\n                filterable: {\r\n                    extra: false,\r\n                    messages: {\r\n                        info: localization.Showitemswithvaluethat,\r\n                        and: localization.And,\r\n                        or: localization.Or,\r\n                        filter: localization.Filter,\r\n                        clear: localization.Clear\r\n                    },\r\n                    operators: {\r\n                        string: {\r\n                            startswith: localization.Startswith,\r\n                            contains: localization.Contains,\r\n                            eq: localization.Isequalto,\r\n                            neq: localization.Isnotequalto\r\n                        }\r\n                    }\r\n                },\r\n                reorderable: true,\r\n                sortable: true,\r\n                columnMenu: {\r\n                    messages: {\r\n                        columns: localization.ChooseColumns,\r\n                        filter: localization.Filter,\r\n                        sortAscending: localization.SortAscending,\r\n                        sortDescending: localization.SortDescending\r\n                    }\r\n                },\r\n                editable: {\r\n                    confirmDelete: \"Delete\",\r\n                    cancelDelete: \"Cancel\",\r\n                    mode: \"incell\",\r\n                    template: null,\r\n                    create: true,\r\n                    update: false,\r\n                    destroy: true\r\n                },\r\n                toolbar: {},\r\n                dataSource: {\r\n                    transport: {\r\n                        prefix: \"\",\r\n                        read: {\r\n                            url: \"\"\r\n                        }\r\n                    },\r\n                    type: \"aspnetmvc-ajax\",\r\n                    schema: {\r\n                        data: \"Data\",\r\n                        total: \"Total\",\r\n                        errors: \"Errors\",\r\n                        model: {\r\n                            id: \"BaseId\",\r\n                        }\r\n                    },\r\n                    data: {\r\n                        Data: boundArray,\r\n                        Total: boundArray.length\r\n                    }\r\n                },\r\n                selectable: true\r\n            });\r\n\r\n            gridEle.on(\"click\", \"td\", function (e) {\r\n                var highlightedColumn = $(e.currentTarget).hasClass(\"grid-highlight-column\");\r\n                if (!highlightedColumn) { return }\r\n\r\n                var kendoGrid = grid.data(\"kendoGrid\");\r\n                var selectedItem = kendoGrid.dataItem($(e.currentTarget).closest(\"tr\"));\r\n                var strClass = selectedItem.ClassName.split(/[\\s.]+/);\r\n                var className = strClass[strClass.length - 1];\r\n                window.open(\"/\" + className + \"/Edit/\" + selectedItem.Id + \"/\", '_blank');\r\n            });\r\n        }\r\n\r\n        var isDuplicate = function (idToAdd) {\r\n            var n = false;\r\n            $.each(boundArray, function (i, item) {\r\n                if (item.BaseId == idToAdd) {\r\n                    n = true;\r\n                }\r\n            });\r\n            return n;\r\n        }\r\n\r\n        __construct();\r\n    }\r\n    return definition;\r\n});\n","\ndefine('text!forms/predefined/userInput/view.html',[],function () { return '<div>\\r\\n    <div class=\"editor-label\">\\r\\n        <label><%= localization.UserInputs %></label>\\r\\n    </div>\\r\\n    <div class=\"editor-field\">\\r\\n        <div data-control=\"userInputs\" data-control-bind=\"UserInput\">\\r\\n            <div data-control-grid=\"userInputsGrid\" class=\"inline-spacing\"></div>\\r\\n        </div>    \\r\\n    </div>\\r\\n</div>\\r\\n';});\n\n","/**\r\nuserInput\r\n**/\r\n\r\ndefine('forms/predefined/userInput/controller',['require','text!forms/predefined/userInput/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/userInput/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            callback(built(node));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/activities/view.html',[],function () { return '<div data-control=\"activityDisplay\" data-control-bind=\"Activity\" class=\"activity-list-container\"\\r\\n\\r\\n    <% if ( Disabled ){ %>\\r\\n    disabled\\r\\n    <% } %>\\r\\n\\r\\n    >\\r\\n</div>\\r\\n';});\n\n","/**\r\nactivities\r\n**/\r\n\r\ndefine('forms/predefined/activities/controller',['require','text!forms/predefined/activities/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/activities/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            var properties = {\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/multipleObjectPicker/view.html',[],function () { return '<div data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileGridTemplate\" class=\"mobile-grid\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">${title}</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                # $.each(details, function (index, item) {\\r\\n                # <p>${item}</p>  #\\r\\n                });\\r\\n                #\\r\\n            </div>\\r\\n        </div>\\r\\n        \\r\\n    </div>\\r\\n</div>\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12\">\\r\\n    <div data-control=\"multipleObjectPicker\"\\r\\n         data-control-bind=\"HasRelatedWorkItems\"\\r\\n         id=\"<%= PropertyName %>\"\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n    <% } %>\\r\\n    >\\r\\n\\r\\n        <button data-role=\"button\" class=\"btn btn-primary\" data-click=\"addClick\"><%= localization.Add %> </button>\\r\\n        <div class=\"grid-container\">\\r\\n            <% if ( IsMobileView == false ){ %>\\r\\n            <div data-control-grid=\"objectGrid\" class=\"inline-spacing\"></div>\\r\\n            <% } %>\\r\\n\\r\\n            <% if ( IsMobileView ){ %>\\r\\n            <div data-template-name=\"mobileGridTemplate\" class=\"mobile-grid-parent\" data-bind=\"mobileGrid: <%= PropertyName %>\" multiple-picker data-columns=\"<%= ClassProperties %>\"></div>\\r\\n            <% } %>\\r\\n        </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nmultipleObjectPicker\r\n**/\r\n\r\ndefine('forms/predefined/multipleObjectPicker/controller',['require','text!forms/predefined/multipleObjectPicker/view.html','forms/popups/multipleObjectPickerPopup/controller'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/multipleObjectPicker/view.html\");\r\n    var objectPickerPopup = require(\"forms/popups/multipleObjectPickerPopup/controller\");\r\n\r\n    var projectionSearchUrl = \"/Search/GetObjectProjectionByCriteria\";\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            boundObj = node.vm;\r\n            name = node.PropertyName;\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n            var properties = {\r\n                Disabled: false,\r\n                ClassId: \"\",\r\n                PropertyToDisplay: [],\r\n                PropertyName: \"\",\r\n                ShowAddButton: true,\r\n                ShowRemoveButton: true,\r\n                Scoped: false,\r\n                ClassProperties: \"\",\r\n                SelectableRow: false,\r\n                SelectProperty: \"Id\",\r\n                ProjectionId: \"\",\r\n                HiddenProperty: null,//separated by comma only\r\n                IsMobileView: app.isMobileDevice()\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            if (properties.PropertyToDisplay.length <= 0) { properties.PropertyToDisplay = { DisplayName: \"DisplayName\", Path: \"Path\", Status: \"Status\" }; }\r\n            for (var prop in properties.PropertyToDisplay) {\r\n                properties.ClassProperties = properties.ClassProperties.concat(prop).concat(\",\");\r\n            }\r\n\r\n            if ((properties.PropertyName === \"HasRelatedWorkItems\") && (properties.ClassProperties.indexOf(\"AssetStatus\") < 0)) {\r\n                properties.ClassProperties = properties.ClassProperties.concat(\"AssetStatus\");\r\n            }\r\n\r\n            if (!_.isNull(properties.HiddenProperty)) { //This will be use to load properties that is not need to display\r\n                properties.ClassProperties += properties.HiddenProperty.concat(\",\");\r\n            }\r\n\r\n            //set properties for watchlist\r\n            if ((properties.PropertyName === \"WatchList\")) {\r\n                if (!session.consoleSetting.DashboardsLicense.IsValid || !session.enableWatchlist) {\r\n                    properties.Visible = false;\r\n                }\r\n                //hide add/remove option when current user is and enduser and he or she is not the affected user\r\n                if ((!session.user.Analyst) && (typeof boundObj.RequestedWorkItem != 'undefined') && (session.user.Id != boundObj.RequestedWorkItem.BaseId)) {\r\n                    properties.ShowAddButton = false;\r\n                    properties.ShowRemoveButton = false;\r\n                }\r\n            }\r\n\r\n            var built = _.template(tpl);\r\n            var templateFrag = $(built(properties));\r\n\r\n            //used on RelatesToWorkItem relatinship, exclude current workitem from list\r\n            var filter = { field: \"BaseId\", operator: \"neq\", value: boundObj.BaseId };\r\n\r\n            var popupWindow = (properties.PropertyName === \"RelatesToWorkItem\") ?\r\n                objectPickerPopup.getPopup(properties.ClassId, properties.ClassProperties, null, filter) :\r\n                objectPickerPopup.getPopup(properties.ClassId, properties.ClassProperties);\r\n\r\n            var objectPicker = new Control(templateFrag.find(\"[data-control='multipleObjectPicker']\"), boundObj, name, properties, popupWindow);\r\n            templateFrag.find(\"[data-control='multipleObjectPicker']\").attr(\"data-control\", \"multipleObjectPickerBound\");\r\n\r\n            callback(templateFrag);\r\n        },\r\n        openObject: function (selectedItem) {\r\n            var strClass = selectedItem.ClassName.split(/[\\s.]+/);\r\n            var className = strClass[strClass.length - 1];\r\n            switch (className) {\r\n                case \"HardwareAsset\":\r\n                case \"SoftwareAsset\":\r\n                    window.open(\"/AssetManagement/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Lease\":\r\n                case \"Warranty\":\r\n                    window.open(\"/AssetManagement/Contract/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"SupportContract\":\r\n                    window.open(\"/AssetManagement/Contract/SupportandMaintenance/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Location\":\r\n                case \"NoticeEvent\":\r\n                case \"Organization\":\r\n                case \"Standard\":\r\n                case \"Subnet\":\r\n                case \"Vendor\":\r\n                case \"CatalogItem\":\r\n                case \"CostCenter\":\r\n                case \"Invoice\":\r\n                case \"PurchaseOrder\":\r\n                case \"Purchase\":\r\n                    window.open(\"/AssetManagement/Administration/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Licence\":\r\n                    window.open(\"/AssetManagement/Administration/License/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Consumable\":\r\n                    window.open(\"/AssetManagement/Administration/Consumables/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"ManualActivity\":\r\n                case \"ReviewActivity\":\r\n                case \"SequentialActivity\":\r\n                case \"ParallelActivity\":\r\n                case \"DependentActivity\":\r\n                    window.open(\"/Activity/Edit/\" + selectedItem.Id, '_blank');\r\n                    break;\r\n                case \"Incident\":\r\n                case \"ServiceRequest\":\r\n                case \"ChangeRequest\":\r\n                case \"Problem\":\r\n                case \"ReleaseRecord\":\r\n                    window.open(\"/\" + className + \"/Edit/\" + selectedItem.Id + \"/\", '_blank');\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    var Control = function (targetEle, boundObj, name, properties, popupWindow) {\r\n\r\n        //use setters and getters if you want vm boundOdj to trigger change\r\n        if (_.isUndefined(boundObj[name])) {\r\n            boundObj.set(name, new kendo.data.ObservableArray([]));\r\n        }\r\n\r\n        //if related object is of single cardinality, create a new array and add the related object \r\n        var boundArray = !_.isUndefined(boundObj[name].length) ? boundObj.get(name) : new kendo.data.ObservableArray([boundObj.get(name)]);\r\n        boundArray.properties = properties;\r\n\r\n        var self = this;\r\n\r\n        var __construct = function () {\r\n            buildSubProperties();\r\n            bindButtonEvents();\r\n            createGrid();\r\n        }\r\n\r\n        var buildSubProperties = function () {\r\n            var propToFill = [];\r\n            //This will going to build array of display properties that has sub properties. Ex:Target_PurchaseHasPurchaseOrder.DisplayName\r\n            for (var prop in properties.PropertyToDisplay) {\r\n                var propSplit = prop.split(\".\");\r\n                if (propSplit.length > 1) {\r\n                    propToFill.push(propSplit);\r\n                }\r\n            }\r\n\r\n            //This will going to check all properties. If property is not existing, this will going to create a dummy property so that kendo will render the grid.\r\n            _.each(boundArray, function (data) {\r\n                _.each(propToFill, function (prop) {\r\n                    var mainProp = prop[0];\r\n                    var subProp = prop[1];\r\n                    if (_.isUndefined(data[mainProp])) {\r\n                        data[mainProp] = {};\r\n                        data[mainProp][subProp] = \"\";\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n        //Make this global so that this can be used when inserting data outside multiple object picker.\r\n        //This is the solution for now since kendo grid doesn't have preDataBinding which I need to manipulate data before binding\r\n        //This function is called also from software asset \"copy license assignment\" task\r\n        boundArray.addItem = function (object) {\r\n            var isItemExist = false;\r\n            if (isDuplicate(object.BaseId)) {\r\n                return;\r\n            }\r\n            _boundArray = this;\r\n            //This will going to get object related items\r\n            if (!_.isUndefined(_boundArray.properties.ProjectionId) && !_.isNull(_boundArray.properties.ProjectionId) && _boundArray.properties.ProjectionId != \"\") {\r\n\r\n                var colNames = \"\";\r\n                var splitedProp = [];\r\n                //This will going to get thos property whos have sub child on it.\r\n                //Ex. PropertyToDisplay: { DisplayName: \"DisplayName\", \"Currency.Name\": \"Currency\", Cost: \"Cost\",\"Target_PurchaseHasPurchaseOrder.DisplayName\":\"Purchase Order\" }\r\n                // => Target_PurchaseHasPurchaseOrder.DisplayName and Currency.Name\r\n                for (var prop in _boundArray.properties.PropertyToDisplay) {\r\n                    var propperty = prop.split(\".\");\r\n                    if (propperty.length > 1) {\r\n                        splitedProp.push(propperty);\r\n                        colNames = colNames == \"\" ? prop : colNames + \",\" + prop;\r\n\r\n                    }\r\n                }\r\n\r\n                $.post(projectionSearchUrl, { baseId: object.BaseId, projectionId: _boundArray.properties.ProjectionId, columnNames: colNames }, function (result) {\r\n                    for (index in result.Data) {\r\n                        for (propIndex in splitedProp) {\r\n                            var value = result.Data[index][splitedProp[propIndex][0]];\r\n                            if (!_.isUndefined(value[splitedProp[propIndex][1]])) { //this will check if this property is undefined or not. This will going to avoid conflict with enums\r\n                                object[splitedProp[propIndex][0]] = value;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    _boundArray.push(object);\r\n                });\r\n            } else {\r\n                _boundArray.push(object);\r\n            }\r\n        }\r\n\r\n        var bindButtonEvents = function () {\r\n            var actions = {\r\n                addClick: function () {\r\n                    popupWindow.setSaveCallback(function (object) {\r\n                        boundArray.addItem(object);\r\n\r\n                        //if related object is of single cardinality, replace the value\r\n                        if (_.isUndefined(boundObj[name].length)) {\r\n                            boundArray.shift();\r\n                            boundObj.set(name, boundArray[0]);\r\n                        }\r\n                    });\r\n                    popupWindow.open();\r\n                }\r\n            };\r\n\r\n            //bind add click event\r\n            targetEle.find('[data-click]').each(function () {\r\n                if (actions[$(this).attr('data-click')]) {\r\n                    $(this).click(actions[$(this).attr('data-click')]);\r\n                }\r\n            });\r\n\r\n            //hide add button when ShowAddButton=false or if Disabled\r\n            if (!properties.ShowAddButton || properties.Disabled || properties.vm.isDisabled) {\r\n                targetEle.find('[data-click]').each(function () {\r\n                    $(this).hide();\r\n                });\r\n            }\r\n        }\r\n\r\n        var createGrid = function () {\r\n            var gridEle = targetEle.find(\"[data-control-grid]\");\r\n            //always unhide remove button for watchlist \r\n            var hideRemoveButton = (properties.PropertyName === \"WatchList\") ? false : (!properties.ShowRemoveButton || properties.Disabled || properties.vm.isDisabled);\r\n            //building grid columns\r\n            var columnFields = buildColumnFields(properties.PropertyToDisplay);\r\n            var columnToDisplay = buildGridColumns(columnFields, hideRemoveButton);\r\n\r\n            var grid = gridEle.kendoGrid({\r\n                columns: columnToDisplay,\r\n                scrollable: false,\r\n                filterable: {\r\n                    extra: false,\r\n                    messages: {\r\n                        info: localization.Showitemswithvaluethat,\r\n                        and: localization.And,\r\n                        or: localization.Or,\r\n                        filter: localization.Filter,\r\n                        clear: localization.Clear\r\n                    },\r\n                    operators: {\r\n                        string: {\r\n                            startswith: localization.Startswith,\r\n                            contains: localization.Contains,\r\n                            eq: localization.Isequalto,\r\n                            neq: localization.Isnotequalto\r\n                        }\r\n                    }\r\n                },\r\n                reorderable: true,\r\n                sortable: true,\r\n                columnMenu: {\r\n                    messages: {\r\n                        columns: localization.ChooseColumns,\r\n                        filter: localization.Filter,\r\n                        sortAscending: localization.SortAscending,\r\n                        sortDescending: localization.SortDescending\r\n                    }\r\n                },\r\n                editable: {\r\n                    confirmDelete: \"Delete\",\r\n                    cancelDelete: \"Cancel\",\r\n                    mode: \"incell\",\r\n                    template: null,\r\n                    create: true,\r\n                    update: false,\r\n                    destroy: true\r\n                },\r\n                toolbar: {},\r\n                dataSource: {\r\n                    transport: {\r\n                        prefix: \"\",\r\n                        read: {\r\n                            url: \"\"\r\n                        }\r\n                    },\r\n                    type: \"aspnetmvc-ajax\",\r\n                    schema: {\r\n                        data: \"Data\",\r\n                        total: \"Total\",\r\n                        errors: \"Errors\",\r\n                        model: {\r\n                            id: \"BaseId\",\r\n                            fields: columnFields\r\n                        }\r\n                    },\r\n                    data: {\r\n                        Data: boundArray,\r\n                        Total: boundArray.length\r\n                    }\r\n                },\r\n                dataBinding: function (e) {\r\n                    //Change to only pass specific item\r\n                    if (!_.isUndefined(e.items) && e.items.length > 0) {\r\n                        formatPropertyInBoundArray(e, properties.ClassProperties)\r\n                    }\r\n                },\r\n                dataBound: function (e) {\r\n                    if (properties.Scoped) {\r\n                        scopeBoundArray(this, properties.ClassId, properties.ClassProperties);\r\n                    }\r\n\r\n                },\r\n                selectable: properties.SelectableRow ? \"multiple row\" : false\r\n            });\r\n\r\n            gridEle.on(\"click\", \"td\", function (e) {\r\n                var highlightedColumn = $(e.currentTarget).hasClass(\"grid-highlight-column\");\r\n                if (!highlightedColumn) { return }\r\n\r\n                var kendoGrid = grid.data(\"kendoGrid\");\r\n                var selectedItem = kendoGrid.dataItem($(e.currentTarget).closest(\"tr\"));\r\n                openObject(selectedItem);\r\n            });\r\n\r\n            if (!app.isMobile())\r\n            {\r\n                grid.data(\"kendoGrid\").dataSource.originalFilter = grid.data(\"kendoGrid\").dataSource.filter;\r\n\r\n                // Replace the original filter function.\r\n                grid.data(\"kendoGrid\").dataSource.filter = function () {\r\n\r\n                    // Call the original filter function.\r\n                    var result = grid.data(\"kendoGrid\").dataSource.originalFilter.apply(this, arguments);\r\n\r\n                    // If a column is about to be filtered, then raise a new \"filtering\" event.\r\n                    if (arguments.length > 0) {\r\n                        this.trigger(\"filterApplied\", arguments);\r\n                    }\r\n\r\n                    return result;\r\n                }\r\n\r\n                grid.data(\"kendoGrid\").dataSource.bind(\"filterApplied\", function () {\r\n                    $.each($(grid).find(\"th a.k-header-column-menu i\"), function () {\r\n                        $(this).remove();\r\n                    });\r\n\r\n                    if (grid.data(\"kendoGrid\").dataSource.filter()) {\r\n\r\n                        var dsFilters = grid.data(\"kendoGrid\").dataSource.filter().filters || [];\r\n\r\n                        for (var i in dsFilters) {\r\n                            $(grid).find(\"th[data-field=\" + dsFilters[i].field + \"] a.k-header-column-menu\").append(\"<i class=\\\"fa fa-filter\\\"></i>\");\r\n                        }\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            \r\n\r\n        }\r\n\r\n        var isDuplicate = function (idToAdd) {\r\n            var n = false;\r\n            $.each(boundArray, function (i, item) {\r\n                if (item.BaseId == idToAdd) {\r\n                    n = true;\r\n                }\r\n            });\r\n            return n;\r\n        }\r\n\r\n        var buildGridColumns = function (columnFields, showRemovButton) {\r\n            var columns = [];\r\n\r\n            for (var prop in properties.PropertyToDisplay) {\r\n                var propertyKey = prop;\r\n                var localizationKey = properties.PropertyToDisplay[prop];\r\n                var localizedText = (!_.isUndefined(localization[localizationKey]) && [localizationKey].length > 0) ? localization[localizationKey] : localizationKey;\r\n                var columnClass = (properties.SelectableRow && propertyKey === properties.SelectProperty) ? \"grid-highlight-column\" : \"\";\r\n                var dateFormat = (columnFields[propertyKey].type == \"date\") ? \"{0:\" + kendo.culture().calendar.patterns.g + \"}\" : null;\r\n\r\n                columns.push({\r\n                    title: localizedText,\r\n                    width: \"210px\",\r\n                    field: propertyKey,\r\n                    filterable: {},\r\n                    encoded: true,\r\n                    attributes: {\r\n                        \"class\": columnClass\r\n                    },\r\n                    format: dateFormat\r\n                });\r\n            }\r\n            columns.push({ title: localization.BaseId, width: \"210px\", field: \"BaseId\", filterable: {}, encoded: true, hidden: true });\r\n            columns.push({ width: \"105px\", command: [{ name: \"destroy\", text: localization.Remove }], hidden: showRemovButton });\r\n\r\n            return columns;\r\n        }\r\n\r\n\r\n        //traverse and format date\r\n        var formatPropertyInBoundArray = function (currentItemEvent, columnString) {\r\n            var currentItem = currentItemEvent.items[0];\r\n            $.each(columnString.split(\",\"), function (i, column) {\r\n                $.each(boundArray, function (index, item) {\r\n                    //mutate poorly structured provided enum data \r\n                    if (column.indexOf('.') > 0) {\r\n                        var property = column.split('.')[0];\r\n                        if (_.isUndefined(item[property])) {\r\n                            boundArray[index][property] = { Id: \"\", Name: \"\" }\r\n                        }\r\n                    }\r\n                    if (currentItem.BaseId != item.BaseId && currentItemEvent.action == \"add\") return; //This will be only used when adding new items\r\n                    if (_.isUndefined(item[column]) || _.isNull(item[column])) { return; }\r\n                    if (_.isBoolean(item[column]) || _.isNumber(item[column])) { return; }\r\n                    if (!_.isUndefined(item[column].Name)) { boundArray[index][column] = item[column].Name; } //enums\r\n                });\r\n            });\r\n        }\r\n\r\n        var scopeBoundArray = function (grid, scopeClassId, PropertyToDisplay) {\r\n\r\n            if (scopeClassId === \"\") { return; }\r\n\r\n            $.ajax({\r\n                url: \"/Search/GetSearchObjectsByClassId\",\r\n                data: { searchFilter: \"\", classId: scopeClassId, columnNames: PropertyToDisplay },\r\n                async: false,\r\n                timeout: 3000,\r\n                success: function (data) {\r\n                    var objectIds = [];\r\n                    $.each(data.Data, function (ii, iitem) {\r\n                        objectIds.push(iitem[\"BaseId\"]);\r\n                    });\r\n\r\n                    $.each(grid._data, function (ii, iitem) {\r\n                        if (!_.contains(objectIds, this.BaseId)) {\r\n                            var row = grid.tbody.find(\"tr[data-uid='\" + this.uid + \"']\");\r\n                            row.hide();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        var openObject = function (selectedItem) {\r\n            var strClass = selectedItem.ClassName.split(/[\\s.]+/);\r\n            var className = strClass[strClass.length - 1];\r\n            switch (className) {\r\n                case \"HardwareAsset\":\r\n                case \"SoftwareAsset\":\r\n                    window.open(\"/AssetManagement/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Lease\":\r\n                case \"Warranty\":\r\n                    window.open(\"/AssetManagement/Contract/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"SupportContract\":\r\n                    window.open(\"/AssetManagement/Contract/SupportandMaintenance/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Location\":\r\n                case \"NoticeEvent\":\r\n                case \"Organization\":\r\n                case \"Standard\":\r\n                case \"Subnet\":\r\n                case \"Vendor\":\r\n                case \"CatalogItem\":\r\n                case \"CostCenter\":\r\n                case \"Invoice\":\r\n                case \"PurchaseOrder\":\r\n                case \"Purchase\":\r\n                    window.open(\"/AssetManagement/Administration/\" + className + \"/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Licence\":\r\n                    window.open(\"/AssetManagement/Administration/License/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"Consumable\":\r\n                    window.open(\"/AssetManagement/Administration/Consumables/Edit/\" + selectedItem.BaseId + \"/\", '_blank');\r\n                    break;\r\n                case \"ManualActivity\":\r\n                case \"ReviewActivity\":\r\n                case \"SequentialActivity\":\r\n                case \"ParallelActivity\":\r\n                case \"DependentActivity\":\r\n                    window.open(\"/Activity/Edit/\" + selectedItem.Id, '_blank');\r\n                    break;\r\n                case \"Incident\":\r\n                case \"ServiceRequest\":\r\n                case \"ChangeRequest\":\r\n                case \"Problem\":\r\n                case \"ReleaseRecord\":\r\n                    window.open(\"/\" + className + \"/Edit/\" + selectedItem.Id + \"/\", '_blank');\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        var buildColumnFields = function (properties) {\r\n            var stringProp;\r\n\r\n            stringProp = '{';\r\n            for (var prop in properties) {\r\n                var type = (prop.indexOf(\"Date\") > -1 || prop == \"LastModified\") ? \"date\" : \"string\";\r\n                stringProp += '\"' + prop + '\":{\"type\":\"' + type + '\"},';\r\n            }\r\n            stringProp = stringProp.replace(/,([^,]*)$/, '$1');\r\n            stringProp += '}';\r\n\r\n            return JSON.parse(stringProp);\r\n        }\r\n        __construct();\r\n    }\r\n    return definition;\r\n\r\n});\n","\ndefine('text!CustomSpace/Scripts/forms/predefined/history/view.html',[],function () { return '<div>\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12\">\\r\\n            <div class=\"form-group\">\\r\\n                <div class=\"input-group\">\\r\\n                    <div id=\"showHistoryDropDown\"\\r\\n                        data-role=\"dropdownlist\"\\r\\n                        data-text-field=\"text\"\\r\\n                        data-value-field=\"value\"\\r\\n                        data-template=\"dropDownHistoryTemplate\"\\r\\n                    ></div>\\r\\n                    <span class=\"input-group-btn\">\\r\\n                        <button data-role=\"button\" class=\"btn btn-primary k-button\" data-bind=\"events: {click: view.historyController.loadHistory}\">\\r\\n                            <span class=\"fa cursor-pointer\"></span><%= localization.ShowHistory %>\\r\\n                        </button>\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\"editor-label\">\\r\\n                <label id=\"showHistoryTitle\" data-bind=\"source: historyLabel\" data-template=\"labelHistoryTemplate\">PRE TEMPLATE</label>\\r\\n            </div>\\r\\n            <div id=\"historyView\" data-bind=\"visible: showHistory\"></div>  \\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<!--kendo templates-->\\r\\n<script type=\"text/x-kendo-template\" id=\"labelHistoryTemplate\">\\r\\n    # if (type == \"loading\") { #\\r\\n        <span class=\\'k-icon k-loading\\'></span>\\r\\n    # } else if (type == \"error\") { #\\r\\n        <span class=\\'fa fa-warning\\'></span> Unable to load history. Please try again.\\r\\n    # } else if (type == \"info\") { #\\r\\n        #: text #\\r\\n    # } #\\r\\n</script>\\r\\n<script type=\"text/x-kendo-template\" id=\"dropDownHistoryTemplate\">\\r\\n    <span style=\\'white-space: pre;\\'>#= data.text #</span>\\r\\n</script>\\r\\n<script type=\"text/x-kendo-template\" id=\"viewHistoryTemplate\">\\r\\n    <ul class=\\'timeline\\' data-template=\\'propertyHistoryTemplate\\' data-bind=\\'source: nodes\\'></ul>\\r\\n</script>\\r\\n<script type=\"text/x-kendo-template\" id=\"propertyHistoryTemplate\">\\r\\n    # if ((!_.isUndefined(ClassHistory) && ClassHistory.length > 0) || RelationshipHistory.length > 0) { #\\r\\n    <li>\\r\\n\\r\\n        # if (RelationshipHistory.length > 0) { #\\r\\n        <div class=\"timeline-badge primary\">\\r\\n            <i class=\"fa fa-code-fork\"></i>\\r\\n        </div>\\r\\n        # } else{ #\\r\\n        <div class=\"timeline-badge\">\\r\\n            <i class=\"fa\"></i>\\r\\n        </div>\\r\\n        # } #\\r\\n        <div class=\"timeline-panel\">\\r\\n            <div class=\"timeline-heading\">\\r\\n                <a><h4 class=\"timeline-title\">#: UserName #</h4></a>\\r\\n                <p><small class=\"text-muted\"><i class=\"fa fa-clock-o\"></i>#: kendo.toString(new Date(DateOccurred),\\'g\\') #</small></p>\\r\\n            </div>\\r\\n            <div class=\"timeline-body\">\\r\\n                # if ((!_.isUndefined(ClassHistory) && ClassHistory.length > 0)) { #\\r\\n                <h5><%= localization.PropertyChanges %>:</h5>\\r\\n                <div class=\"table-responsive\">\\r\\n                    <table class=\"table\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th><%= localization.Property %></th>\\r\\n                                <th><%= localization.OldValue %></th>\\r\\n                                <th><%= localization.NewValue %></th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            # for (var i = 0; i < ClassHistory.length; i++) { #\\r\\n                            <tr>\\r\\n                                <td>#: localizationHelper.localize(ClassHistory[i].Key.replace(/ /g,\"\"), ClassHistory[i].Key) #</td>\\r\\n                                <td>#: ClassHistory[i].BeforeValue && ClassHistory[i].IsDate ? kendo.toString(new Date(ClassHistory[i].BeforeValue),\\'g\\') : localizationHelper.localize(ClassHistory[i].BeforeValue.replace(/ /g,\"\"), ClassHistory[i].BeforeValue) #</td>\\r\\n                                <td>#: ClassHistory[i].AfterValue && ClassHistory[i].IsDate ? kendo.toString(new Date(ClassHistory[i].AfterValue),\\'g\\') : localizationHelper.localize(ClassHistory[i].AfterValue.replace(/ [0-9]/g,\"\"), ClassHistory[i].AfterValue) #</td>\\r\\n                            </tr>\\r\\n                            # } #\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n                # } #\\r\\n                # if (RelationshipHistory.length > 0) { #\\r\\n                <h5><%= localization.RelationshipChanges %>:</h5>\\r\\n                <div class=\"table-responsive\">\\r\\n                    <table class=\"table\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th></th>\\r\\n                                <th><%= localization.RelationshipClass %></th>\\r\\n                                <th><%= localization.Item %></th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            # for (var i = 0; i < RelationshipHistory.length; i++) { #\\r\\n                            <tr>\\r\\n                                # if (RelationshipHistory[i].ChangeType === \"Insert\") { #\\r\\n                                <td><i class=\"fa fa-plus text-success\"></i></td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \").replace(/ /g,\"\"), RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \")) #</td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].Item.replace(/ /g,\"\"), RelationshipHistory[i].Item) #</td>\\r\\n                                # } #\\r\\n\\r\\n                                # if (RelationshipHistory[i].ChangeType === \"Delete\") { #\\r\\n                                <td><i class=\"fa fa-minus text-danger\"></i></td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \").replace(/ /g,\"\"), RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \")) #</td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].Item.replace(/ /g,\"\"), RelationshipHistory[i].Item) #</td>\\r\\n                                # } #\\r\\n\\r\\n                                # if (RelationshipHistory[i].ChangeType === \"Update\") { #\\r\\n                                <td><i class=\"fa fa-exchange text-info\"></i></td>\\r\\n                                <td>#: localizationHelper.localize(RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \").replace(/ /g,\"\"), RelationshipHistory[i].RelationshipName.replace(/\\\\./g,\". \")) #</td>\\r\\n                                <td><strike class=\"text-danger\">#: localizationHelper.localize(RelationshipHistory[i].PreviousItem.replace(/ /g,\"\"), RelationshipHistory[i].PreviousItem) #</strike> <span class=\"text-success\">#: localizationHelper.localize(RelationshipHistory[i].Item.replace(/ /g,\"\"), RelationshipHistory[i].Item) #</span></td>\\r\\n                                # } #\\r\\n\\r\\n                            </tr>\\r\\n                            # } #\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n                # } #\\r\\n            </div>\\r\\n        </div>\\r\\n    </li>\\r\\n    # } #\\r\\n    # for (var i = 0; i < ActionLogHistory.length; i++) { #\\r\\n    <li class=\"timeline-inverted\">\\r\\n        <div class=\"timeline-badge info\"><i class=\"fa fa-user\"></i></div>\\r\\n        <div class=\"timeline-panel\">\\r\\n            <div class=\"timeline-heading\">\\r\\n                <h4 class=\"timeline-title\">#: localizationHelper.localize(ActionLogHistory[i].EnteredBy.replace(/ /g,\"\"), ActionLogHistory[i].EnteredBy) #</h4>\\r\\n                <p><small class=\"text-muted\"><i class=\"fa fa-clock-o\"></i> #: kendo.toString(new Date(DateOccurred),\\'g\\') #</small></p>\\r\\n            </div>\\r\\n            <div class=\"timeline-body\">\\r\\n                <h5>#: localizationHelper.localize(ActionLogHistory[i].ActionType.replace(/ /g,\"\"), ActionLogHistory[i].ActionType) #</h5>\\r\\n                <blockquote>#: localizationHelper.localize(ActionLogHistory[i].Description.replace(/ /g,\"\"), ActionLogHistory[i].Description) #</blockquote>\\r\\n            </div>\\r\\n        </div>\\r\\n    </li>\\r\\n    # } #\\r\\n</script>\\r\\n';});\n\n","/*jslint nomen: true */\r\n/*global _, $, app, console, define, kendo */\r\n/*eslint no-console: [\"error\", { allow: [\"log\", \"warn\", \"error\"] }] */\r\n\r\n/**\r\nhistory\r\n**/\r\n\r\ndefine('CustomSpace/Scripts/forms/predefined/history/controller',[\r\n    \"text!CustomSpace/Scripts/forms/predefined/history/view.html\"\r\n], function (\r\n    historyTemplate\r\n) {\r\n    \"use strict\";\r\n    var definition = {\r\n        template: historyTemplate,\r\n        build: function (vm, node, callback) {\r\n            if (!_.isUndefined(app.storage.custom) && app.storage.custom.get(\"debug\")) {\r\n                console.log(\"historyController:build\", {\r\n                    \"vm\": vm,\r\n                    \"node\": node,\r\n                    \"callback\": callback\r\n                });\r\n            }\r\n\r\n            vm.setWithNoDirty = function (variable, value) {\r\n                var isDirtyState = vm.get(\"isDirty\");\r\n                vm.set(variable, value);\r\n                vm.set(\"isDirty\", isDirtyState);\r\n            };\r\n\r\n            /*\r\n            if (!_.isUndefined(pageForm.newWI)) { vm.set(\"HistoryButton\", !pageForm.newWI); } //workitem\r\n            if (!_.isUndefined(pageForm.isNew)) { vm.set(\"HistoryButton\", !pageForm.isNew); } //AM\r\n            */\r\n\r\n            vm.view.historyController = {\r\n                loadHistory: function () {\r\n                    var kendoDropDownList = $(\"#showHistoryDropDown\").data(\"kendoDropDownList\");\r\n                    vm.view.historyController.getObjectHistory(kendoDropDownList.value(), kendoDropDownList.text());\r\n                },\r\n\r\n                dropDownDataSet: false,\r\n\r\n                getDropDownDataSource: function () {\r\n                    var data = [],\r\n                        getChildren = function (viewModel, prefix) {\r\n                            prefix = prefix || \"\";\r\n                            data.push({\r\n                                text: prefix + viewModel.Id + \" - \" + viewModel.Title,\r\n                                value: viewModel.BaseId\r\n                            });\r\n                            if (viewModel.Activity !== undefined && viewModel.Activity.length > 0) {\r\n                                $.each(viewModel.Activity, function (Key, activity) {\r\n                                    getChildren(activity, prefix + \"    \");\r\n                                });\r\n                            }\r\n                        };\r\n\r\n                    getChildren(vm);\r\n\r\n                    return data;\r\n                },\r\n\r\n                getObjectHistory: function (objectGUID, objectTitle) {\r\n                    vm.setWithNoDirty(\"historyLabel\", { \"type\": \"loading\" });\r\n                    vm.setWithNoDirty(\"showHistory\", false);\r\n\r\n                    $.ajax({\r\n                        url: \"/Search/GetObjectHistory\",\r\n                        data: { \"id\": objectGUID },\r\n                        type: \"GET\",\r\n                        cache: false,\r\n                        success: function (data) {\r\n                            vm.setWithNoDirty(\"historyLabel\", { \"type\": \"info\", \"text\": objectTitle });\r\n\r\n                            /*\r\n                            if(vm.view.historyController.model !== undefined) {\r\n                                vm.view.historyController.view.destroy();\r\n                            }*/\r\n\r\n                            try {\r\n                                if (vm.view.historyController.model === undefined) {\r\n                                    var customhistoryModel = kendo.observable({\r\n                                        nodes: data\r\n                                    });\r\n\r\n                                    vm.view.historyController.model = customhistoryModel;\r\n\r\n                                    vm.view.historyController.view = new kendo.View(\r\n                                        \"viewHistoryTemplate\",\r\n                                        {\r\n                                            model: customhistoryModel,\r\n                                            wrap: false,\r\n                                            init: $.noop //empty function\r\n                                        }\r\n                                    );\r\n\r\n                                    vm.view.historyController.view.render($(\"#historyView\"));\r\n                                } else {\r\n                                    vm.view.historyController.model.set(\"nodes\", data);\r\n                                }\r\n                            } catch (err) {\r\n                                if (!_.isUndefined(app.storage.custom) && app.storage.custom.get(\"debug\")) {\r\n                                    console.log(\"historyController:error\", {\r\n                                        \"err\": err\r\n                                    });\r\n                                }\r\n                            }\r\n\r\n                            vm.setWithNoDirty(\"showHistory\", true);\r\n                        },\r\n                        error: function (data) {\r\n                            vm.setWithNoDirty(\"historyLabel\", { \"type\": \"error\" });\r\n                            if (!_.isUndefined(app.storage.custom) && app.storage.custom.get(\"debug\")) {\r\n                                console.log(\"historyController:error\", {\r\n                                    \"err\": data\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n\r\n            function buildAndRender() {\r\n                var builtHistory = _.template(historyTemplate),\r\n                    historyElm = $(builtHistory(node));\r\n                \r\n                historyElm.find(\"#showHistoryDropDown\").kendoDropDownList({\r\n                    dataSource: [{\r\n                        \"text\": vm.Id + \" - \" + vm.Title,\r\n                        \"value\": vm.BaseId\r\n                    }],\r\n                    select: function (event) {\r\n                        var dataItem = this.dataItem(event.item);\r\n                        vm.view.historyController.getObjectHistory(dataItem.value, dataItem.text);\r\n                    },\r\n                    open: function (event) {\r\n                        if (!vm.view.historyController.dataSourceSet) {\r\n                            event.sender.setDataSource(vm.view.historyController.getDropDownDataSource());\r\n                            vm.view.historyController.dataSourceSet = true;\r\n                        }\r\n                    }\r\n                }).data(\"kendoDropDownList\");\r\n                \r\n                callback(historyElm);\r\n            }\r\n            \r\n            function initHistory() {\r\n                if (!_.isUndefined(app.storage.custom) && app.storage.custom.get(\"debug\")) {\r\n                    console.log(\"historyController:initHistory\");\r\n                }\r\n                vm.setWithNoDirty(\"historyLabel\", { \"type\": \"info\", \"text\": \"\" });\r\n                buildAndRender();\r\n            }\r\n            \r\n            initHistory();\r\n        }\r\n    };\r\n\r\n    return definition;\r\n});\n","\ndefine('text!forms/predefined/billableTime/view.html',[],function () { return '<div>\\r\\n    <div data-control=\"billableTime\" data-control-bind=\"AppliesToWorkItem\"\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        >\\r\\n    <div class=\"row\" data-bind=\"visible: view.billableTimeController.isVisible\">\\r\\n        <div class=\"col-md-3\">\\r\\n            <div class=\"form-group\" data-cid=\"work-itemBillableTime\" data-cid-propname=\"hours\">\\r\\n                <label for=\"hourNumeric\"><%= localization.hours %></label>\\r\\n                <div class=\"form-control form-control-picker input-sm\">\\r\\n                    <input id=\"hourNumeric\" data-role=\"numerictextbox\"\\r\\n                           data-format=\"n0\"\\r\\n                           data-min=\"0\"\\r\\n                           data-bind=\"value: view.billableTimeController.btHour,\\r\\n                               events: {spin: view.billableTimeController.onHourSpin }\"/>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-3\">\\r\\n            <div class=\"form-group\" data-cid=\"work-itemBillableTime\" data-cid-propname=\"minutes\">\\r\\n                <label for=\"minuteNumeric\"><%= localization.minutes %></label>\\r\\n                <div class=\"form-control form-control-picker input-sm\">\\r\\n                    <input id=\"minuteNumeric\" data-role=\"numerictextbox\"\\r\\n                           data-format=\"n0\"\\r\\n                           data-min=\"0\"\\r\\n                           data-bind=\"value: view.billableTimeController.btMinute,\\r\\n                               events: {spin: view.billableTimeController.onMinuteSpin }\"/>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"col-md-6 margin-t30\">\\r\\n            <button class=\"btn btn-primary\" data-role=\"button\" data-bind=\"events: {click: view.billableTimeController.onAddClick}\" data-cid=\"billableTimeAddButton\"><%= localization.Add %> </button>\\r\\n            <button class=\"btn btn-default\" data-role=\"button\" data-bind=\"events: {click: view.billableTimeController.onSubtractClick}\" data-cid=\"billableTimeSubtractButton\"><%= localization.Subtract %> </button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\"row\">\\r\\n        <div class=\"col-md-12\">\\r\\n            <div data-control=\"grid\"></div>\\r\\n            <div data-role=\"grid\" class=\"billable-time-grid\"\\r\\n                 data-bind=\"source: view.billableTimeController.dataSource, events:{dataBinding: view.billableTimeController.onDataBinding, dataBound: view.billableTimeController.onDataBound}\"\\r\\n                 data-selectable=\"false\"\\r\\n                 data-sortable=\"true\"\\r\\n                 data-filterable=\"true\"\\r\\n                 data-scrollable=\"false\"\\r\\n                 data-column-menu=\"true\"\\r\\n                 data-pageable=\"false\"\\r\\n                 data-editable=\"{mode: \\'incell\\'}\"\\r\\n                 data-columns=\\'[\\r\\n                { field: \"BillableTime.DisplayName\", title: localization.Analyst, width: \"300px\", attributes: { \"class\": \"grid-highlight-column\" } },\\r\\n                { field: \"BaseId\", title: localization.BaseId, width: \"30px\", hidden: true },\\r\\n                { field: \"LastUpdatedDisplay\", title: localization.LastUpdated, width: \"100px\" },\\r\\n                { field: \"TimeInMinutes\", title: localization.TimeInMinutes, width: \"100px\", attributes: { \"class\": \"pull-right\" } },\\r\\n                <% if ( !Disabled ){ %>\\r\\n                 { width: \"100px\", command: [{ name: \"destroy\", buttonType: \"ImageAndText\", text: localization.Remove}]}\\r\\n                <% } %>\\r\\n            ]\\'>\\r\\n            </div>\\r\\n            <div class=\"pull-right\">\\r\\n                <label data-bind=\"html: view.billableTimeController.btTotalTimeInString\"></label>\\r\\n            </div>\\r\\n        </div>\\r\\n        </div>\\r\\n</div>\\r\\n</div>';});\n\n","/**\r\nbillableTime\r\n**/\r\n\r\ndefine('forms/predefined/billableTime/controller',['require','text!forms/predefined/billableTime/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/billableTime/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n            var properties = {\r\n                Disabled: node.disabled,\r\n                PropertyName: \"AppliesToWorkItem\"\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            var name = properties.PropertyName;\r\n            var boundArray = _.isUndefined(boundObj[name]) ? boundObj[name] = new kendo.data.ObservableArray([]) : boundObj[name];\r\n            boundArray.LastUpdatedDisplay = \"\";\r\n            \r\n\r\n            vm.view.billableTimeController = new kendo.observable({\r\n                btHour: 0,\r\n                btMinute: 0,\r\n                btTotalTime: 0,\r\n                btTotalTimeInString: \"\",\r\n                onHourSpin: function (e) {\r\n                    vm.view.billableTimeController.set('btHour', e.sender.value());\r\n                },\r\n                onMinuteSpin: function (e) {\r\n                    vm.view.billableTimeController.set('btMinute', e.sender.value());\r\n                },\r\n                dataSource: new kendo.data.DataSource({\r\n                    schema: {\r\n                        data: \"Data\",\r\n                        total: \"Total\",\r\n                        errors: \"Errors\",\r\n                        model: {\r\n                            id: \"BaseId\",\r\n                        }\r\n                    },\r\n                    data: {\r\n                        Data: boundArray,\r\n                        Total: boundArray.length\r\n                    }\r\n                }),\r\n                onDataBinding: function (e) {\r\n                    $.each(boundArray, function (i, item) {\r\n                        if (_.isUndefined(item.BillableTime)) {\r\n                            item.BillableTime = { BasedId: null, DisplayName: null };\r\n                        }\r\n                        item.LastUpdatedDisplay =\r\n                            !_.isUndefined(item.LastUpdated)\r\n                                ? kendo.toString(new Date(item.LastUpdated), 'g')\r\n                                : null;\r\n                    });\r\n                },\r\n                onDataBound: function (e) {\r\n                    for (var item in e.sender._data) {\r\n                        var dataItem = e.sender._data[item];\r\n                        if (_.isNull(dataItem.BillableTime.BasedId)) {\r\n                            var row = e.sender.tbody.find(\"tr[data-uid='\" + dataItem.uid + \"']\");\r\n                            row.hide();\r\n                        }\r\n                    }\r\n                },\r\n                onAddClick: function (e) {\r\n                    var hour = vm.view.billableTimeController.btHour;\r\n                    var minute = vm.view.billableTimeController.btMinute;\r\n                    var totalTime = vm.view.billableTimeController.btTotalTime;\r\n\r\n                    var isExisting = false;\r\n                    \r\n                    $.each(boundArray, function (i, item) {\r\n                        if (item.BillableTime.BaseId === session.user.Id) {\r\n                            item.set(\"LastUpdated\", new Date().toISOString());\r\n                            item.set(\"TimeInMinutes\", parseInt(item.get(\"TimeInMinutes\")) + (hour * 60) + minute);\r\n                            isExisting = true;\r\n                            return false;\r\n                        }\r\n                    });\r\n                    if (!isExisting) {\r\n                        var newBillableModel = {\r\n                            BillableTime: {\r\n                                BaseId: session.user.Id,\r\n                                DisplayName: session.user.Name\r\n                            },\r\n                            LastUpdated: new Date().toISOString(),\r\n                            LastModified: new Date().toISOString(),\r\n                            TimeInMinutes: (hour * 60) + minute,\r\n                            BasedId: app.lib.newGUID(),\r\n                            Image: app.config.iconPath + app.config.icons[\"comment\"],\r\n                            EnteredDate: new Date().toISOString(),\r\n                            ClassTypeId: \"6645cdbe-78a3-ab81-7de9-638b733214fe\",\r\n                            EnteredBy: session.user.Name,\r\n                            Title: null,\r\n                            Description: null\r\n                        }\r\n                        boundArray.push(newBillableModel);\r\n                    }\r\n                    vm.view.billableTimeController.computeTotalTime();\r\n                    vm.view.billableTimeController.resetTime();\r\n                },\r\n                onSubtractClick: function (e) {\r\n                    var hour = vm.view.billableTimeController.btHour;\r\n                    var minute = vm.view.billableTimeController.btMinute;\r\n                    var totalTime = vm.view.billableTimeController.btTotalTime;\r\n\r\n                    if ((totalTime < (hour * 60)) || (totalTime < minute)) {\r\n                        kendo.ui.ExtAlertDialog.show({\r\n                            title: localization.SubtractTimeTitle,\r\n                            message: localization.SubtractTimeMessage\r\n                        });\r\n                    } else {\r\n                        $.each(boundArray, function (i, item) {\r\n                            if (item.BillableTime.BaseId === session.user.Id) {\r\n                                item.set(\"LastUpdated\", new Date().toISOString());\r\n                                item.set(\"TimeInMinutes\", parseInt(item.get(\"TimeInMinutes\")) - (hour * 60) - minute);\r\n                                isExisting = true;\r\n                            }\r\n                        });\r\n                        vm.view.billableTimeController.computeTotalTime();\r\n                        vm.view.billableTimeController.resetTime();\r\n                    }\r\n                },\r\n                computeTotalTime: function (e) {\r\n                    var itemTotalTime = 0;\r\n                    \r\n                    $.each(boundArray, function (i, item) {\r\n                        if (item.get(\"ClassTypeId\") === \"6645cdbe-78a3-ab81-7de9-638b733214fe\") {\r\n                            itemTotalTime += parseInt(item.get(\"TimeInMinutes\"));\r\n                        }\r\n                    });\r\n\r\n                    if (boundArray.length > 1) {\r\n                        if (vm.view.billableTimeController.get(\"btTotalTime\") != null)\r\n                            itemTotalTime += parseInt(vm.view.billableTimeController.get(\"btTotalTime\"));\r\n                    }\r\n                    \r\n                    vm.view.billableTimeController.btTotalTime = itemTotalTime;\r\n                    vm.view.billableTimeController.btTotalTimeInString =\r\n                        (\"{0} : {1} {2}\")\r\n                        .replace(\"{0}\", localization.Totaltime)\r\n                        .replace(\"{1}\", vm.view.billableTimeController.btTotalTime)\r\n                        .replace(\"{2}\", localization.minutes);\r\n                },\r\n                resetTime: function () {\r\n                    $('#hourNumeric').data(\"kendoNumericTextBox\").value(0);\r\n                    vm.view.billableTimeController.set('btHour', 0);\r\n                    $('#minuteNumeric').data(\"kendoNumericTextBox\").value(0);\r\n                    vm.view.billableTimeController.set('btMinute', 0);\r\n                },\r\n                isVisible: !vm.isDisabled\r\n            });\r\n            vm.view.billableTimeController.computeTotalTime();\r\n            var view = new kendo.View(built(properties), { wrap: false, model: vm });\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/predefined/knowledgeArticle/view.html',[],function () { return '<div data-bind=\"templateResources:\\'resources\\'\" style=\"display:none\">\\r\\n    <div data-template-name=\"mobileHTMLGridTemplate\" class=\"mobile-grid\">\\r\\n        <!-- repeated template content here -->\\r\\n        <div class=\"gridcard gridcard--form\">\\r\\n            <p class=\"gridcard__title\">${KnowledgeArticleID}: ${Title}</p>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                # if ( Category && Category.length > 0 ){ #\\r\\n                <p>#: localizationHelper.localize(\"Category\") #: #: Category # </p>\\r\\n                # } #\\r\\n                # if ( Type && Type.length > 0 ){ #\\r\\n                <p>#: localizationHelper.localize(\"Type\") #: #: Type # </p>\\r\\n                # } #\\r\\n            </div>\\r\\n            <div class=\"gridcard__detailblock\">\\r\\n                <a class=\"k-delete-button\">#: localization.Remove #</a>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\"row\">\\r\\n    <div class=\"col-md-12 file-attachments\"\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>>\\r\\n    <div>\\r\\n        <button class=\"btn btn-primary\" data-role=\"button\" data-bind=\"events:{click: view.knowledgeArticleModel.addClick}\"><%= localization.Add %> </button>\\r\\n    </div>\\r\\n    \\r\\n    <% if ( IsMobileView == false ){ %>\\r\\n        <div data-role=\"grid\"\\r\\n            data-bind=\"source: RelatedHTMLKB, events:{remove: view.knowledgeArticleModel.removeRelatedKB}\"\\r\\n            data-selectable=\"true\"\\r\\n            data-sortable=\"true\"\\r\\n            data-filterable=\"true\"\\r\\n            data-scrollable=\"false\"\\r\\n            data-column-menu=\"true\"\\r\\n            data-pageable=\"false\"\\r\\n            data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n            data-columns=\\'[\\r\\n                { field: \"KnowledgeArticleID\", title: localization.Id, width: \"10%\", attributes:{class:\"grid-highlight-column\"}},\\r\\n                { field: \"Title\", title: localization.Title, width: \"50%\", attributes:{class:\"grid-highlight-column\"}},\\r\\n                { field: \"Category\", title: localization.Category, width: \"20%\" },\\r\\n                { field: \"Type\", title: localization.Type, width: \"20%\" },\\r\\n                { width: \"4%\", command: [{ name: \"destroy\", buttonType: \"ImageAndText\", text: localization.Remove }] }\\r\\n                ]\\'>\\r\\n        </div>\\r\\n    <% } %>\\r\\n    <% if ( IsMobileView ){ %>\\r\\n        <div data-role=\"listview\" data-template=\"mobileHTMLGridTemplate\" data-bind=\"source: RelatedHTMLKB, events: {remove: view.knowledgeArticleModel.removeRelatedKB}\" class=\"mobile-grid-parent\"></div>\\r\\n    <% } %>\\r\\n</div>\\r\\n';});\n\n","\ndefine('text!forms/predefined/knowledgeArticle/popup.html',[],function () { return '<div class=\"cireson-window defined-form task-window hide\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-5\">\\r\\n                    <div class=\"form-group\">\\r\\n                        <label><%= localization.SearchText %></label>\\r\\n                        <span class=\"k-textbox k-space-right\">\\r\\n                            <input type=\"text\" data-bind=\"value: searchText\" />\\r\\n                            <span data-bind=\"events:{click: search}\" class=\"fa fa-search cursor-pointer\">&nbsp;</span>\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <label><%= localization.SelectObjects %></label>\\r\\n\\r\\n            <div class=\"objectPicker-container\">\\r\\n                <div class=\"k-widget k-grid k-secondary\"\\r\\n                     data-role=\"grid\"\\r\\n                     data-bind=\"source: dataSource\"\\r\\n                     data-selectable=\"multiple, row\"\\r\\n                     data-sortable=\"true\"\\r\\n                     data-filterable=\"true\"\\r\\n                     data-scrollable=\"false\"\\r\\n                     data-column-menu=\"true\"\\r\\n                     data-pageable=\"true\"\\r\\n                     data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n                     data-columns=\\'[\\r\\n                { field: \"ArticleId\", title: localization.Id, width: \"10%\"},\\r\\n                { field: \"Title\", title: localization.Title, width: \"90%\"}\\r\\n                ]\\'>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"objectPicker-actions\">\\r\\n                <button data-role=\"button\" data-bind=\"events:{click: add}\" class=\"btn btn-primary k-button\"><%= localization.Add %> </button>\\r\\n                <button data-role=\"button\" data-bind=\"events:{click: remove}\" class=\"btn btn-danger k-button\"><%= localization.Remove %> </button>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"k-widget k-grid k-secondary objectPicker-grid2-container\"\\r\\n                 data-role=\"grid\"\\r\\n                 data-bind=\"source: selectedItems\"\\r\\n                 data-selectable=\"multiple, row\"\\r\\n                 data-sortable=\"true\"\\r\\n                 data-filterable=\"true\"\\r\\n                 data-scrollable=\"false\"\\r\\n                 data-column-menu=\"true\"\\r\\n                 data-pageable=\"true\"\\r\\n                 data-editable=\"{mode: \\'incell\\', create: false, update: false}\"\\r\\n                 data-columns=\\'[\\r\\n                { field: \"ArticleId\", title: localization.Id, width: \"10%\"},\\r\\n                { field: \"Title\", title: localization.Title, width: \"90%\"}\\r\\n                ]\\'>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n        <div class=\"cireson-window--footer window-buttons\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n    \\r\\n</div>\\r\\n';});\n\n","/**\r\nknowledgeArticle\r\n**/\r\n\r\ndefine('forms/predefined/knowledgeArticle/controller',['require','text!forms/predefined/knowledgeArticle/view.html','text!forms/predefined/knowledgeArticle/popup.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/knowledgeArticle/view.html\");\r\n    var popupTpl = require(\"text!forms/predefined/knowledgeArticle/popup.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var properties = {\r\n                Disabled: false,\r\n                IsMobileView: app.isMobileDevice()\r\n            };\r\n            $.extend(true, properties, node);\r\n\r\n            //build the template for the popup window\r\n            var built = _.template(popupTpl);\r\n            var popupView = new kendo.View(built(properties), { wrap: false });\r\n\r\n            //add in popup window\r\n            callback(popupView.render());\r\n\r\n            //view model\r\n            vm.view.knowledgeArticleModel = kendo.observable({\r\n                addClick: function (e) {\r\n                    var popupWindow= popupView.element; \r\n                    win = popupWindow.kendoCiresonWindow({\r\n                        title: localization.SelectObject,\r\n                        width: 750,\r\n                        height: 710,\r\n                        actions: []\r\n                    }).data(\"kendoWindow\");\r\n\r\n                    //this view Model is bound to the popup element\r\n                    var modalViewModel = new kendo.observable({\r\n                        dataSource: new kendo.data.DataSource({\r\n                            transport: {\r\n                                read: {\r\n                                    url: \"/api/V3/KnowledgeBase/GetHTMLArticles\",\r\n                                    dataType: \"json\",\r\n                                    data: { userId: session.user.Id },\r\n                                    cache: false\r\n                                }\r\n                            },\r\n                            schema: {\r\n                                model: {\r\n                                    fields: {\r\n                                        ArticleId: { type: \"string\" },\r\n                                        Title: { type: \"string\" },\r\n                                        Category: { type: \"string\" },\r\n                                        Type: { type: \"string\" }\r\n                                    }\r\n                                }\r\n                            },\r\n                            pageSize: 5,\r\n                        }),\r\n                        selectedItems: new kendo.data.ObservableArray([]),\r\n                        searchText:\"\",\r\n                        search: function(e){\r\n                            var val = this.get(\"searchText\");\r\n                            this.dataSource.read();\r\n                            this.dataSource.filter({\r\n                                logic: \"or\",\r\n                                filters: [\r\n                                    {\r\n                                        field: \"ArticleId\",\r\n                                        operator: \"contains\",\r\n                                        value: val\r\n                                    },\r\n                                    {\r\n                                        field: \"Title\",\r\n                                        operator: \"contains\",\r\n                                        value: val\r\n                                    },\r\n                                    {\r\n                                        field: \"Category\",\r\n                                        operator: \"contains\",\r\n                                        value: val\r\n                                    },\r\n                                    {\r\n                                        field: \"Type\",\r\n                                        operator: \"contains\",\r\n                                        value: val\r\n                                    }\r\n                                ]\r\n                            });\r\n                        },\r\n                        add: function (e) {\r\n                            var gridEle = popupWindow.find('[data-role=\"grid\"]').first();\r\n                            var grid = gridEle.data(\"kendoGrid\");\r\n                            var selectedRows = grid.select();\r\n\r\n                            for (var i = 0; i < selectedRows.length; i++) {\r\n                                var dataItem = grid.dataItem(selectedRows[i]);\r\n                                if (dataItem) {\r\n                                    //check first if article is already on the selected list before adding it to the second grid\r\n                                    var articleIds = _.pluck(this.selectedItems, \"ArticleId\");\r\n                                    var isAdded = _.contains(articleIds, dataItem.ArticleId);\r\n\r\n                                    if (!isAdded) {\r\n                                        this.selectedItems.push(dataItem);\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            var selectedGridEle = popupWindow.find('[data-role=\"grid\"]').last();\r\n                            selectedGridEle.data(\"kendoGrid\").dataSource.query({ page: 1, pageSize: 5 });\r\n                        },\r\n                        remove: function (e) {\r\n                            var gridEle = popupWindow.find('[data-role=\"grid\"]').last();\r\n                            var grid = gridEle.data(\"kendoGrid\");\r\n                            var selectedRows = grid.select();\r\n\r\n                            for (var i = 0; i < selectedRows.length; i++) {\r\n                                var dataItem = grid.dataItem(selectedRows[i]);\r\n                                this.selectedItems.pop(dataItem);\r\n                            }\r\n                        },\r\n                        save: function (e) {\r\n                            var relatedHTMLKB = !_.isUndefined(vm.get(\"RelatedHTMLKB\")) ? vm.get(\"RelatedHTMLKB\") : [];\r\n                            _.each(this.selectedItems, function (item) {\r\n                                relatedHTMLKB.push({\r\n                                    KnowledgeArticleID: item.ArticleId,\r\n                                    WorkItemID: (vm.ClassName.indexOf(\"WorkItem\") != -1) ? vm.BaseId : null,\r\n                                    WorkItemId: (vm.ClassName.indexOf(\"WorkItem\") != -1) ? vm.Id : null,\r\n                                    AssetID: (vm.ClassName.indexOf(\"AssetManagement\") != -1) ? vm.BaseId : null,\r\n                                    AssetId: (vm.ClassName.indexOf(\"AssetManagement\") != -1) ? vm.Id : null,\r\n                                    Title: item.Title,\r\n                                    Category: item.Category,\r\n                                    Type: item.Type\r\n                                });\r\n                            });\r\n\r\n                            vm.set(\"RelatedHTMLKB\", relatedHTMLKB);\r\n\r\n                            win.close();\r\n                        },\r\n                        cancel: function (e) {\r\n                            win.close();\r\n                        }\r\n                    });\r\n\r\n                    //add control to the window\r\n                    kendo.bind(popupWindow, modalViewModel);\r\n\r\n                    popupWindow.removeClass('hide');\r\n                    popupWindow.show();\r\n\r\n                    win.open();\r\n                },\r\n                bindRowClick: function (e) {\r\n                    var gridEle = view.element.find('[data-role=\"grid\"]').first();\r\n                    gridEle.on(\"click\", \"td\", function (e) {\r\n                        var highlightedColumn = $(e.currentTarget).hasClass(\"grid-highlight-column\");\r\n                        if (!highlightedColumn) { return }\r\n\r\n                        var kendoGrid = gridEle.data(\"kendoGrid\");\r\n                        var selectedItem = kendoGrid.dataItem($(e.currentTarget).closest(\"tr\"));\r\n\r\n                        //open kb on a new tab when clicked\r\n                        window.open(\"/KnowledgeBase/View/\" + selectedItem.KnowledgeArticleID, '_blank');\r\n                    });\r\n\r\n\r\n                    if (!app.isMobile())\r\n                    {\r\n                        var grid = gridEle.data(\"kendoGrid\");\r\n\r\n                        grid.dataSource.originalFilter = grid.dataSource.filter;\r\n\r\n                        // Replace the original filter function.\r\n                        grid.dataSource.filter = function () {\r\n\r\n                            // Call the original filter function.\r\n                            var result = grid.dataSource.originalFilter.apply(this, arguments);\r\n\r\n                            // If a column is about to be filtered, then raise a new \"filtering\" event.\r\n                            if (arguments.length > 0) {\r\n                                this.trigger(\"filterApplied\", arguments);\r\n                            }\r\n\r\n                            return result;\r\n                        }\r\n\r\n                        grid.dataSource.bind(\"filterApplied\", function () {\r\n\r\n                            $.each($(gridEle).find(\"th a.k-header-column-menu i\"), function () {\r\n                                $(this).remove();\r\n                            });\r\n\r\n                            if (grid.dataSource.filter()) {\r\n\r\n                                var filters = grid.dataSource.filter().filters || [];\r\n                                var dsFilters = [];\r\n                                for (var i in filters) {\r\n                                    if (filters[i].filters) {\r\n                                        var innerFilters = filters[i].filters;\r\n                                        for (var x in innerFilters) {\r\n                                            dsFilters.push(innerFilters[x]);\r\n                                        }\r\n                                    } else {\r\n                                        dsFilters.push(filters[i]);\r\n                                    }\r\n                                }\r\n\r\n                                dsFilters = _.uniq(dsFilters, function (el) { return el.field; });\r\n\r\n                                for (var i in dsFilters) {\r\n                                    $(gridEle).find(\"th[data-field=\" + dsFilters[i].field + \"] a.k-header-column-menu\").append(\"<i class=\\\"fa fa-filter\\\"></i>\");\r\n                                }\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                    },\r\n                    \r\n                getAllRelatedWorkItems: function (e) {\r\n                    //this will hold all the related knowledge article data\r\n                    var relatedHTMLKB = !_.isUndefined(vm.get(\"RelatedHTMLKB\")) ? vm.get(\"RelatedHTMLKB\") : new kendo.data.ObservableArray([]);\r\n\r\n                    var url = '';\r\n\r\n                    if (vm.ClassName.indexOf(\"WorkItem\") != -1)\r\n                        url = app.lib.addUrlParam(\"/api/V3/Article/GetArticlesRelatedToWorkItem\", \"workItemId\", vm.BaseId);\r\n                    else if (vm.ClassName.indexOf(\"AssetManagement\") != -1)\r\n                        url = app.lib.addUrlParam(\"/api/V3/Article/GetArticlesRelatedToAsset\", \"assetId\", vm.BaseId);\r\n\r\n                    $.ajax({\r\n                        url: url,\r\n                        dataType: 'json',\r\n                        type: \"POST\",\r\n                        success: function (data) {\r\n                            //set the value\r\n                            _.each(data, function (item) {\r\n                                relatedHTMLKB.push({\r\n                                    KnowledgeArticleID: item.ArticleID,\r\n                                    WorkItemID: (vm.ClassName.indexOf(\"WorkItem\") != -1) ? vm.BaseId : null,\r\n                                    WorkItemId: (vm.ClassName.indexOf(\"WorkItem\") != -1) ? vm.Id : null,\r\n                                    AssetID: (vm.ClassName.indexOf(\"AssetManagement\") != -1) ? vm.BaseId : null,\r\n                                    AssetId: (vm.ClassName.indexOf(\"AssetManagement\") != -1) ? vm.Id : null,\r\n                                    Title: item.Title,\r\n                                    Category: item.CategoryName,\r\n                                    Type: item.TypeName\r\n                                });\r\n                            });\r\n\r\n                            //to avoid triggering isDirty, update viewModel only if there is/are related KB\r\n                            if (relatedHTMLKB.length > 0) {\r\n                                vm.set(\"RelatedHTMLKB\", relatedHTMLKB);\r\n                            }\r\n                        },\r\n                        error: function (e) {\r\n                            //log error and display generic error tesxt\r\n                            app.lib.log(e.errorThrown + ' - When retrieving data from /api/V3/Article/GetArticlesRelatedToWorkItem');\r\n                        }\r\n                    });\r\n                },\r\n                removeRelatedKB: function (e) {\r\n                    //this will hold all the to be deleted related knowledge article \r\n                    var removeHTMLKB = !_.isUndefined(vm.get(\"RemoveRelatedHTMLKB\")) ? vm.get(\"RemoveRelatedHTMLKB\") : new kendo.data.ObservableArray([]);\r\n                    removeHTMLKB.push(e.model);\r\n                    vm.set(\"RemoveRelatedHTMLKB\", removeHTMLKB);\r\n                }\r\n            });\r\n\r\n            //build it\r\n            var built = _.template(tpl);\r\n            var view = new kendo.View(built(properties), { wrap: false, model: vm.view.knowledgeArticleModel });\r\n            callback(view.render());\r\n\r\n            vm.view.knowledgeArticleModel.getAllRelatedWorkItems();\r\n            vm.view.knowledgeArticleModel.bindRowClick();\r\n        }\r\n    }\r\n\r\n    return definition;\r\n});\n","\ndefine('text!forms/predefined/fileAttachmentsDragDrop/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <div class=\"drop-zone-element\">\\r\\n        <div class=\"text-wrapper\">\\r\\n            <span class=\"drag-image-text\">\\r\\n                <img data-bind=\"visible:isDesktop\" src=\"/Content/Images/Icons/FileUpload/upload_to_cloud.svg\" />\\r\\n                <span data-bind=\"visible:isDesktop\"><b><%= localization.DragAndDrop %> </b> <%= localization.YourFilesOr %> <a class=\"browse-file\"><b><%= localization.Browse %></b></a></span>\\r\\n                <a  data-bind=\"visible:isMobile\" class=\"browse-file\"><b><%= localization.Browse %></b></a>\\r\\n                <div style=\"display:none\"><input name=\"files\" id=\"files\" type=\"file\"/></div>\\r\\n            </span>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div>\\r\\n    <div class=\"fileattachment-list\"></div>\\r\\n    <div class=\"fileattachment-img-modal\"></div>\\r\\n</div>\\r\\n\\r\\n<script type=\"text/x-kendo-template\" id=\"fileTemplate\">\\r\\n    <div class=\"thumbnail-file\">\\r\\n        <div class=\"cursor-pointer thumbnail-img\">\\r\\n            # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n            <img src=\"data:image/png;base64,#= Content.data #\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\';\" alt=\"#: DisplayName # image\" />\\r\\n            # } else{ #\\r\\n            <img class=\"default-icon\" src=\"/Content/Images/Icons/FileUpload/document.svg\" onerror=\"this.onerror = null; this.src = \\'/Content/Images/Icons/FileUpload/document.svg\\'\">\\r\\n            # } #\\r\\n        </div>\\r\\n        <div class=\"thumbnail-caption\">\\r\\n            <span>#: DisplayName #</span>\\r\\n            <div class=\"overlay\">\\r\\n                # if (DisplayName.toLowerCase().match(/\\\\.(jpg|jpeg|png|gif)$/)) { #\\r\\n                <span class=\"label\">\\r\\n                    <a class=\"icon custom-click view\" view-image title=\"View Image\">\\r\\n                        <i class=\"fa fa-eye\"></i>\\r\\n                    </a>\\r\\n                </span>\\r\\n                <span class=\"label\">\\r\\n                    <a class=\"icon custom-click opennewtab\" title=\"Open in New Tab\">\\r\\n                        <i class=\"fa fa-external-link\"></i>\\r\\n                    </a>\\r\\n                </span>\\r\\n                # } #\\r\\n                # if (BaseId!=null) { #\\r\\n                <span class=\"label\">\\r\\n                    <a class=\"icon custom-click download\" title=\"Download\">\\r\\n                        <i class=\"fa fa-download\"></i>\\r\\n                    </a>\\r\\n                </span>\\r\\n                # } #\\r\\n                <span class=\"label\">\\r\\n                    <a class=\"k-delete-button icon\" href=\"\\\\\\\\#\"  title=\"<%= localization.Remove %>\"><i class=\"fa fa-trash\"></i></a>\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</script>\\r\\n<style>\\r\\n\\r\\n</style>';});\n\n","/**\r\nfileAttachmentsDragDrop\r\n**/\r\n\r\ndefine('forms/predefined/fileAttachmentsDragDrop/controller',['require','text!forms/predefined/fileAttachmentsDragDrop/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/predefined/fileAttachmentsDragDrop/view.html\");\r\n   \r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n            //get file content for images\r\n            if (!_.isUndefined(vm.FileAttachment) && vm.FileAttachment.length > 0) {\r\n                _.each(vm.FileAttachment, function (file) {\r\n                    if (file.DisplayName.toLowerCase().match(/\\.(jpg|jpeg|png|gif)$/)) {\r\n                        $.ajax({\r\n                            type: \"GET\",\r\n                            async: false,\r\n                            url: \"/FileAttachment/GetFileContent/\",\r\n                            data: { id: file.BaseId }\r\n                        }).then(function (data) {\r\n                            file.Content.data = data;\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n\r\n            var properties = {\r\n                Required: node.Required,\r\n                BaseId: vm.BaseId,\r\n                AcceptExtension: _.isUndefined(node.AcceptExtension) ? \"\" : vm.AcceptExtension,\r\n                ClassName: vm.Clas\r\n            };\r\n            $.extend(true, properties, node);\r\n\r\n            var template = $(built(properties));\r\n\r\n            var viewModel = new kendo.observable({\r\n                isDesktop: !app.isMobile(),\r\n                isMobile: app.isMobile(),\r\n                isEnabled: true,\r\n                isVisible: true,\r\n                onSelect: function (e) {\r\n                    template.find(\".k-file-error\").remove();\r\n                    $.each(e.files, function (index, value) {\r\n                        if (!_.isUndefined(node.AcceptExtension)\r\n                            && node.AcceptExtension != \"\"\r\n                            && !(node.AcceptExtension.toLowerCase().indexOf(value.extension.toLowerCase()) > -1)) {\r\n                            kendo.ui.ExtAlertDialog.show({\r\n                                title: localization.ErrorDescription,\r\n                                message: localization.FileExtensionInvalid + node.AcceptExtension,\r\n                                icon: \"fa fa-exclamation\"\r\n                            });\r\n                            e.preventDefault();\r\n                        }\r\n                    });\r\n                },\r\n                onUploadSuccess: function (e) {\r\n                    var vmFiles = !_.isUndefined(vm.FileAttachment) ? vm.FileAttachment : [];\r\n                    var response = e.response;\r\n\r\n                    if (e.operation == \"upload\") {\r\n                        for (var i = 0; i < e.files.length; i++) {\r\n                            var file = e.files[i].rawFile;\r\n                            if (file) {\r\n                                if (!_.isUndefined(response.FileAttachment)) {\r\n                                    vm.FileAttachment.push(response.FileAttachment); //save to viewModel\r\n                                } else if (!_.isUndefined(response.success) && response.success == false) {\r\n                                    kendo.ui.ExtAlertDialog.show({\r\n                                        title: localization.ErrorDescription,\r\n                                        message: response.message,\r\n                                        icon: \"fa fa-exclamation\"\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                onUploadError: function (e) {\r\n                    var err = $.parseJSON(e.XMLHttpRequest.responseText);\r\n                    $.map(e.files, function (file) {\r\n                        console.warn(\"Could not upload \" + file.name);\r\n                    });\r\n                },\r\n                onRemove: function (e) {\r\n                    $.get(\"/FileAttachment/RemoveFileUpload/\", { BaseId: vm.BaseId, fieldName: node.PropertyName }, function (data) {\r\n                        template.find(\".k-file\").parent().remove();\r\n                        //template.find(\"img\").hide();\r\n                        template.find(\"#div\" + node.PropertyName).hide();\r\n                        vm[node.PropertyName] = null;\r\n                    });\r\n                },\r\n                onOpenFile: function (el) {\r\n\r\n                    if (el.hasClass(\"opennewtab\")) {\r\n                        var win = window.open('about:blank');\r\n                        setTimeout(function () { //FireFox seems to require a setTimeout for this to work.\r\n                            win.document.body.appendChild(win.document.createElement('img')).src = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\r\n                            win.href = el.closest(\".thumbnail-file\").find(\".thumbnail-img img\")[0].src;\r\n                            win.focus();\r\n                        }, 0);\r\n\r\n                    }\r\n                    else {\r\n                        var dialog = $('.fileattachment-img-modal');\r\n                        var downloadUrl = app.config.rootURL + \"FileAttachment/ViewFile/\";\r\n                        var listView = template.find(\".fileattachment-list\").data(\"kendoListView\");\r\n                        var item = el.closest(\"[role='option']\");\r\n                        var dataItem = listView.dataSource.getByUid(item.data(\"uid\"));\r\n                        \r\n                        \r\n                        if (dataItem.DisplayName.toLowerCase().match(/\\.(jpg|jpeg|png|gif)$/) && !el.hasClass(\"download\")) {\r\n                            dialog.kendoDialog({\r\n                                modal: true,\r\n                                title: dataItem.DisplayName,\r\n                                content: \"<div class='file-img-container'><img src=\\\"data:image/png;base64,\" + dataItem.Content.data + \"\\\" onerror=\\\"this.onerror = null; this.src = '/Content/Images/Icons/FileUpload/document.svg';\\\" alt=\\\"\" + dataItem.DisplayName + \"\\\" /></div>\",\r\n                                animation: {\r\n                                    open: {\r\n                                        effects: \"fade:in\"\r\n                                    }\r\n                                }\r\n                            });\r\n                            $('.k-window.k-widget').addClass('acivity-popup-window');\r\n                            dialog.data(\"kendoDialog\").open();\r\n                            dialog.parent().css(\"position\", \"fixed\");\r\n\r\n                            //close preview window on overlay click\r\n                            $('.k-overlay').on(\"click\", function () {\r\n                                dialog.data(\"kendoDialog\").close();\r\n                            });\r\n\r\n                        } else {\r\n                            if (dataItem.Content.data && !dataItem.DisplayName.toLowerCase().match(/\\.(jpg|jpeg|png|gif)$/)) {\r\n                                var blob = new Blob([dataItem.Content.data]);\r\n                                var url = window.URL.createObjectURL(blob);\r\n                                var fileName = dataItem.DisplayName;\r\n\r\n                                if (navigator.msSaveOrOpenBlob) {\r\n                                    navigator.msSaveOrOpenBlob(blob, fileName);\r\n                                    return;\r\n                                } else if (window.navigator.msSaveBlob) { // for IE browser\r\n                                    window.navigator.msSaveBlob(blob, fileName);\r\n                                    return;\r\n                                }\r\n\r\n                                var a = document.createElement(\"a\");\r\n                                document.body.appendChild(a);\r\n                                a.style = \"display: none\";\r\n\r\n                                a.href = url;\r\n                                a.download = fileName;\r\n                                a.click();\r\n                                window.URL.revokeObjectURL(url);\r\n                                document.body.removeChild(a);\r\n                            } else if (dataItem.BaseId) {\r\n                                if (dataItem.BaseId != null) {\r\n                                    location.href = downloadUrl + dataItem.BaseId;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            _.defer(function () {\r\n                kendo.bind(template, viewModel);\r\n                template.find(\".fileattachment-list\").kendoListView({\r\n                    dataSource: vm.FileAttachment,\r\n                    template: kendo.template($(\"#fileTemplate\").html()),\r\n                    selectable: \"single\",\r\n                    //change: viewModel.onOpenFile,\r\n                    dataBound: function () {\r\n                        template.find(\".custom-click\").on(\"click\", function () {\r\n                            viewModel.onOpenFile($(this));\r\n                        });\r\n\r\n                        if (!app.isMobile()) {\r\n                            //Remove view image icon if not in mobile.\r\n                            template.find(\"a[view-image]\").parent().hide();\r\n\r\n                            template.find(\".thumbnail-img img\").on(\"click\", function () {\r\n                                viewModel.onOpenFile($(this));\r\n                            });\r\n                        }\r\n                        \r\n                    }\r\n                });\r\n\r\n                $(\"#files\").kendoUpload({\r\n                    async: {\r\n                        saveUrl: \"/FileAttachment/UploadAttachment/\" + vm.BaseId + \"?className=\" + vm.ClassName,\r\n                        removeUrl: \"remove\",\r\n                        autoUpload: true\r\n                    },\r\n                    success:  viewModel.onUploadSuccess,\r\n                    error: viewModel.onUploadError,\r\n                    showFileList: false,\r\n                    dropZone: \".drop-zone-element\"\r\n                });\r\n\r\n                $(\".browse-file\").click(function (e) {\r\n                    $(\"#files\").trigger(\"click\");\r\n                });\r\n\r\n               \r\n            });\r\n            callback(template);\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/string/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input type=\"text\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n           class=\"k-textbox form-control input-sm\"\\r\\n           data-bind=\"value: <%= PropertyName %><% if ( LimitLength ){ %>, events : { blur: view.stringController.CheckLength }<% } %>\"\\r\\n\\r\\n\\r\\n    <% if ( LimitLength ){ %>\\r\\n    maxlength=\"<%= MaxLength %>\"\\r\\n    <% } %>\\r\\n\\r\\n    <% if ( Disabled ){ %>\\r\\n    disabled\\r\\n    <% } %>\\r\\n\\r\\n    <% if ( Required ){ %>\\r\\n    required\\r\\n    <% } %>\\r\\n\\r\\n    />\\r\\n\\r\\n    <% if ( LimitLength ){ %>\\r\\n    <p class=\"help-block validation-summary-errors\" style=\"display: none;\"><%= localization.MaxLengthError.replace(\"{0}\", MaxLength) %></p>\\r\\n    <% } %>\\r\\n\\r\\n</div>';});\n\n","/**\r\nSTRING\r\n**/\r\n\r\ndefine('forms/fields/string/controller',['require','text!forms/fields/string/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/string/view.html\");\r\n\r\n\r\n    var definition = {\r\n\r\n        template: tpl,\r\n        build: function (viewModel, node, callback) {\r\n            \r\n            var vm = node.vm;\r\n            var view = new kendo.View();\r\n\r\n            if (_.isUndefined(vm.view)) {\r\n                vm.view = [];\r\n            }\r\n            vm.view.stringController = {\r\n                CheckLength: function CheckLength(e) { //blur event\r\n                    setTimeout(function () {\r\n                        var elem = $(e.currentTarget);\r\n                        var helpBlock = elem.next();\r\n                        var maxChars = elem.attr('maxlength');\r\n                        var count = elem.val().length;\r\n                        if (count > maxChars) {\r\n                            elem.attr('data-invalid', '');\r\n                            helpBlock.show();\r\n                        } else {\r\n                            helpBlock.hide();\r\n                            elem.removeAttr('data-invalid');\r\n                            elem.data('prevent', false);\r\n                        }\r\n                    }, 100);\r\n                }\r\n            };\r\n\r\n            vm.view.buildStringView = function () {\r\n                //build template using underscore.js so that we can interpret kendo template vars if needed\r\n                var built = _.template(tpl);\r\n                var limitLength = false;\r\n                if (!_.isUndefined(node.MinLength) || !_.isUndefined(node.MaxLength)) {\r\n                    limitLength = true;\r\n                };\r\n\r\n                var properties = {\r\n                    Required: node.Required,\r\n                    Disabled: node.disabled,\r\n                    MinLength: node.MinLength,\r\n                    MaxLength: node.MaxLength,\r\n                    LimitLength: limitLength\r\n                };\r\n                $.extend(true, properties, node);\r\n                \r\n                view = new kendo.View(built(properties), { wrap: false, model: vm });\r\n                callback(view.render());\r\n            };\r\n            vm.view.buildStringView();\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/fields/longstring/view.html',[],function () { return '<div class=\"form-group <%= visible %>\" style=\"\">\\r\\n\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <textarea name=\"<%= PropertyName %>\"\\r\\n              class=\"k-textbox form-control input-sm\"\\r\\n              rows=\"<%= Rows %>\"\\r\\n              data-bind=\"value: <%= PropertyName %><% if ( LimitLength ){ %>, events : { blur: view.longStringController.CheckLength }<% } %>\"\\r\\n        <% if ( LimitLength ){ %>\\r\\n        maxlength=\"<%= MaxLength %>\"\\r\\n        <% } %>\\r\\n\\r\\n        <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n\\r\\n        >\\r\\n    </textarea>\\r\\n    <% if ( LimitLength ){ %>\\r\\n    <p class=\"help-block validation-summary-errors\" style=\"display: none;\"><%= localization.MaxLengthError.replace(\"{0}\", MaxLength) %></p>\\r\\n    <% } %>\\r\\n</div>\\r\\n<script>\\r\\n    $(\\'textarea[name=ResolutionDescription]\\').removeClass(\\'form-control\\');\\r\\n</script>\\r\\n';});\n\n","/**\r\nLONGSTRING\r\n**/\r\n\r\ndefine('forms/fields/longstring/controller',['require','text!forms/fields/longstring/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/longstring/view.html\");\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (viewModel, node, callback) {\r\n            var vm = node.vm;\r\n            var view = new kendo.View();\r\n\r\n            if (_.isUndefined(vm.view)) {\r\n                vm.view = [];\r\n            }\r\n            vm.view.longStringController = {\r\n                CheckLength: function checkLength(e) { //blur event\r\n                    setTimeout(function () {\r\n                        var elem = $(e.currentTarget);\r\n                        var helpBlock = elem.next();\r\n                        var maxChars = elem.attr('maxlength');\r\n                        var count = elem.val().length;\r\n                        if (count > maxChars) {\r\n                            elem.attr('data-invalid', '');\r\n                            helpBlock.show();\r\n                        } else {\r\n                            helpBlock.hide();\r\n                            elem.removeAttr('data-invalid');\r\n                            elem.data('prevent', false);\r\n                        }\r\n                    }, 100);\r\n                }\r\n            };\r\n            vm.view.buildLongStringView = function () {\r\n                //build template using underscore.js so that we can interpret kendo template vars if needed\r\n                var built = _.template(tpl);\r\n                var limitLength = false;\r\n                if (!_.isUndefined(node.MinLength) || !_.isUndefined(node.MaxLength)) {\r\n                    limitLength = true;\r\n                };\r\n\r\n                var properties = {\r\n                    Required: node.Required,\r\n                    Disabled: node.disabled,\r\n                    MinLength: node.MinLength,\r\n                    MaxLength: node.MaxLength,\r\n                    LimitLength: limitLength,\r\n                    Rows: 10,\r\n                    visible: (!_.isUndefined(node.IsVisible) && node.IsVisible == false ? \"hidden\" : \"\")\r\n                };\r\n                $.extend(true, properties, node);\r\n                //console.log(properties);\r\n                view = new kendo.View(built(properties), { wrap: false, model: vm });\r\n                callback(view.render());\r\n            };\r\n            vm.view.buildLongStringView();\r\n        }\r\n    }\r\n\r\n    return definition;\r\n});\r\n\n","\ndefine('text!forms/fields/boolean/view.html',[],function () { return '<div class=\"form-group <%= visible %>\">\\r\\n    <% if ( !Inline ){ %>\\r\\n    <label class=\"control-label\" data-localize=\"<%= PropertyDisplayName %>\"><span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span></label>\\r\\n    <% } %>\\r\\n\\r\\n    <div class=\"checkbox <% if ( Inline ){ %> checkbox-inline <% } else { %> checkbox-block <% } %>\">\\r\\n        <input type=\"checkbox\"\\r\\n               name=\"<%= PropertyName %>\"\\r\\n               id=\"<%= PropertyName %>\"\\r\\n               data-bind=\"checked: <%= PropertyName %>\"<% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        />\\r\\n\\r\\n\\r\\n        <label class=\"control-label\" for=\"<%= PropertyName %>\">\\r\\n            <% if ( Inline ){ %>\\r\\n            <span data-localize=\"<%= PropertyDisplayName %>\"></span>\\r\\n            <% } %>\\r\\n        </label>\\r\\n\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nBOOLEAN\r\n**/\r\n\r\ndefine('forms/fields/boolean/controller',['require','text!forms/fields/boolean/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/boolean/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n            var properties = {\r\n                Disabled: node.disabled,\r\n                Required: node.Required,\r\n                Inline: node.Inline || false,\r\n                visible: (!_.isUndefined(node.IsVisible) && node.IsVisible == false ? \"hidden\" : \"\")\r\n        };\r\n            \r\n            \r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/display/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <% if ( !HideLabel ){ %>\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\"></label>\\r\\n    <% } %>\\r\\n    <div class=\"display-field\" data-bind=\"text: <%= PropertyName %>\"></div>\\r\\n</div>';});\n\n","/**\r\nDISPLAY\r\n**/\r\n\r\ndefine('forms/fields/display/controller',['require','text!forms/fields/display/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/display/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n            var properties = {\r\n                HideLabel: false\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/spacer/view.html',[],function () { return '<div class=\"form-group\">\\r\\n\\r\\n</div>';});\n\n","/**\r\nSPACER\r\n**/\r\n\r\ndefine('forms/fields/spacer/controller',['require','text!forms/fields/spacer/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/spacer/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n            var properties = {\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/numeric/view.html',[],function () { return '<div data-cid=\"NumericControl\" data-cid-propname=\"<%= PropertyName %>\" class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input type=\"number\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n           class=\"form-control form-control-picker input-sm\"\\r\\n           data-control=\"numericTextBox\"\\r\\n           data-bind=\"value: <%= PropertyName %>\"\\r\\n           data-control-decimals=\"<%= DecimalPlaces %>\"\\r\\n           data-control-min=\"<%= MinValue%>\"\\r\\n           data-control-max=\"<%= MaxValue %>\"\\r\\n           data-step=\"<%= StepIncrement %>\"\\r\\n           data-format=\"<%= Format%>\"\\r\\n\\r\\n            <% if ( Disabled ){ %>\\r\\n                disabled\\r\\n            <% } %>\\r\\n\\r\\n            <% if ( Required ){ %>\\r\\n            required\\r\\n            <% } %>\\r\\n\\r\\n    />\\r\\n</div>';});\n\n","/**\r\nNUMERIC\r\n**/\r\n\r\ndefine('forms/fields/numeric/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                Required: node.Required,\r\n                DecimalPlaces: 2,\r\n                MinValue: 0,\r\n                MaxValue: 100,\r\n                StepIncrement: 1,\r\n                Disabled: node.disabled,\r\n                Format: ''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","/**\r\nINT32\r\n**/\r\n\r\ndefine('forms/fields/int/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\"); //use numeric template\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            var boundObj = node.vm;\r\n            //make sure we have all the vals set\r\n            \r\n            var properties = {\r\n                Required: node.Required,\r\n                DecimalPlaces: 0,\r\n                MinValue: -2147483648,\r\n                MaxValue: 2147483648,\r\n                StepIncrement: 1,\r\n                Disabled: node.disabled,\r\n                Format: ''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            var templateFrag = $(built(properties));\r\n            new Control(templateFrag.find(\"[data-control='numericTextBox']\"), boundObj, node);\r\n\r\n            callback(templateFrag);\r\n        }\r\n    }\r\n\r\n\r\n    var Control = function (targetEle, boundObj, node) {\r\n\r\n        //This will be used for mobile because the numeric event wont triggering when you type in the value.\r\n        if (app.isMobile()) {\r\n            var editor = targetEle.data();\r\n            setTimeout(function () {\r\n                var number = targetEle.parent().find(\"input[type='number']\");\r\n                number.change(function () {\r\n                    boundObj.set(node.PropertyName, number.val());\r\n                });\r\n            }, 100);\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","/**\r\nDECIMAL\r\n**/\r\n\r\ndefine('forms/fields/decimal/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\"); //use numeric template\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                //Required: false,\r\n                DecimalPlaces: 20,\r\n                MinValue: '',\r\n                MaxValue: '',\r\n                StepIncrement: 1,\r\n                Disabled: node.disabled,\r\n                Required: node.Required,\r\n                Format: ''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","/**\r\nDOUBLE\r\n**/\r\n\r\ndefine('forms/fields/double/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\"); //use numeric template\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                //Required: false,\r\n                DecimalPlaces: 19,\r\n                MinValue: '',\r\n                MaxValue: '',\r\n                StepIncrement: 1,\r\n                Disabled: node.disabled,\r\n                Required: node.Required,\r\n                Format:''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/date/view.html',[],function () { return '<div class=\"form-group\"\\r\\n    <% if ( Required ){ %>\\r\\n    required\\r\\n    <% } %>\\r\\n    >\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input name=\"<%= PropertyName %>\"\\r\\n           data-control=\"datePicker\"\\r\\n           data-control-bind=\"<%= PropertyName %>\"\\r\\n           data-control-from=\"<%= FromFilter %>\"\\r\\n           data-control-to=\"<%= ToFilter %>\"\\r\\n           data-control-from-relative=\"<%= FromRelative %>\"\\r\\n           data-control-to-relative=\"<%= ToRelative %>\"\\r\\n    <% if ( Disabled ){ %>\\r\\n    disabled\\r\\n    <% } %>\\r\\n\\r\\n     />\\r\\n</div>';});\n\n","/**\r\nDate\r\n**/\r\n\r\ndefine('forms/fields/date/controller',['require','text!forms/fields/date/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/date/view.html\");\r\n\r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                FromFilter: '',\r\n                ToFilter: '',\r\n                FromRelative: '',\r\n                ToRelative: '',\r\n                Disabled: node.disabled,\r\n                Required: node.Required\r\n            };\r\n\r\n            //set from filter\r\n            if (node.MinValue != undefined) {\r\n                if (node.MinValue.indexOf(\":\") != -1) {\r\n                    properties.FromRelative = node.MinValue;\r\n                } else if (typeof node.MinValue == \"string\") {\r\n                    properties.FromFilter = node.MinValue;\r\n                }\r\n            }\r\n\r\n            //set to filter\r\n            if (node.MaxValue != undefined) {\r\n                if (node.MaxValue.indexOf(\":\") != -1) {\r\n                    properties.ToRelative = node.MaxValue;\r\n                } else if (typeof node.MaxValue == \"string\") {\r\n                    properties.ToFilter = node.MaxValue;\r\n                }\r\n            }\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/datetime/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n\\r\\n    <input name=\"<%= PropertyName %>\"\\r\\n           data-control=\"dateTimePicker\"\\r\\n           data-control-bind=\"<%= PropertyName %>\"\\r\\n           data-control-from=\"<%= FromFilter %>\"\\r\\n           data-control-to=\"<%= ToFilter %>\"\\r\\n           data-control-from-relative=\"<%= FromRelative %>\"\\r\\n           data-control-to-relative=\"<%= ToRelative %>\"\\r\\n    \\r\\n    <% if ( Disabled ){ %>\\r\\n    disabled\\r\\n    <% } %>\\r\\n\\r\\n    <% if ( Required ){ %>\\r\\n    required\\r\\n    <% } %>\\r\\n\\r\\n    >\\r\\n</div>';});\n\n","/**\r\nDATETIME\r\n**/\r\n\r\ndefine('forms/fields/datetime/controller',['require','text!forms/fields/datetime/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/datetime/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                FromFilter: '',\r\n                ToFilter: '',\r\n                FromRelative: '',\r\n                ToRelative: '',\r\n                Disabled: node.disabled,\r\n                Required: node.Required\r\n            };\r\n\r\n            //set from filter\r\n            if (typeof node.MinValue == \"string\") {\r\n                if (node.MinValue.indexOf(\":\") != -1) {\r\n                    properties.FromRelative = node.MinValue;\r\n                } else {\r\n                    properties.FromFilter = node.MinValue;\r\n                }\r\n            }\r\n\r\n            //set to filter\r\n            if (typeof node.MaxValue == \"string\") {\r\n                if (node.MaxValue.indexOf(\":\") != -1) {\r\n                    properties.ToRelative = node.MaxValue;\r\n                 } else {\r\n                    properties.ToFilter = node.MaxValue;\r\n                 }\r\n            }\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/enum/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n\\r\\n    <div class=\"form-control form-control-picker input-sm\"\\r\\n         data-url=\"/api/V3/Enum/GetList\"\\r\\n         data-combourl=\"/api/V3/Enum/GetFlatList/\"\\r\\n         data-showpath=\"<%= ShowPath %>\"\\r\\n         data-mustselectleafnode=\"<%= LeafNodeOnly %>\"\\r\\n         data-bind=\"ciresonDropDownTree: \\'<%= EnumId %>\\', value: <%= PropertyName %>\"\\r\\n         data-disabled=\"<%= Disabled %>\"\\r\\n         data-role=\"<%= PropertyName %>\"\\r\\n         data-filter=\"<%= FilterIds%>\"\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n        >\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>';});\n\n","/**\r\nENUM - dropDownTree\r\n**/\r\n\r\ndefine('forms/fields/enum/controller',['require','text!forms/fields/enum/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/enum/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                EnumId: '',\r\n                Required: node.Required,\r\n                Disabled: node.disabled,\r\n                LeafNodeOnly: false,\r\n                ShowPath: false,\r\n                FilterIds: ''\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/userPicker/view.html',[],function () { return '<div class=\"form-group\" data-cid=\"userpicker\" data-cid-propname=\"<%= PropertyName %>\"\\r\\n            <% if ( Required ){ %>\\r\\n            required\\r\\n            <% } %>>\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input class=\"input-userpicker\"\\r\\n           data-control=\"userPicker\"\\r\\n           data-control-bind=\"<%= PropertyName %>\"\\r\\n           data-control-extra=\"<%= ExtraProps %>\"\\r\\n           data-control-delay=\"<%= Delay %>\"\\r\\n           data-control-minlength=\"<%= MinLength %>\"\\r\\n           data-control-filterbyanalyst=\"<%= FilterByAnalyst%>\"\\r\\n           data-control-maxnumberofresults=\"<%= MaxNumberOfResults%>\"\\r\\n           type=\"text\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n            <% if ( Disabled ){ %>\\r\\n            disabled\\r\\n            <% } %>\\r\\n\\r\\n    />\\r\\n</div>';});\n\n","\ndefine('text!forms/popups/userPickerPopup/view.html',[],function () { return '<div id=\"UserPickerPopupWindow\" class=\"cireson-window defined-form task-window\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div class=\"row\">\\r\\n                <div class=\"col-md-6\">\\r\\n                    <div class=\"form-group popup-search-box\">\\r\\n                        <input type=\"text\" data-value-update=\"keyup\" placeholder=\"<%= localization.SearchText %>\" data-bind=\"value: searchValue, events: { keypress: searchOnEnter }\" class=\"search-input\">\\r\\n                        <span data-bind=\"events:{click: search}\" class=\"search-icon\">\\r\\n                            <i class=\"fa fa-search\"></i>\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div data-bind=\"visible: isDesktopView\">\\r\\n                <div data-control-grid=\"userPickerGrid\"></div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <div class=\"row\" data-bind=\"visible: isMobileView\">\\r\\n                <div class=\"col-md-4\">\\r\\n                    <div data-role=\"listview\"\\r\\n                         data-bind=\"source: userDataSource, events:{change: onListViewChanged}\"\\r\\n                         data-template=\"user-grid-mobile-template\"\\r\\n                         data-selectable=\"true\"\\r\\n                         class=\"user-listBox\"></div>\\r\\n                    <div data-role=\"pager\"\\r\\n                         data-bind=\"source: userDataSource\"\\r\\n                         data-numeric=\"false\"></div>\\r\\n                    <script type=\"text/x-kendo-template\" id=\"user-grid-mobile-template\">\\r\\n                        <div class=\"user-info\">\\r\\n                            <dl>\\r\\n                                <dt>#: FirstName # #: LastName #</dt>\\r\\n                                <dd>#: UserName # &middot; #: Title #</dd>\\r\\n                                <dd>#: Domain # &middot; #: Company #</dd>\\r\\n                            </dl>\\r\\n                        </div>\\r\\n\\r\\n                    </script>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\"cireson-window--footer window-buttons objectPicker-single-grid\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\\r\\n';});\n\n","/**\r\nuserPickerPopup\r\n**/\r\nvar __userPickerPopupSingleton;\r\n\r\ndefine('forms/popups/userPickerPopup/controller',['require','text!forms/popups/userPickerPopup/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/popups/userPickerPopup/view.html\");\r\n    var singletonName = \"userPickerPopup\"; // used to call for singleton\r\n    var definition = {\r\n        template: tpl,\r\n        getPopup: function (groupsOnly) {\r\n            // keep popup window as singleton\r\n            if (__userPickerPopupSingleton) {\r\n                return __userPickerPopupSingleton;\r\n            }\r\n            //only build the template if the popup singleton does not exist.\r\n            var built = _.template(tpl);\r\n            var ele = $(built());\r\n\r\n            $(\"body\").append(ele);\r\n            __userPickerPopupSingleton = new UserPickerPopup(ele, groupsOnly);\r\n            \r\n            return __userPickerPopupSingleton;\r\n        }\r\n    }\r\n\r\n    /* -- UserPickerPopup --\r\n        // params\r\n            targetEle = domEle to create popup with\r\n        // public methods               \r\n            setSaveCallback = function(callback) sets callback to listen for save event\r\n            // callback returns selected user object\r\n    */\r\n\r\n    // NAME/ID pair data model\r\n    // used to map name/id to server or viewModel\r\n    // Generic getter and setters:  name,id\r\n    var NameIdModel = function (nameProp, idProp) {\r\n        var self = this;\r\n        this.serverNameProp = nameProp;\r\n        this.serverIdProp = idProp;\r\n        var data = {};\r\n        data[self.serverNameProp];\r\n        data[self.serverIdProp];\r\n        this.set = {\r\n            name: function (val) { data[self.serverNameProp] = val; },\r\n            id: function (val) { data[self.serverIdProp] = val; }\r\n        }\r\n        this.setObj = function (name, id) {\r\n            self.set.name(name); self.set.id(id);\r\n        }\r\n        this.setFromObj = function (obj) {\r\n            self.setObj(obj[self.serverNameProp], obj[self.serverIdProp]);\r\n        }\r\n        this.get = {\r\n            name: function () { return data[self.serverNameProp]; },\r\n            id: function () { return data[self.serverIdProp]; }\r\n        }\r\n        this.getFromObj = function (obj) {\r\n            self.setFromObj(obj);\r\n            return data;\r\n        }\r\n        this.getObj = function (name, id) { if (typeof (name) != \"undefined\" && typeof (id) != \"undefined\") { self.setObj(name, id); } return data; }\r\n        this.getGenericFromObj = function (obj) {\r\n            this.setFromObj(obj);\r\n            return {\r\n                name: self.get.name(),\r\n                id: self.get.id()\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // CONTROL\r\n    var UserPickerPopup = function (targetEle, groupsOnly) {\r\n        var self = this;\r\n        var html = targetEle;\r\n        var gridHtml = targetEle.find(\"[data-control-grid]\");\r\n        var grid;\r\n        var gridUrl = groupsOnly\r\n            ? \"/User/GetUserSearchResults?groupsOnly=true\"\r\n            : \"/User/GetUserSearchResults\";\r\n        var popup;\r\n        var _vm;\r\n\r\n        // model getters/setters\r\n        // Props return from grid search to match to generic model\r\n        var _textProp = \"Name\";\r\n        var _idProp = \"Id\";\r\n        var _model = new NameIdModel(_textProp, _idProp);\r\n\r\n        // getter/setters        \r\n        this.setSaveCallback = function (callback) {\r\n            $(self).unbind(\"save\")\r\n                .bind(\"save\", function (e, obj) { callback(obj); });\r\n        }\r\n        this.setCancelCallback = function (callback) {\r\n            $(self).unbind(\"cancel\")\r\n                .bind(\"cancel\", function (e, obj) { callback(obj); });\r\n        }\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n            _vm = kendo.observable({\r\n                searchText: localization.SearchText,\r\n                selectUserText: groupsOnly ? localization.SelectGroup : localization.SelectUser,\r\n                searchValue: \"\",\r\n                //okText: localization.OK,\r\n                //cancelText: localization.Cancel,\r\n                search: onSearchClick,\r\n                searchOnEnter: function(e) {\r\n                    if (e.which == 13) {\r\n                        e.preventDefault();\r\n                        onSearchClick();\r\n                    }\r\n                },\r\n                save: onSaveClick,\r\n                cancel: onCancelClick,\r\n                userDataSource: new kendo.data.DataSource(),\r\n                onListViewChanged: function (e) {\r\n                    var index = e.sender.select().index();\r\n                    var dataItem = e.sender.dataSource.view()[index];\r\n                    this.set(\"selectedUser\", dataItem);\r\n                },\r\n                selectedUser: null,\r\n                isDesktopView: !app.isMobileDevice(),\r\n                isMobileView: app.isMobileDevice()\r\n\r\n        });\r\n            kendo.bind(html, _vm);\r\n            createPopup();\r\n            createGrid();\r\n            bindEvents();\r\n            self.open = openPopup;\r\n            self.close = closePopup;\r\n            self.vm = _vm;\r\n        }\r\n\r\n        /************************/\r\n        /*** CONTROL EVENTS *****/\r\n        /************************/\r\n\r\n        var bindEvents = function () {\r\n            \r\n        }\r\n\r\n        /******************************/\r\n        /*** CONTROL USER ACTIONS *****/\r\n        /******************************/\r\n\r\n        var onSearchClick = function () {\r\n            grid.search(_vm.searchValue);\r\n        }\r\n        var onSaveClick = function (e) {\r\n            var onMobile = app.isMobileDevice();\r\n            if (onMobile) {\r\n                if (!_.isNull(_vm.selectedUser)) {\r\n                    var userObj = _model.getGenericFromObj(_vm.selectedUser);\r\n                    $(self).trigger(\"save\", userObj);\r\n                    closePopup();\r\n                }\r\n            } else {\r\n                var selectedRow = grid.kendoGrid.select();\r\n                if (selectedRow) {\r\n                    var obj = _model.getGenericFromObj(grid.kendoGrid.dataItem(selectedRow));\r\n                    $(self).trigger(\"save\", obj);\r\n                    closePopup();\r\n                }\r\n            }\r\n        }\r\n        var onCancelClick = function () {\r\n            $(self).trigger(\"cancel\");\r\n            closePopup();\r\n        }\r\n\r\n        /*************************/\r\n        /*** CONTROL METHODS *****/\r\n        /*************************/\r\n        var openPopup = function () {\r\n            //clear out search box value and search results before opening the window\r\n            self.vm.set(\"searchValue\", \"\");\r\n            grid.kendoDataSource.data([]);\r\n            popup.kendoWindow.open();\r\n        }\r\n        var closePopup = function () {\r\n            popup.kendoWindow.close();\r\n        }\r\n        var createPopup = function () {\r\n            popup = new Popup(groupsOnly);\r\n        }        \r\n        var createGrid = function () {\r\n            grid = new Grid({\r\n                html: gridHtml,\r\n                url: gridUrl\r\n            });\r\n        }\r\n\r\n        /****************************/\r\n        /*** CONTROL SUBCLASSES *****/\r\n        /****************************/\r\n\r\n        /* -- Popup --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n               \r\n        */\r\n        var Popup = function (groupsOnly) {\r\n            var self = this;\r\n            var kendoWindow;\r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoWindow();\r\n                self.kendoWindow = kendoWindow;\r\n            }\r\n\r\n            // EVENTS\r\n           \r\n            // ACTIONS\r\n\r\n            // METHODS\r\n            \r\n            var createKendoWindow = function() {\r\n                kendoWindow = html.kendoCiresonWindow({\r\n                    title: groupsOnly ? localization.SelectGroup : localization.SelectUser,\r\n                    content: null,\r\n                    width: 680,\r\n                    height: 420,\r\n                    actions: [\"Close\"]\r\n                }).data(\"kendoWindow\");\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /* -- Grid --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n        */\r\n        var Grid = function (settings) {\r\n            // settings\r\n            var self = this;\r\n            var html = settings.html;\r\n            var url = settings.url;\r\n            var height = 200;\r\n            var kendoGrid;\r\n            var kendoDataSource;\r\n            var searchValue;\r\n            // private params           \r\n           \r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoDataSource();\r\n                createKendoGrid();\r\n                kendoGrid.pager.element.hide();\r\n                bindEvents();\r\n                self.kendoGrid = kendoGrid;\r\n                self.kendoDataSource = kendoDataSource;\r\n                self.search = search;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            var bindEvents = function () {\r\n                kendoGrid.bind(\"dataBound\", function (e) {\r\n                    kendoGrid.pager.element.show();\r\n                });\r\n                kendoGrid.element.on(\"dblclick\", \"tbody>tr\", onRowDblClick);\r\n            }\r\n\r\n            // ACTIONS\r\n\r\n            var onRowDblClick = function () {\r\n                kendoGrid.select($(this));\r\n                onSaveClick();\r\n            }\r\n\r\n            // METHODS\r\n\r\n            var search = function(value){\r\n                searchValue = value;\r\n                kendoDataSource.read();\r\n                kendoDataSource.page(1);\r\n\r\n                _vm.set(\"userDataSource\", kendoDataSource);\r\n            }\r\n            var createKendoDataSource = function () {\r\n                kendoDataSource = new kendo.data.DataSource({\r\n                    \"transport\": {\r\n                        \"prefix\": \"\",\r\n                        \"read\": {\r\n                            \"url\": url,\r\n                            \"data\": function() {\r\n                                return {\r\n                                    userFilter: function() {\r\n                                        return searchValue;\r\n                                    },\r\n                                    filterByAnalyst: _vm.filterByAnalyst\r\n                                }\r\n                            },\r\n                            \"type\": \"GET\"\r\n                        }\r\n                    },\r\n                    \"pageSize\": app.isMobileDevice ? 3 : 15,\r\n                    \"serverPaging\": true,\r\n                    \"serverSorting\": true,\r\n                    \"serverFiltering\": true,\r\n                    \"serverGrouping\": true,\r\n                    \"total\": 0,\r\n                    \"type\": \"aspnetmvc-ajax\",\r\n                    \"schema\": {\r\n                        \"data\": \"Data\",\r\n                        \"total\": \"Total\",\r\n                        \"errors\": \"Errors\",\r\n                        \"model\": {\r\n                            \"fields\": {\r\n                                \"Id\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Name\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"PrincipalName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"UserName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Domain\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Company\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Title\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"FirstName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"LastName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"EmployeeId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Analyst\": {\r\n                                    \"type\": \"number\"\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            var createKendoGrid = function () {\r\n                kendoGrid = html.kendoGrid({\r\n                    height: height,\r\n                    dataSource: kendoDataSource,\r\n                    selectable: \"Single,Row\",\r\n                    sortable: { mode: \"multiple\" },\r\n                    pageable: true,\r\n                    filterable: {\r\n                        extra: false,\r\n                        operators: {\r\n                            string: {\r\n                                startswith: localization.Startswith,\r\n                                contains: localization.Contains,\r\n                                eq: localization.Isequalto,\r\n                                neq: localization.Isnotequalto\r\n                            }\r\n                        }\r\n                    },\r\n                    autoBind: false,\r\n                    columns: [{\r\n                        \"title\": localization.id,\r\n                        \"hidden\": true,\r\n                        \"field\": \"Id\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.FirstName,\r\n                        \"attributes\": {\r\n                            \"class\": \"grid-highlight-column\"\r\n                        },\r\n                        \"width\": \"110px\",\r\n                        \"field\": \"FirstName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.LastName,\r\n                        \"attributes\": {\r\n                            \"class\": \"grid-highlight-column\"\r\n                        },\r\n                        \"width\": \"110px\",\r\n                        \"field\": \"LastName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Title,\r\n                        \"field\": \"Title\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.UserName,\r\n                        \"field\": \"UserName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Domain,\r\n                        \"field\": \"Domain\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Company,\r\n                        \"field\": \"Company\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }],\r\n                }).data(\"kendoGrid\");\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /*************/\r\n        /*** END *****/\r\n        /*************/\r\n\r\n        __construct();\r\n        \r\n\r\n    }\r\n    return definition;\r\n\r\n});\n","/**\nuserPicker\n**/\n\ndefine('forms/fields/userPicker/controller',['require','text!forms/fields/userPicker/view.html','forms/popups/userPickerPopup/controller'],function (require) {\n    var tpl = require(\"text!forms/fields/userPicker/view.html\");\n    var userPickerPopup = require(\"forms/popups/userPickerPopup/controller\");\n    var definition = {\n        template: tpl,\n        build: function (vm, node, callback) {\n            if (_.isUndefined(node.vm)) {\n                boundObj = node;\n                name = node.PropertyName;\n            } else {\n                boundObj = node.vm;\n                name = node.PropertyName;\n            }\n            // add default values\n            var properties = {\n                Required: node.Required, // TODO: yo, this is stupid. fix it.\n                Disabled: node.disabled, // TODO: yo, this is stupid. fix it.\n                ExtraProps: false,\n                Delay: 200,\n                MinLength: 3,\n                FilterByAnalyst: false,\n                MaxNumberOfResults: 10\n            }\n            $.extend(true, properties, node);\n            var built = _.template(tpl);\n            var templateFrag = $(built(properties));\n            var popupWindow = userPickerPopup.getPopup();\n\n            // comment out next two lines to go back to using app.controls\n            var objectPicker = new Control(templateFrag.find(\"[data-control='userPicker']\"), boundObj, name, popupWindow);\n            templateFrag.find(\"[data-control='userPicker']\").attr(\"data-control\", \"userPickerBound\");\n\n            callback(templateFrag);\n        }\n    }\n\n    // NAME/ID pair data model\n    // used to map name/id to server or viewModel\n    // Generic getter and setters:  name,id\n    var NameIdModel = function (nameProp, idProp) {\n        var self = this;\n        this.serverNameProp = nameProp;\n        this.serverIdProp = idProp;\n        var data = {};\n        data[self.serverNameProp];\n        data[self.serverIdProp];\n        this.set = {\n            name: function (val) { data[self.serverNameProp] = val; },\n            id: function (val) { data[self.serverIdProp] = val; }\n        }\n        this.setObj = function (name, id) {\n            self.set.name(name); self.set.id(id);\n        }\n        this.setFromObj = function (obj) {\n            self.setObj(obj[self.serverNameProp], obj[self.serverIdProp]);\n        }\n        this.get = {\n            name: function () { return data[self.serverNameProp]; },\n            id: function () { return data[self.serverIdProp]; }\n        }\n        this.getFromObj = function (obj) {\n            self.setFromObj(obj);\n            return data;\n        }\n        this.getObj = function (name, id) { if (typeof (name) != \"undefined\" && typeof (id) != \"undefined\") { self.setObj(name, id); } return data; }\n        this.getGenericFromObj = function (obj) {\n            this.setFromObj(obj);\n            return {\n                name: self.get.name(),\n                id: self.get.id()\n            }\n        }\n\n    }\n    // CONTROL\n    var Control = function (targetEle, boundObj, name, popupWindow) {\n        // control parameters\n        var targetEle = targetEle;\n        var extraProps = targetEle.attr(\"data-control-extra\");\n        var delay = targetEle.attr(\"data-control-delay\");\n        var minLength = targetEle.attr(\"data-control-minlength\");\n        var filterByAnalyst = targetEle.attr(\"data-control-filterByAnalyst\");\n        var maxNumberOfResults = targetEle.attr(\"data-control-maxNumberOfResults\");\n        var autoCompleteUrl = \"/api/V3/User/GetUserList\";\n        var detailsPopupUrl = \"/Search/ObjectViewer\";\n        var objectExtraUrl = \"/Search/GetObjectPropertiesByProjection?projectionId=490ab845-b14c-1d91-c39f-bb9e8a350933&id=\";\n        var boundObj = boundObj;\n        var propName = name;\n        var popupWindow = popupWindow;\n\n        // viewModel getters/setters\n        var _textProp = \"DisplayName\";\n        var _idProp = \"BaseId\";\n        var _model = new NameIdModel(_textProp, _idProp);\n        app.lib.forceKendoProp(boundObj, propName, kendo.observable(_model.getObj(null, null)));\n        var get = {\n            obj: function () { return boundObj[propName]; },\n            name: function () { return boundObj[propName][_textProp]; },\n            id: function () { return boundObj[propName][_idProp]; }\n        }\n        var set = {\n            obj: function (name, id) {\n                boundObj[propName].set(_idProp, id);\n                boundObj[propName].set(_textProp, name);\n            }\n        }\n\n        // private properties\n        var helperBlock;\n        var autoComplete;\n\n\n        /*******************/\n        /*** CONSTRUCT *****/\n        /*******************/\n\n        var __construct = function () {\n            createHelperBlock();\n            createAutocomplete();\n            refreshDisplayValues();\n            bindEvents();\n        }\n\n        /************************/\n        /*** CONTROL EVENTS *****/\n        /************************/\n\n        var bindEvents = function () {\n            boundObj[name].bind(\"change\", function () {\n                refreshDisplayValues();\n            });\n        }\n\n        /******************************/\n        /*** CONTROL USER ACTIONS *****/\n        /******************************/\n\n        var onAutoCompleteValueChanged = function (obj) {\n            if (obj) {\n                set.obj(obj.name, obj.id);\n            } else {\n                set.obj(null, null);\n            }\n        }\n        var onSearchIconClick = function () {\n            popupWindow.setSaveCallback(function (obj) {\n                set.obj(obj.name, obj.id);\n            });\n            popupWindow.vm.filterByAnalyst = filterByAnalyst;\n            popupWindow.open();\n        }\n\n        /*************************/\n        /*** CONTROL METHODS *****/\n        /*************************/\n\n        //do we have a model set in the bound object\n        //not sure what the get object is -jk\n        var isModelSet = function () {\n            return (boundObj && boundObj[name] && get.name() && get.id()) ? true : false;\n        }\n\n        //lets check for boundObject that is nulled\n        var isModelSetNulled = function () {\n            return (boundObj && boundObj[name] && _.isNull(get.name()) && _.isNull(get.id()) ) ? true : false;\n        }\n\n        var hasExtraProps = function () {\n            return (extraProps && extraProps != \"false\");\n        }\n        var createHelperBlock = function () {\n            if (hasExtraProps()) {\n                helperBlock = new HelperBlock({\n                    url: objectExtraUrl,\n                    container: targetEle.parent(),\n                    props: extraProps.split(\",\")\n                });\n            }\n        }\n        var createAutocomplete = function () {\n            autoComplete = new AutoComplete({\n                url: autoCompleteUrl,\n                detailsUrl: detailsPopupUrl,\n                targetEle: targetEle,\n                delay: delay,\n                minLength: minLength,\n                callback: onAutoCompleteValueChanged,\n                maxNumberOfResults: maxNumberOfResults\n            });\n        }\n        var refreshDisplayValues = function () {\n\n            if (isModelSet()) {\n                if (helperBlock) {\n                    helperBlock.setDisplay(get.id());\n                }\n                if (autoComplete) {\n                    autoComplete.setValue(get.name(), get.id());\n                }\n            }\n            /**Added to fix Task/BUG 2148: When using the Assign to Analyst by group task (where there is no assigned to user) in the portal, \n            then select an analyst and click \"cancel\" the analyst still appears on the form.**/\n            else if (isModelSetNulled()) {\n                if (autoComplete) {\n                    autoComplete.setValue(\"\", null);\n                }\n            }\n        }\n\n        /****************************/\n        /*** CONTROL SUBCLASSES *****/\n        /****************************/\n\n        /* -- HelperBlock --\n            // params\n                settings = {\n                    url: \"\", // url to get object extra props\n                    container: jqEle, // where helpblock will get appended\n                    props: [], // array of property names to be displayed in order\n                    delay: \"\", //numeric delay in ms before search is performed\n                    minLength: \"\", //numeric length of chars before search is performed\n                }\n            // public methods\n                obj.setDisplay(objectId) /// goes to server then displays helper data for that objectId\n        */\n        var HelperBlock = function (settings) {\n            var self = this;\n            var html;\n            var _vm;\n            var container = settings.container;\n            var url = settings.url;\n            var props = settings.props;\n\n            // CONSTRUCT\n\n            var __construct = function () {\n                createHtml();\n                createViewModel();\n                bindEvents();\n                self.setDisplay = _vm.getUserObjectData;\n            }\n\n            // EVENTS\n\n            var bindEvents = function () {\n                _vm.bind(\"change\", function (e) {\n                    if (e.field == \"extraPropText\") {\n                        _vm.set(\"isVisible\", (_vm.extraPropText.length > 0));\n                    } else if (e.field == \"data\") {\n                        setExtraPropsDisplay();\n                    }\n                });\n            }\n\n            // ACTIONS\n\n            // METHODS\n\n            var createHtml = function () {\n                // note: move this to definition.html\n                html = $('<span>', { \"class\": \"help-block\", \"data-bind\": \"text: extraPropText, visible: isVisible\" });\n                setTimeout(function () {\n                    container.append(html);\n                }, 100);\n            }\n            var createViewModel = function () {\n                _vm = kendo.observable({\n                    isVisible: false,\n                    extraPropText: \"\",\n                    data: {},\n                    getUserObjectData: getUserObjectData\n                });\n                kendo.bind(html, _vm);\n            }\n\n            var getUserObjectData = function (objectId) {\n                $.get(url + objectId, function (data) {\n                    if (data && data[0]) {\n                        data = data[0];\n                    }\n                    _vm.set(\"data\", data);\n                    setExtraPropsDisplay();\n                });\n            }\n\n            var getDisplayName = function (obj) {\n                var displayName = \"\";\n                if (!_.isUndefined(obj.Name) && !_.isNull(obj.Name)) {\n                    displayName = obj.Name;\n                }\n                if (!_.isUndefined(obj.DisplayName) && !_.isNull(obj.DisplayName)) {\n                    displayName = obj.DisplayName;\n                }\n                return displayName;\n            }\n\n            var setExtraPropsDisplay = function () {\n                var str = \"\";\n                $.each(props, function (i, item) {\n                    var dataItem = _vm.data[item];\n                    if (dataItem) {\n                        str += (_.isObject(dataItem) ? getDisplayName(dataItem) : dataItem) + \", \";\n                    }\n                });\n                _vm.set(\"extraPropText\", str.substring(0, str.length - 2));\n            }\n\n            // END\n\n            __construct();\n        }\n\n        /* -- Autocomplete --\n            // params\n                settings = {\n                    url: \"\", // url for datasource\n                    targetEle: jqEle, // element to apply autocomplete\n                    callback: function(obj){} // fired when object is change via autocomplete, provides selected object or null values\n                }\n            // public methods\n        */\n        var AutoComplete = function (settings) {\n            // settings\n            var self = this;\n            var targetEle = settings.targetEle;\n            var url = settings.url;\n            var detailsUrl = settings.detailsUrl;\n            var callback = settings.callback; // \n            var delay = settings.delay; // \n            var minLength = settings.minLength; // \n            var placeHolderText = (targetEle.attr('disabled')) ? \"\" : localization.SearchButton;\n\n            // private params\n            var autoComplete;\n            var dataSource;\n            var focusedItemIndex = false\n            var searchBtn;\n            var detailsBtn;\n            var detailsPopupEle;\n            var detailsPopup;\n            var _textProp = \"Name\";\n            var _idProp = \"Id\";\n            var _model = new NameIdModel(_textProp, _idProp);\n            var hasTCCURL = !_.isNull(session.consoleSetting.TrueControlCenterURL) && (session.consoleSetting.TrueControlCenterURL != \"\");\n\n            // CONSTRUCT\n\n            var __construct = function () {\n                createKendoDataSource();\n                createKendoAutoComplete();\n                createSearchButton();\n                hasTCCURL ? createTCCDetailsButton() : createDetailsButton();\n                createDetailsPopup();\n                bindEvents();\n                self.setValue = setValue;\n            }\n\n            // EVENTS\n\n            var bindEvents = function () {\n                autoComplete.bind(\"select\", function (e) {\n                    var obj = this.dataItem(e.item.index());\n                    callback(_model.getGenericFromObj(obj));\n                });\n                autoComplete.bind(\"change\", function (e) {\n                    validateAutoCompleteValue();\n                    callback(_model.getGenericFromObj(getDataSourceMatch(autoComplete.value())));\n                });\n                autoComplete.bind(\"dataBound\", function (e) {\n                    e.sender.ul.find(\"li\").first().addClass(\"k-state-hover\");\n                });\n                targetEle.on(\"keyup\", function (e) {\n                    if (e.which == 40 && !autoComplete.ul.is(\":visible\")) { //down arrow\n                        autoComplete.search(autoComplete.value());\n                        validateAutoCompleteValue();\n                    }\n                    else if (e.which != 13 && e.which != 9) { //enter\n                        focusedItemIndex = getFocusedIndex();\n                        validateAutoCompleteValue();\n                    }\n\n                });\n                targetEle.on(\"keydown\", function (e) {\n                    if (e.which == 13) {\n                        // enter click select first match in dropdown or focused\n                        var children = autoComplete.ul.children();\n                        if (children.length && autoComplete.ul.is(\":visible\")) {\n                            var index = (focusedItemIndex !== false) ? focusedItemIndex : 0;\n                            autoComplete.select(autoComplete.ul.children().eq(index));\n                            validateAutoCompleteValue();\n                        } else { //if enter is hit and we have no child do a search\n                            autoComplete.search(autoComplete.value());\n                        }\n                    }\n                });\n\n                //we need blur so we can handle tabbing out\n                targetEle.on(\"blur\", function (e) {\n                    focusedItemIndex = getFocusedIndex();\n                    validateAutoCompleteValue(true);\n                });\n\n                //handle copy-paste event\n                targetEle.on(\"input propertychange\", function (e) {\n                    //perform autocomplete search if search box is not empty\n                    if (e.currentTarget.value != \"\") {\n                        autoComplete.search(e.currentTarget.value);\n                        validateAutoCompleteValue();\n                    }\n                });\n\n                detailsPopup.bind(\"close\", function () {\n                    detailsPopupEle.find(\".k-content\").html('');\n                });\n                searchBtn.click(onSearchIconClick);\n                detailsBtn.click(onDetailsBtnClick);\n            }\n\n            // ACTIONS\n\n            var onDetailsBtnClick = function (e) {\n                hasTCCURL ? e.stopPropagation() : openModal();\n            }\n\n            var openSlideout = function (e) {\n                var userObj = { BaseId: _model.get.id(), Name: _model.get.name() }\n                var src = app.slideOutNav.getTCCSourceURL(userObj, \"user\");\n                var options = {\r\n                    url: src,\r\n                    tooltip: localization.UserManagement\r\n                }\n                app.slideOutNav.show(options);\n            }\n\n            var openModal = function (e) {\n                detailsPopup.refresh({\n                    url: detailsUrl,\n                    data: { id: _model.get.id() }\n                });\n                detailsPopupEle.find(\".k-content\").html(\"<div style='padding: 55px'>Loading...</div>\");\n                detailsPopup.title(_model.get.name()).center().open();\n            }\n\n            // METHODS\n\n            var createSearchButton = function () {\n                searchBtn = $(\"<div>\", { \"class\": \"searchIcon\", \"data-control-action\": \"userPickerWindow\" });\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\n                var a = $(\"<i>\", { \"class\": \"fa fa-search cursor-pointer \" + iconColor })\n                searchBtn.append(a);\n                //don't want to  show search icon if field is disabled\n                if (!targetEle.attr('disabled') || app.isMobileDevice()) {\n                    searchBtn.insertAfter(targetEle);\n                }\n            }\n            var createDetailsButton = function () {\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\n                detailsBtn = $(\"<i>\", { \"class\": \"fa fa-info-circle cursor-pointer info-icon \" + iconColor });\n                detailsBtn.insertBefore(targetEle);\n                detailsBtn.hide();\n            }\n\n            var createTCCDetailsButton = function () {\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\n                detailsBtn = $(\"<ul>\", { \"class\": \"menu-usr-mgt\" });\n                detailsBtn.insertBefore(targetEle);\n                detailsBtn.hide();\n\n                detailsBtn.kendoMenu({\n                    dataSource: [\n                        {\n                            text: \"<i class='fa fa-info-circle cursor-pointer'></i>\",\n                            encoded: false,\n                            items: [\n                                {\n                                    text: localization.UserManagement,\n                                    imageUrl: \"/Content/Images/Icons/Other/control-center-launcher.png\",\n                                    imageAttr: {\n                                        height: '16px',\n                                        width: '16px'\n                                    },\n                                    attr: {\n                                        custom: 'tcc' //custom attribute holds the link type\n                                    }\n                                },\n                                {\n                                    text: \"<i class='fa fa-info-circle cursor-pointer' style='margin: -2px 7px 0 -3px;'></i>\"+localization.AdditionalDetails,\n                                    encoded: false,\n                                    attr: {\n                                        custom: 'info' //custom attribute holds the link type\n                                    }\n                                }\n                            ]\n                        }\n                    ],\n                    select: function (e) {\n                        if (!_.isUndefined(e.item.attributes[\"custom\"])) {\n                            var type = e.item.attributes[\"custom\"].value;\n                            (type == \"tcc\") ? openSlideout() : openModal();\n                        }\n                    },\n                    openOnClick: true\n                });\n            }\n\n            var createKendoDataSource = function () {\n                dataSource = new kendo.data.DataSource({\n                    transport: {\n                        read: {\n                            url: url,\n                            data: {\n                                userFilter: function () {\n                                    return autoComplete.value();\n                                },\n                                filterByAnalyst: filterByAnalyst,\n                                maxNumberOfResults: settings.maxNumberOfResults\n                            }\n                        }\n                    },\n                    serverFiltering: true\n                });\n            }\n            var createKendoAutoComplete = function () {\n                autoComplete = targetEle.kendoAutoComplete({\n                    dataTextField: _textProp,\n                    suggest: true,\n                    placeholder: placeHolderText + \"...\",\n                    valuePrimitive: false,\n                    dataSource: dataSource,\n                    delay: delay,\n                    minLength: minLength,\n                    enable: (targetEle.attr('disabled')) ? false : true,\n                    clearButton: false\n                }).data(\"kendoAutoComplete\");\n\n            }\n            var createDetailsPopup = function () {\n                detailsPopupEle = $(\"<div>\");\n                detailsPopupEle.appendTo(\"body\");\n                detailsPopup = detailsPopupEle.kendoCiresonWindow({\n                    title: \"\",\n                    width: 550,\n                    height: 500,\n                    actions: [\"Close\"]\n                }).data(\"kendoWindow\");\n            }\n\n            var validateAutoCompleteValue = function (blurred) {\n                var match = getDataSourceMatch(autoComplete.value());\n                if (!match && autoComplete.value() != \"\") { //empty values are valid bug 494\n                    detailsBtn.hide();\n                    if (targetEle.is(\":focus\") && !blurred) {\n                        // invalid while typing\n                        targetEle.css({\n                            \"text-decoration\": \"none\",\n                            \"background-color\": (targetEle.attr('disabled')) ? \"#a1a1a1\" : \"#fff\"\n                        });\n                    } else {\n                        // invalid after blur\n                        targetEle.css({\n                            \"text-decoration\": \"none\",\n                            \"background-color\": \"#FBE3E4\"\n                        });\n                        //add the invalid data attribute\n                        targetEle.attr('data-invalid', '');\n                    }\n                } else {\n                    // valid\n\n                    //remove the invalid data attribute\n                    targetEle.removeAttr('data-invalid', '');\n\n                    //do we actually have a value to show the extension properties for\n                    if (autoComplete.value() === \"\") {\n                        detailsBtn.hide();\n                    } else {\n                        detailsBtn.show();\n\n                        targetEle.css({\n                            \"text-decoration\": \"underline\"\n                        });\n                    }\n\n                    targetEle.css({\n                        \"background-color\": (targetEle.attr('disabled')) ? \"#eee\" : \"#fff\"\n                    });\n                }\n            }\n\n            var getDataSourceMatch = function (val) {\n                var ds = _.clone(dataSource);\n                var view = ds.view();\n\n                // matching needs to be case insensitive\n                var match = false;\n                $.each(view, function (i, item) {\n                    if (item.Name.toLowerCase() == val.toLowerCase()) {\n                        match = item;\n                    }\n                });\n                return match;\n            }\n            var setValue = function (name, id) {\n                dataSource.add(_model.getObj(name, id));\n                autoComplete.value(name);\n                validateAutoCompleteValue();\n            }\n            var getFocusedIndex = function () {\n                var focused = autoComplete.ul.find(\".k-state-focused\");\n                return (focused.length) ? focused.index() : false;\n            }\n\n            // END\n\n            __construct();\n        }\n\n        /*************/\n        /*** END *****/\n        /*************/\n\n        __construct();\n\n    }\n\n    return definition;\n\n});\n","\ndefine('text!forms/fields/objectPicker/view.html',[],function () { return '<div class=\"form-group\" data-cid=\"objectpicker\" data-cid-propname=\"<%= PropertyName %>\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input class=\"input-userpicker\"\\r\\n           data-control=\"objectPicker\"\\r\\n           data-control-bind=\"<%= PropertyName %>\"\\r\\n           data-control-extra=\"<%= ExtraProps %>\"\\r\\n           type=\"text\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n            <% if ( Disabled ){ %>\\r\\n            disabled\\r\\n            <% } %>\\r\\n\\r\\n            <% if ( Required ){ %>\\r\\n            required\\r\\n            <% } %>\\r\\n    />\\r\\n</div>';});\n\n","\ndefine('text!forms/popups/objectPickerPopup/view.html',[],function () { return '<div id=\"ObjectPickerPopupWindow\" class=\"cireson-window defined-form task-window\">\\r\\n    <div class=\"cireson-window--wrapper\">\\r\\n        <div class=\"cireson-window--body\">\\r\\n            <div class=\"col-group\">\\r\\n                <div class=\"c2\">\\r\\n                    <label data-bind=\"text: searchText\"></label>\\r\\n                    <span class=\"k-textbox\">\\r\\n                        <input class=\"textbox-padding-right\" type=\"text\" data-value-update=\"keyup\" data-bind=\"value: searchValue, events: { keypress: searchOnEnter }\">\\r\\n                        <a data-bind=\"click: search\" class=\"cursor-pointer fa fa-search\"></a>\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div>\\r\\n                <label data-bind=\"text: selectObjectText\"></label>\\r\\n                <div data-control-grid=\"userPickerGrid\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n        \\r\\n        <div class=\"cireson-window--footer window-buttons objectPicker-single-grid\">\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-primary\"\\r\\n                    data-bind=\"events: { click: save }\">\\r\\n                <%= localization.OK %>\\r\\n            </button>\\r\\n            <button data-role=\"button\"\\r\\n                    class=\"btn btn-default\"\\r\\n                    data-bind=\"events: { click: cancel }\">\\r\\n                <%= localization.Cancel %>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nobjectPickerPopup\r\n**/\r\nvar __objectPickerPopupSingleton;\r\n\r\ndefine('forms/popups/objectPickerPopup/controller',['require','text!forms/popups/objectPickerPopup/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/popups/objectPickerPopup/view.html\");\r\n    var singletonName = \"objectPickerPopup\"; // used to call for singleton\r\n    var definition = {\r\n        template: tpl,\r\n        getPopup: function (classId, BaseId) {\r\n            //BaseId will be used to remove it self from the list.\r\n            //need a specific instance per classId, so this singleton is a hash\r\n            if (__objectPickerPopupSingleton && __objectPickerPopupSingleton[classId]) {\r\n                return __objectPickerPopupSingleton[classId];\r\n            }\r\n\r\n            var built = _.template(tpl);\r\n            var ele = $(built());\r\n            var classId = classId;\r\n            var objectPickerPopup = ele.data(singletonName);\r\n\r\n            $(\"body\").append(ele);\r\n            __objectPickerPopupSingleton = new ObjectPickerPopup(ele, classId, BaseId);\r\n\r\n            return __objectPickerPopupSingleton;\r\n        }\r\n    }\r\n\r\n    /* -- ObjectPickerPopup --\r\n        // params\r\n            targetEle = domEle to create popup with\r\n        // public methods               \r\n            open = function(classId){ // opens popup with this classId }\r\n            close = function(){ // closes popup }\r\n            setSaveCallback = function(callback) sets callback to listen for save event\r\n            // callback(obj){  } returns selected user object\r\n    */\r\n\r\n    // NAME/ID pair data model\r\n    // used to map name/id to server or viewModel\r\n    // Generic getter and setters:  name,id\r\n    var NameIdModel = function (nameProp, idProp) {\r\n        var self = this;\r\n        this.serverNameProp = nameProp;\r\n        this.serverIdProp = idProp;\r\n        var data = {};\r\n        data[self.serverNameProp];\r\n        data[self.serverIdProp];\r\n        this.set = {\r\n            name: function (val) { data[self.serverNameProp] = val; },\r\n            id: function (val) { data[self.serverIdProp] = val; }\r\n        }\r\n        this.setObj = function (name, id) {\r\n            self.set.name(name); self.set.id(id);\r\n        }\r\n        this.setFromObj = function (obj) {\r\n            self.setObj(obj[self.serverNameProp], obj[self.serverIdProp]);\r\n        }\r\n        this.get = {\r\n            name: function () { return data[self.serverNameProp]; },\r\n            id: function () { return data[self.serverIdProp]; }\r\n        }\r\n        this.getFromObj = function (obj) {\r\n            self.setFromObj(obj);\r\n            return data;\r\n        }\r\n        this.getObj = function (name, id) { if (typeof (name) != \"undefined\" && typeof (id) != \"undefined\") { self.setObj(name, id); } return data; }\r\n        this.getGenericFromObj = function (obj) {\r\n            this.setFromObj(obj);\r\n            return {\r\n                name: self.get.name(),\r\n                id: self.get.id()\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // CONTROL\r\n    var ObjectPickerPopup = function (targetEle, classId, BaseId) {\r\n        var self = this;\r\n        var html = targetEle;\r\n        var classId = classId;\r\n        var gridHtml = targetEle.find(\"[data-control-grid]\");\r\n        var grid;\r\n        var gridUrl = \"/ConfigItems/GetObjectSearchResults\";\r\n        var popup;\r\n        var _vm;\r\n\r\n        // model getters/setters\r\n        // Props return from grid search to match to generic model\r\n        var _textProp = \"DisplayName\";\r\n        var _idProp = \"Id\";\r\n        var _model = new NameIdModel(_textProp, _idProp);\r\n\r\n        // getter/setters        \r\n        this.setSaveCallback = function (callback) {\r\n            $(self).unbind(\"save\")\r\n                .bind(\"save\", function (e, obj) { callback(obj); });\r\n        }\r\n        this.setCancelCallback = function (callback) {\r\n            $(self).unbind(\"cancel\")\r\n                .bind(\"cancel\", function (e, obj) { callback(obj); });\r\n        }\r\n\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n            _vm = kendo.observable({\r\n                searchText: localization.SearchText,\r\n                selectObjectText: localization.SelectObject,\r\n                searchValue: \"\",\r\n                okText: localization.OK,\r\n                cancelText: localization.Cancel,\r\n                search: onSearchClick,\r\n                searchOnEnter: function (e) {\r\n                    if (e.which == 13) {\r\n                        e.preventDefault();\r\n                        onSearchClick();\r\n                    }\r\n                },\r\n                save: onSaveClick,\r\n                cancel: onCancelClick\r\n            });\r\n            kendo.bind(html, _vm);\r\n            createPopup();\r\n            createGrid();\r\n            bindEvents();\r\n            self.open = openPopup;\r\n            self.close = closePopup;\r\n            self.vm = _vm;\r\n        }\r\n\r\n        /************************/\r\n        /*** CONTROL EVENTS *****/\r\n        /************************/\r\n\r\n        var bindEvents = function () {\r\n\r\n        }\r\n\r\n        /******************************/\r\n        /*** CONTROL USER ACTIONS *****/\r\n        /******************************/\r\n\r\n        var onSearchClick = function () {\r\n            grid.search(_vm.searchValue);\r\n        }\r\n        var onSaveClick = function () {\r\n            var selectedRow = grid.kendoGrid.select();\r\n            if (selectedRow) {\r\n                var obj = _model.getGenericFromObj(grid.kendoGrid.dataItem(selectedRow));\r\n                $(self).trigger(\"save\", obj);\r\n                closePopup();\r\n            }\r\n        }\r\n        var onCancelClick = function () {\r\n            $(self).trigger(\"cancel\");\r\n            closePopup();\r\n        }\r\n\r\n        /*************************/\r\n        /*** CONTROL METHODS *****/\r\n        /*************************/\r\n\r\n        var openPopup = function () {\r\n            //clear out search box value and search results before opening the window\r\n            self.vm.set(\"searchValue\", \"\");\r\n            grid.kendoDataSource.data([]);\r\n            popup.kendoWindow.open();\r\n        }\r\n        var closePopup = function () {\r\n            popup.kendoWindow.close();\r\n        }\r\n        var createPopup = function () {\r\n            popup = new Popup();\r\n        }\r\n        var createGrid = function () {\r\n            grid = new Grid({\r\n                html: gridHtml,\r\n                url: gridUrl\r\n            });\r\n        }\r\n\r\n        /****************************/\r\n        /*** CONTROL SUBCLASSES *****/\r\n        /****************************/\r\n\r\n        /* -- Popup --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n               \r\n        */\r\n        var Popup = function () {\r\n            var self = this;\r\n            var kendoWindow;\r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoWindow();\r\n                self.kendoWindow = kendoWindow;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            // ACTIONS\r\n\r\n            // METHODS\r\n\r\n            var createKendoWindow = function () {\r\n                kendoWindow = html.kendoCiresonWindow({\r\n                    title: localization.SelectObject,\r\n                    content: null,\r\n                    width: 680,\r\n                    height: 400,\r\n                    actions: [\"Close\"]\r\n                }).data(\"kendoWindow\");\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /* -- Grid --\r\n            // params\r\n                settings = { }\r\n            // public methods\r\n        */\r\n        var Grid = function (settings) {\r\n            // settings\r\n            var self = this;\r\n            var html = settings.html;\r\n            var url = settings.url;\r\n            var height = 150;\r\n            var kendoGrid;\r\n            var kendoDataSource;\r\n            var searchValue;\r\n            // private params           \r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoDataSource();\r\n                createKendoGrid();\r\n                kendoGrid.pager.element.hide();\r\n                bindEvents();\r\n                self.kendoGrid = kendoGrid;\r\n                self.kendoDataSource = kendoDataSource;\r\n                self.search = search;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            var bindEvents = function () {\r\n                kendoGrid.bind(\"dataBound\", function (e) {\r\n                    kendoGrid.pager.element.show();\r\n                });\r\n                kendoGrid.element.on(\"dblclick\", \"tbody>tr\", onRowDblClick);\r\n            }\r\n\r\n            // ACTIONS\r\n\r\n            var onRowDblClick = function () {\r\n                kendoGrid.select($(this));\r\n                onSaveClick();\r\n            }\r\n\r\n            // METHODS\r\n\r\n            var search = function (value) {\r\n                searchValue = value;\r\n                kendoDataSource.read();\r\n                if (!_.isUndefined(BaseId) || BaseId != \"\")\r\n                    kendoGrid.dataSource.filter([{ field: \"Id\", operator: \"neq\", value: BaseId }]);\r\n                kendoDataSource.page(1);\r\n            }\r\n            var createKendoDataSource = function () {\r\n                kendoDataSource = new kendo.data.DataSource({\r\n                    \"transport\": {\r\n                        \"prefix\": \"\",\r\n                        \"read\": {\r\n                            \"url\": url,\r\n                            \"data\": function () {\r\n                                return {\r\n                                    searchFilter: function () {\r\n                                        return searchValue;\r\n                                    },\r\n                                    classId: function () {\r\n                                        return classId;\r\n                                    },\r\n                                    groupFilter: \"\"\r\n                                }\r\n                            },\r\n                            \"type\": \"GET\"\r\n                        }\r\n                    },\r\n                    \"pageSize\": 15,\r\n                    \"page\": 1,\r\n                    \"total\": 0,\r\n                    \"type\": \"aspnetmvc-ajax\",\r\n                    \"schema\": {\r\n                        \"data\": \"Data\",\r\n                        \"total\": \"Total\",\r\n                        \"errors\": \"Errors\",\r\n                        \"model\": {\r\n                            \"fields\": {\r\n                                \"Id\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"ObjectClassId\": {\r\n                                    \"type\": \"number\"\r\n                                },\r\n                                \"ObjectClassName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"DisplayName\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Path\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"Hosted\": {\r\n                                    \"type\": \"number\"\r\n                                },\r\n                                \"LastModified\": {\r\n                                    \"type\": \"date\"\r\n                                },\r\n                                \"Status\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            var createKendoGrid = function () {\r\n                kendoGrid = html.kendoGrid({\r\n                    height: height,\r\n                    dataSource: kendoDataSource,\r\n                    selectable: \"Single,Row\",\r\n                    sortable: { mode: \"multiple\" },\r\n                    pageable: true,\r\n                    filterable: {\r\n                        extra: false,\r\n                        operators: {\r\n                            string: {\r\n                                startswith: localization.Startswith,\r\n                                contains: localization.Contains,\r\n                                eq: localization.Isequalto,\r\n                                neq: localization.Isnotequalto\r\n                            }\r\n                        }\r\n                    },\r\n                    autoBind: false,\r\n                    columns: [{\r\n                        \"title\": \"Id\",\r\n                        \"hidden\": true,\r\n                        \"field\": \"Id\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.DisplayName,\r\n                        \"attributes\": {\r\n                            \"class\": \"grid-highlight-column\"\r\n                        },\r\n                        \"field\": \"DisplayName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Class,\r\n                        \"field\": \"ObjectClassName\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }, {\r\n                        \"title\": localization.Path,\r\n                        \"field\": \"Path\",\r\n                        \"filterable\": {},\r\n                        \"encoded\": true\r\n                    }],\r\n                }).data(\"kendoGrid\");\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /*************/\r\n        /*** END *****/\r\n        /*************/\r\n\r\n        __construct();\r\n\r\n\r\n    }\r\n    return definition;\r\n\r\n});\n","/**\r\nobjectPicker\r\n**/\r\n\r\ndefine('forms/fields/objectPicker/controller',['require','text!forms/fields/objectPicker/view.html','forms/popups/objectPickerPopup/controller'],function (require) {\r\n    var tpl = require(\"text!forms/fields/objectPicker/view.html\");\r\n    var objectPickerPopup = require(\"forms/popups/objectPickerPopup/controller\");\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //console.log(node);\r\n            boundObj = node.vm;\r\n            name = node.PropertyName;\r\n            // add default values\r\n            var properties = {\r\n                Required: node.Required,\r\n                Disabled: node.disabled,\r\n                ExtraProps: false,\r\n                ClassId: false // this is a required\r\n            }\r\n            $.extend(true, properties, node);\r\n            var built = _.template(tpl);\r\n            var templateFrag = $(built(properties));\r\n            var popupWindow = objectPickerPopup.getPopup(properties.ClassId, boundObj.BaseId);\r\n\r\n            // comment out next two lines to go back to using app.controls\r\n            var objectPicker = new Control(templateFrag.find(\"[data-control='objectPicker']\"), boundObj, name, popupWindow, properties.ClassId, callback);\r\n            templateFrag.find(\"[data-control='objectPicker']\").attr(\"data-control\", \"objectPickerBound\");\r\n\r\n            callback(templateFrag);\r\n        }\r\n    }\r\n\r\n    // NAME/ID pair data model\r\n    // used to map name/id to server or viewModel\r\n    // Generic getter and setters:  name,id\r\n    var NameIdModel = function (nameProp, idProp) {\r\n        var self = this;\r\n        this.serverNameProp = nameProp;\r\n        this.serverIdProp = idProp;\r\n        var data = {};\r\n        data[self.serverNameProp];\r\n        data[self.serverIdProp];\r\n        this.set = {\r\n            name: function (val) { data[self.serverNameProp] = val; },\r\n            id: function (val) { data[self.serverIdProp] = val; }\r\n        }\r\n        this.setObj = function (name, id) {\r\n            self.set.name(name); self.set.id(id);\r\n        }\r\n        this.setFromObj = function (obj) {\r\n            self.setObj(obj[self.serverNameProp], obj[self.serverIdProp]);\r\n        }\r\n        this.get = {\r\n            name: function () { return data[self.serverNameProp]; },\r\n            id: function () { return data[self.serverIdProp]; }\r\n        }\r\n        this.getFromObj = function (obj) {\r\n            self.setFromObj(obj);\r\n            return data;\r\n        }\r\n        this.getObj = function (name, id) { if (typeof (name) != \"undefined\" && typeof (id) != \"undefined\") { self.setObj(name, id); } return data; }\r\n        this.getGenericFromObj = function (obj) {\r\n            this.setFromObj(obj);\r\n            return {\r\n                name: self.get.name(),\r\n                id: self.get.id()\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    function isArray(ob) {\r\n        return Object.prototype.toString.call(ob) === '[object Array]';\r\n    }\r\n    // CONTROL\r\n    var Control = function (targetEle, boundObj, name, popupWindow, classId, callback) {\r\n        \r\n        // control parameters\r\n        var targetEle = targetEle;\r\n        var extraProps = targetEle.attr(\"data-control-extra\");\r\n        var autoCompleteUrl = \"/ConfigItems/GetObjectSearchResults\";\r\n        var detailsPopupUrl = \"/Search/ObjectViewer\";\r\n        var objectExtraUrl = \"/Search/GetObjectPropertiesByProjection?projectionId=490ab845-b14c-1d91-c39f-bb9e8a350933&id=\";\r\n        var boundObj = boundObj;\r\n        var propName = name;\r\n        var popupWindow = popupWindow;\r\n        var classId = classId;\r\n\r\n        // viewModel getters/setters\r\n        var _textProp = \"DisplayName\";\r\n        var _idProp = \"BaseId\";\r\n        var _model = new NameIdModel(_textProp, _idProp);\r\n        app.lib.forceKendoProp(boundObj, propName, kendo.observable(_model.getObj(null, null)));\r\n        var get = {\r\n            obj: function () { return boundObj[propName].length > 0 ? getIndexZero(boundObj[propName], null) : boundObj[propName]; },\r\n            name: function () { return boundObj[propName].length > 0 ? getIndexZero(boundObj[propName], _textProp) : boundObj[propName][_textProp]; },\r\n            id: function () { return boundObj[propName].length > 0 ? getIndexZero(boundObj[propName], _idProp) : boundObj[propName][_idProp]; }\r\n        }\r\n        var set = {\r\n            obj: function (name, id) {\r\n                if (boundObj[propName].length > 0) {\r\n                    \r\n                    boundObj[propName][0].set(_idProp, id);\r\n                    boundObj[propName][0].set(_textProp, name);\r\n                } else {\r\n                    boundObj[propName].set(_idProp, id);\r\n                    boundObj[propName].set(_textProp, name);\r\n                }\r\n            }\r\n        }\r\n\r\n        var getIndexZero = function (obj, property) {\r\n            var _obj = obj[0];\r\n            if (classId.toLowerCase() == _obj[\"ClassTypeId\"].toLowerCase()) {\r\n                if (property != null) {\r\n                    return _obj[property];\r\n                }\r\n                else {\r\n                    return _obj;\r\n                }\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n\r\n        }\r\n\r\n        \r\n\r\n        // private properties\r\n        var helperBlock;\r\n        var autoComplete;\r\n\r\n\r\n        /*******************/\r\n        /*** CONSTRUCT *****/\r\n        /*******************/\r\n\r\n        var __construct = function () {\r\n            createHelperBlock();\r\n            createAutocomplete();\r\n            refreshDisplayValues();\r\n            bindEvents();\r\n        }\r\n\r\n        /************************/\r\n        /*** CONTROL EVENTS *****/\r\n        /************************/\r\n\r\n        var bindEvents = function () {\r\n            boundObj[name].bind(\"change\", function () {\r\n                refreshDisplayValues();\r\n            });\r\n        }\r\n\r\n        /******************************/\r\n        /*** CONTROL USER ACTIONS *****/\r\n        /******************************/\r\n\r\n        var onAutoCompleteValueChanged = function (obj) {\r\n            if (obj) {\r\n                set.obj(obj.name, obj.id);\r\n            } else {\r\n                set.obj(null, null);\r\n            }\r\n        }\r\n        var onSearchIconClick = function () {\r\n            popupWindow.setSaveCallback(function (obj) {\r\n                if (boundObj.BaseId != obj.id) {\r\n                    set.obj(obj.name, obj.id);\r\n                }\r\n            });\r\n            popupWindow.open();\r\n        }\r\n\r\n        /*************************/\r\n        /*** CONTROL METHODS *****/\r\n        /*************************/\r\n\r\n        var isModelSet = function () {\r\n            return (boundObj && boundObj[name] && get.name() && get.id()) ? true : false;\r\n        }\r\n        var hasExtraProps = function () {\r\n            return (extraProps && extraProps != \"false\");\r\n        }\r\n        var createHelperBlock = function () {\r\n            if (hasExtraProps()) {\r\n                helperBlock = new HelperBlock({\r\n                    url: objectExtraUrl,\r\n                    container: targetEle.parent(),\r\n                    props: extraProps.split(\",\")\r\n                });\r\n            }\r\n        }\r\n        var createAutocomplete = function () {\r\n            autoComplete = new AutoComplete({\r\n                url: autoCompleteUrl,\r\n                detailsUrl: detailsPopupUrl,\r\n                targetEle: targetEle,\r\n                callback: onAutoCompleteValueChanged\r\n            });\r\n        }\r\n        var refreshDisplayValues = function () {\r\n            if (isModelSet()) {\r\n                if (helperBlock) {\r\n                    helperBlock.setDisplay(get.id());\r\n                }\r\n                if (autoComplete) {\r\n                    autoComplete.setValue(get.name(), get.id());\r\n                }\r\n            }\r\n        }\r\n\r\n        /****************************/\r\n        /*** CONTROL SUBCLASSES *****/\r\n        /****************************/\r\n\r\n        /* -- HelperBlock --\r\n            // params\r\n                settings = {\r\n                    url: \"\", // url to get object extra props\r\n                    container: jqEle, // where helpblock will get appended\r\n                    props: [], // array of property names to be displayed in order\r\n                }\r\n            // public methods\r\n                obj.setDisplay(objectId) /// goes to server then displays helper data for that objectId\r\n        */\r\n        var HelperBlock = function (settings) {\r\n            var self = this;\r\n            var html;\r\n            var _vm;\r\n            var container = settings.container;\r\n            var url = settings.url;\r\n            var props = settings.props;\r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createHtml();\r\n                createViewModel();\r\n                bindEvents();\r\n                self.setDisplay = _vm.getUserObjectData;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            var bindEvents = function () {\r\n                _vm.bind(\"change\", function (e) {\r\n                    if (e.field == \"extraPropText\") {\r\n                        _vm.set(\"isVisible\", (_vm.extraPropText.length > 0));\r\n                    } else if (e.field == \"data\") {\r\n                        setExtraPropsDisplay();\r\n                    }\r\n                });\r\n            }\r\n\r\n            // ACTIONS\r\n\r\n            // METHODS\r\n\r\n            var createHtml = function () {\r\n                // note: move this to definition.html\r\n                html = $('<span>', { \"class\": \"help-block\", \"data-bind\": \"text: extraPropText, visible: isVisible\" });\r\n                setTimeout(function () {\r\n                    container.append(html);\r\n                }, 100);\r\n            }\r\n            var createViewModel = function () {\r\n                _vm = kendo.observable({\r\n                    isVisible: false,\r\n                    extraPropText: \"\",\r\n                    data: {},\r\n                    getUserObjectData: getUserObjectData\r\n                });\r\n                kendo.bind(html, _vm);\r\n            }\r\n\r\n            var getUserObjectData = function (objectId) {\r\n                $.get(url + objectId, function (data) {\r\n                    if (data && data[0]) {\r\n                        data = data[0];\r\n                    }\r\n                    _vm.set(\"data\", data);\r\n                    setExtraPropsDisplay();\r\n                });\r\n            }\r\n\r\n            var setExtraPropsDisplay = function () {\r\n                var str = \"\";\r\n                $.each(props, function (i, item) {\r\n                    if (_vm.data[item]) {\r\n                        str += _vm.data[item] + \", \";\r\n                    }\r\n                });\r\n                _vm.set(\"extraPropText\", str.substring(0, str.length - 2));\r\n            }\r\n\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /* -- Autocomplete --\r\n            // params\r\n                settings = {\r\n                    url: \"\", // url for datasource\r\n                    targetEle: jqEle, // element to apply autocomplete\r\n                    callback: function(obj){} // fired when object is change via autocomplete, provides selected object or null values\r\n                }\r\n            // public methods\r\n        */\r\n        var AutoComplete = function (settings) {\r\n            // settings\r\n            var self = this;\r\n            var targetEle = settings.targetEle;\r\n            var url = settings.url;\r\n            var detailsUrl = settings.detailsUrl;\r\n            var placeHolderText = (targetEle.attr('disabled')) ? \"\" : localization.SearchPlaceholder;\r\n            var callback = settings.callback; // \r\n            // private params\r\n            var autoComplete;\r\n            var dataSource;\r\n            var focusedItemIndex = false\r\n            var searchBtn;\r\n            var detailsBtn;\r\n            var detailsPopupEle;\r\n            var detailsPopup;\r\n            var _textProp = \"DisplayName\";\r\n            var _idProp = \"Id\";\r\n            var _model = new NameIdModel(_textProp, _idProp);\r\n\r\n\r\n            // CONSTRUCT\r\n\r\n            var __construct = function () {\r\n                createKendoDataSource();\r\n                createKendoAutoComplete();\r\n                createSearchButton();\r\n                createDetailsButton();\r\n                createDetailsPopup();\r\n                bindEvents();\r\n                self.setValue = setValue;\r\n            }\r\n\r\n            // EVENTS\r\n\r\n            var bindEvents = function () {\r\n                autoComplete.bind(\"select\", function (e) {\r\n                    var obj = this.dataItem(e.item.index());\r\n                    callback(_model.getGenericFromObj(obj));\r\n                });\r\n                autoComplete.bind(\"change\", function (e) {\r\n                    validateAutoCompleteValue();\r\n                    callback(_model.getGenericFromObj(getDataSourceMatch(autoComplete.value())));\r\n                });\r\n                autoComplete.bind(\"dataBound\", function (e) {\r\n                    e.sender.ul.find(\"li\").first().addClass(\"k-state-hover\");\r\n                });\r\n                targetEle.on(\"keyup\", function (e) {\r\n                    if (e.which == 40 && !autoComplete.ul.is(\":visible\")) {\r\n                        autoComplete.search(autoComplete.value());\r\n                        validateAutoCompleteValue();\r\n                    }\r\n                    else if (e.which != 13) {\r\n                        focusedItemIndex = getFocusedIndex();\r\n                        validateAutoCompleteValue();\r\n                    }\r\n\r\n                });\r\n                targetEle.on(\"keydown\", function (e) {\r\n                    if (e.which == 13) {\r\n                        // enter click select first match in dropdown or focused\r\n                        var children = autoComplete.ul.children();\r\n                        if (children.length) {\r\n                            var index = (focusedItemIndex !== false) ? focusedItemIndex : 0;\r\n                            //console.log(\"in: \" + index);\r\n                            autoComplete.select(autoComplete.ul.children().eq(index));\r\n                            validateAutoCompleteValue();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                //handle copy-paste event\r\n                targetEle.on(\"input propertychange\", function (e) {\r\n                    autoComplete.search(e.currentTarget.value);\r\n                    validateAutoCompleteValue();\r\n                });\r\n\r\n                detailsPopup.bind(\"close\", function () {\r\n                    detailsPopupEle.find(\".k-content\").html('');\r\n                });\r\n                searchBtn.click(onSearchIconClick);\r\n                detailsBtn.click(onDetailsBtnClick);\r\n            }\r\n\r\n            // ACTIONS\r\n\r\n            var onDetailsBtnClick = function () {\r\n                detailsPopup.refresh({\r\n                    url: detailsUrl,\r\n                    data: { id: _model.get.id() }\r\n                });\r\n                detailsPopupEle.find(\".k-content\").html(\"<div style='padding: 55px'>Loading...</div>\");\r\n                detailsPopup.title(_model.get.name()).center().open();\r\n            }\r\n\r\n            // METHODS\r\n\r\n            var createSearchButton = function () {\r\n                searchBtn = $(\"<div>\", { \"class\": \"searchIcon\", \"data-control-action\": \"userPickerWindow\" });\r\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\r\n                var a = (app.isMobileDevice()) ? $(\"<i>\", { \"class\": \"fa fa-search cursor-pointer \" + iconColor }) : $(\"<div>\", { \"class\": \"search fa fa-search cursor-pointer \" + iconColor });\r\n                searchBtn.append(a);\r\n                searchBtn.insertAfter(targetEle);\r\n            }\r\n            var createDetailsButton = function () {\r\n                var iconColor = !targetEle.attr('disabled') ? \"text-primary\" : \"\";\r\n                detailsBtn = (app.isMobileDevice()) ? $(\"<i>\", { \"class\": \"fa fa-info-circle cursor-pointer info-icon \" + iconColor }) : $(\"<div>\", { \"class\": \"open-modal fa fa-info-circle\" });\r\n                detailsBtn.insertBefore(targetEle);\r\n                detailsBtn.hide();\r\n            }\r\n            var createKendoDataSource = function () {\r\n                dataSource = new kendo.data.DataSource({\r\n                    transport: {\r\n                        read: {\r\n                            url: url,\r\n                            data: {\r\n                                searchFilter: function () {\r\n                                    return autoComplete.value();\r\n                                },\r\n                                classId: classId\r\n                            },\r\n                            type: \"GET\"\r\n                        }\r\n                    },\r\n                    schema: {\r\n                        data: \"Data\",\r\n                        total: \"Total\",\r\n                        errors: \"Errors\"\r\n                    },\r\n                    serverFiltering: true\r\n                });\r\n            }\r\n\r\n            var preventClosing = 'init';\r\n            var createKendoAutoComplete = function () {\r\n                autoComplete = targetEle.kendoAutoComplete({\r\n                    dataTextField: _textProp,\r\n                    suggest: false,\r\n                    placeholder: placeHolderText,\r\n                    valuePrimitive: false,\r\n                    dataSource: dataSource,\r\n                    close: function (e) {\r\n                        if ($(window).scrollTop() + $(window).height() == $(document).height() && preventClosing == 'open') {\r\n                            e.preventDefault();\r\n                            preventClosing = 'close';\r\n                        }\r\n                    },\r\n                    change: function (e) {\r\n                        preventClosing = 'change';\r\n                        e.sender.close();\r\n                        \r\n                    },\r\n                    open: function (e) {\r\n                        preventClosing = 'open';\r\n                    },\r\n                    enable: (targetEle.attr('disabled')) ? false : true,\r\n                    clearButton: false\r\n                }).data(\"kendoAutoComplete\");\r\n            }\r\n            var createDetailsPopup = function () {\r\n                detailsPopupEle = $(\"<div>\");\r\n                detailsPopupEle.appendTo(\"body\");\r\n                detailsPopup = detailsPopupEle.kendoCiresonWindow({\r\n                    title: \"\",\r\n                    width: 550,\r\n                    height: 400,\r\n                    actions: [\"Close\"]\r\n                }).data(\"kendoWindow\");\r\n            }\r\n            var validateAutoCompleteValue = function () {\r\n                var match = getDataSourceMatch(autoComplete.value());\r\n                if (!match) {\r\n                    detailsBtn.hide();\r\n                    if (targetEle.is(\":focus\")) {\r\n                        // invalid while typing\r\n                        targetEle.css({\r\n                            \"text-decoration\": \"none\",\r\n                            \"background-color\": \"#fff\"\r\n                        });\r\n                    } else {\r\n                        // invalid after blur\r\n                        targetEle.css({\r\n                            \"text-decoration\": \"none\",\r\n                            \"background-color\": \"#FBE3E4\"\r\n                        });\r\n                    }\r\n                } else {\r\n                    // valid\r\n                    detailsBtn.show();\r\n                    targetEle.css({\r\n                        \"text-decoration\": \"underline\",\r\n                        \"background-color\": \"#fff\"\r\n                    });\r\n                }\r\n            }\r\n            var getDataSourceMatch = function (val) {\r\n                var ds = _.clone(dataSource);\r\n                var view = ds.view();\r\n\r\n                // matching needs to be case insensitive\r\n                var match = false;\r\n                $.each(view, function (i, item) {\r\n                    if (item.DisplayName.toLowerCase() == val.toLowerCase()) {\r\n                        match = item;\r\n                    }\r\n                });\r\n                return match;\r\n            }\r\n            var setValue = function (name, id) {\r\n                dataSource.add(_model.getObj(name, id));\r\n                autoComplete.value(name);\r\n                validateAutoCompleteValue();\r\n            }\r\n            var getFocusedIndex = function () {\r\n                var focused = autoComplete.ul.find(\".k-state-focused\");\r\n                return (focused.length) ? focused.index() : false;\r\n            }\r\n\r\n            // END\r\n\r\n            __construct();\r\n        }\r\n\r\n        /*************/\r\n        /*** END *****/\r\n        /*************/\r\n\r\n        __construct();\r\n\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/button/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <input type=\"button\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n           class=\"button btn btn-<%= ButtonType %> btn-<%= ButtonSize %>\"\\r\\n           value=\"<%= PropertyDisplayName %>\"\\r\\n           data-bind=\"click: <%= Action %>\"\\r\\n\\r\\n            <% if ( Disabled ){ %>\\r\\n            disabled\\r\\n            <% } %>\\r\\n\\r\\n    />\\r\\n</div>';});\n\n","/**\r\nBUTTON\r\n**/\r\n\r\ndefine('forms/fields/button/controller',['require','text!forms/fields/button/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/button/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                PropertyName: 'defaultButton',\r\n                ButtonType: (node.ButtonType) ? node.ButtonType : 'default',\r\n                ButtonSize: (node.ButtonSize) ? node.ButtonSize : 'sm',\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/editor/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <textarea class=\"form-editor\" data-control=\"editor\" style=\"height:<%= Height %>px\" name=\"<%= PropertyName %>\">\\r\\n        <%= Content %>\\r\\n    </textarea>\\r\\n</div>\\r\\n\\r\\n\\r\\n';});\n\n","/**\r\nEDITOR\r\n**/\r\ndefine('forms/fields/editor/controller',['require','text!forms/fields/editor/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/editor/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n            boundObj = node.vm;\r\n            //make sure we have all the vals set\r\n            //document.write(JSON.stringify(boundObj));\r\n            var properties = {\r\n                Required: node.Required,\r\n                Disabled: node.disabled,\r\n                Content: (boundObj[node.PropertyName]) ? $('<div/>').text(boundObj[node.PropertyName]).html() : boundObj[node.PropertyName],\r\n                Height: node.Height == null ? 440 : node.Height\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            var templateFrag = $(built(properties));\r\n\r\n            new Control(templateFrag.find(\"[data-control='editor']\"), boundObj, node);\r\n            // get settings from attrs\r\n            callback(templateFrag);\r\n        }\r\n    }\r\n\r\n\r\n    var Control = function (targetEle, boundObj, node) {\r\n        if (node.Options == null) {\r\n            var defaultTools = [\r\n                    \"bold\", \"italic\", \"underline\", \"strikethrough\",\r\n                    \"justifyLeft\", \"justifyCenter\", \"justifyRight\", \"justifyFull\",\r\n                    \"insertUnorderedList\", \"insertOrderedList\", \"indent\", \"outdent\",\r\n                    \"createLink\", \"unlink\", \"insertImage\",\r\n                    \"superscript\", \"subscript\",\r\n                    \"createTable\", \"addColumnLeft\", \"addColumnRight\", \"addRowAbove\", \"addRowBelow\", \"deleteRow\", \"deleteColumn\",\r\n                    \"viewHtml\",\r\n                    \"formatting\", \"foreColor\", \"backColor\"\r\n            ];\r\n            var mobileTools = [\r\n                \"formatting\",\r\n                \"createLink\", \"unlink\", \"insertImage\",\"viewHtml\",\r\n                \"bold\", \"italic\", \"underline\",\r\n                \"insertUnorderedList\", \"insertOrderedList\", \"indent\", \"outdent\",\r\n                \"createTable\", \"addColumnLeft\", \"addColumnRight\", \"addRowAbove\", \"addRowBelow\", \"deleteRow\", \"deleteColumn\"\r\n            ];\r\n            node.Options = app.isMobileDevice() ? mobileTools : defaultTools;\r\n        }\r\n        var boundObj = boundObj;\r\n        //Need to review\r\n        setTimeout(function () {\r\n            targetEle.kendoEditor({\r\n                change: function (e) {\r\n                    boundObj.set(node.PropertyName, targetEle.val());\r\n                },\r\n                tools: node.Options,\r\n                encoded: false,\r\n                stylesheets: [\r\n                    \"/Content/Styles/cireson.main.min.css?v=\" + session.staticFileVersion\r\n                ]\r\n            });\r\n            var editor = targetEle.data(\"kendoEditor\");\r\n            boundObj.bind(\"change\", function (e) {\r\n                editor.value(boundObj[node.PropertyName]);\r\n            });\r\n            $(editor.body).addClass(\"k-editor-content-body\");\r\n        }, 100);\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/combo/view.html',[],function () { return '<div class=\"form-group\" data-bind=\"ciresonCombo: ControlObject\"\\r\\n\\r\\n<% if ( Required ){ %>\\r\\n    required\\r\\n<% } %>\\r\\n    >\\r\\n    <label data-template-part=\"labelPart\" class=\"control-label\" for=\"<%= PropertyName %>\">\\r\\n    </label>\\r\\n\\r\\n    <input class=\"form-control form-control-picker input-sm\" data-template-part=\"inputControlPart\" data-control-bind=\"<%= PropertyName %>\"\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n         >\\r\\n    </input>\\r\\n</div>\\r\\n';});\n\n","/**\r\nCOMBO - combobox\r\n**/\r\ndefine('forms/fields/combo/controller',['require','text!forms/fields/combo/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/combo/view.html\");\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n            var viewModel = {\r\n                PropertyName: node.PropertyName,\r\n                PropertyDisplayName: node.PropertyDisplayName,\r\n                DataSource: {},\r\n                IsCascading: _.isUndefined(node.IsCascading) ? false : node.IsCascading,\r\n                Cascade: {},\r\n                Required: _.isUndefined(node.Required) ? false : node.Required,\r\n                Disabled: _.isUndefined(node.Disabled) ? false : node.Disabled,\r\n                ControlObject: null,\r\n                serverFiltering: _.isUndefined(node.serverFiltering) ? false : node.serverFiltering,\r\n                pageSize: _.isUndefined(node.pageSize) ? 1000 : node.pageSize,\r\n            };\r\n            $.extend(true, viewModel, node);\r\n\r\n            var view = new kendo.View(built(viewModel), { wrap: false, model: kendo.observable(viewModel) });\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/dropDownList/view.html',[],function () { return '<div class=\"form-group\" data-bind=\"ciresonDropDownList: ControlObject\"\\r\\n\\r\\n<% if ( Required ){ %>\\r\\n    required\\r\\n<% } %>\\r\\n    >\\r\\n    <label data-template-part=\"labelPart\" class=\"control-label\" for=\"<%= PropertyName %>\">\\r\\n    </label>\\r\\n\\r\\n    <input class=\"form-control form-control-picker input-sm\" data-template-part=\"inputControlPart\" data-control-bind=\"<%= PropertyName %>\"\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n         >\\r\\n    </input>\\r\\n</div>\\r\\n';});\n\n","/**\r\nCOMBO - combobox\r\n**/\r\ndefine('forms/fields/dropDownList/controller',['require','text!forms/fields/dropDownList/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/dropDownList/view.html\");\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n            var viewModel = {\r\n                PropertyName: node.PropertyName,\r\n                PropertyDisplayName: node.PropertyDisplayName,\r\n                DataSource: {},\r\n                Required: _.isUndefined(node.Required) ? false : node.Required,\r\n                Disabled: _.isUndefined(node.Disabled) ? false : node.Disabled,\r\n                ControlObject: null\r\n            };\r\n            $.extend(true, viewModel, node);\r\n\r\n            var view = new kendo.View(built(viewModel), { wrap: false, model: kendo.observable(viewModel) });\r\n            callback(view.render());\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\ndefine('text!forms/fields/bundle/view.html',[],function () { return '<div class=\"form-group\">\\r\\n\\r\\n    <button data-role=\"button\"\\r\\n            class=\"btn btn-primary\"\\r\\n            data-sprite-css-class=\"k-icon k-edit\"\\r\\n            data-bind=\"events: { click: view.onClick }\">\\r\\n        <%= localization.Bundle %>\\r\\n    </button>\\r\\n\\r\\n    <div id=\"Bundle\" class=\"cireson-window defined-form hide\">\\r\\n        <div class=\"cireson-window--wrapper\">\\r\\n            <div class=\"cireson-window--body\">\\r\\n\\r\\n\\r\\n                <div id=\"bundleGrid\">\\r\\n                    <div style=\"width: 800px; height: 200px\"\\r\\n                         data-role=\"grid\"\\r\\n                         data-bind=\"source: products,\\r\\n                                visible: isVisible,\\r\\n                                events: {\\r\\n                                  save: onSave\\r\\n                                }\"\\r\\n                         date-scrollable=\"true\"\\r\\n                         data-editable=\"{mode:\\'inline\\', confirmation:false}\"\\r\\n                         data-toolbar=\"[{name:\\'create\\', text:\\'<%= localization.Create %>\\'}]\"\\r\\n                         data-columns=\"[\\r\\n                            { \\'field\\': \\'SoftwarePatternName\\', title: \\'<%= localization.SoftwarePatternName %>\\', \\'width\\': 150 },\\r\\n                            { \\'field\\': \\'SoftwarePattern\\', title: \\'<%= localization.SoftwarePattern %>\\', \\'width\\': 150 },\\r\\n                            { \\'field\\': \\'VersionPattern\\', title: \\'<%= localization.VersionPattern %>\\', \\'width\\': 150 },\\r\\n                            { \\'field\\': \\'ExclusionPattern\\', title: \\'<%= localization.ExclusionPattern %>\\', \\'width\\': 150 },\\r\\n                            { command:[{name:\\'edit\\', text:\\'<%= localization.Edit %>\\'}, {name:\\'destroy\\', text:\\'<%= localization.Delete %>\\'}], title: \\' \\', width: \\'150\\'}\\r\\n                        ]\">\\r\\n                        \\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\"cireson-window--footer window-buttons\">\\r\\n                <div id=\"changeStatusErrorWin\" class=\"error\"></div>\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-primary\"\\r\\n                        data-bind=\"enabled: okEnabled, events: { click: okClick }\">\\r\\n                    <%= localization.OK %>\\r\\n                </button>\\r\\n                <button data-role=\"button\"\\r\\n                        class=\"btn btn-default\"\\r\\n                        data-bind=\"events: { click: cancelClick }\">\\r\\n                    <%= localization.Cancel %>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n\\r\\n';});\n\n","/**\r\nfileAttachments\r\n**/\r\n\r\ndefine('forms/fields/bundle/controller',['require','text!forms/fields/bundle/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/bundle/view.html\");\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //check if string can be localized\r\n            if (!_.isUndefined(localization[node.name]) && [node.name].length > 0) {\r\n                node.name = localization[node.name];\r\n            }\r\n\r\n\r\n            var properties = {\r\n                Disabled: node.disabled\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n            var template = $(built(properties));\r\n            \r\n            //k-grid-add\r\n            var bundleData = [];\r\n            var gridViewModel;\r\n            \r\n            var cont = template.find(\"#Bundle\").clone(); //we have the element in memory so no need use a selector\r\n            var win = cont.kendoCiresonWindow({\r\n                title: localization.createOrEditSoftwareBundle,\r\n                width: 850,\r\n                height: 375,\r\n                actions: [],\r\n                activate: function () {}\r\n            }).data(\"kendoWindow\");\r\n\r\n            var _vmWindow = new kendo.observable({\r\n                okClick: function () {\r\n                    var dataList = gridViewModel.products._data;\r\n                    var tempSoftwarePattern = \"\";\r\n                    var tempExclusionPattern = \"\";\r\n                    var tempVersionPattern = \"\";\r\n                    \r\n                    for (var i = 0; i < dataList.length; i++) {\r\n                        if (dataList[i].SoftwarePatternName == \"\") continue;\r\n                        if ((dataList.length - 1) == i) {\r\n                            tempSoftwarePattern = tempSoftwarePattern + dataList[i].SoftwarePatternName + \"__\" + dataList[i].SoftwarePattern;\r\n                            tempExclusionPattern = tempExclusionPattern + dataList[i].ExclusionPattern;\r\n                            tempVersionPattern = tempVersionPattern + dataList[i].VersionPattern;\r\n                        }\r\n                        else {\r\n                            tempSoftwarePattern = tempSoftwarePattern + dataList[i].SoftwarePatternName + \"__\" + dataList[i].SoftwarePattern + \"|\";\r\n                            tempExclusionPattern = tempExclusionPattern + dataList[i].ExclusionPattern + \"|\";\r\n                            tempVersionPattern = tempVersionPattern + dataList[i].VersionPattern + \"|\";\r\n                        }\r\n                    }\r\n                    vm.set(\"SoftwarePattern\", tempSoftwarePattern);\r\n                    vm.set(\"ExclusionPattern\", tempExclusionPattern);\r\n                    vm.set(\"VersionPattern\", tempVersionPattern);\r\n                    var SoftwarePatternTxt = $(\"input[name='SoftwarePattern']\");\r\n                    var ExclusionPatternTxt = $(\"input[name='ExclusionPattern']\");\r\n                    var VersionPatternTxt = $(\"input[name='VersionPattern']\");\r\n                    if (vm.SoftwarePattern!=\"\") {\r\n                        vm.set(\"IsBundle\", true);\r\n                        enableDisableTextbox(SoftwarePatternTxt,false);\r\n                        enableDisableTextbox(ExclusionPatternTxt, false);\r\n                        enableDisableTextbox(VersionPatternTxt, false);\r\n                    } else {\r\n                        vm.set(\"IsBundle\", false);\r\n                        enableDisableTextbox(SoftwarePatternTxt, true);\r\n                        enableDisableTextbox(ExclusionPatternTxt, true);\r\n                        enableDisableTextbox(VersionPatternTxt, true);\r\n                    }\r\n                    win.close();\r\n                },\r\n                cancelClick: function () {\r\n                    win.close();\r\n                },\r\n            });\r\n\r\n            kendo.bind(cont, _vmWindow);\r\n            var enableDisableTextbox = function (txt, isEnable) {\r\n                if (isEnable) {\r\n                    txt.prop(\"disabled\", false).removeClass(\"k-state-disabled\");\r\n                }\r\n                else\r\n                    txt.prop(\"disabled\", true).addClass(\"k-state-disabled\").closest(\".has-error\")\r\n                                        .removeClass(\"has-error\");\r\n            }\r\n\r\n            vm.view.onClick = function () {\r\n                bundleData = [];\r\n                var softwarePatternList = new Array();\r\n                var exclusionPatternList = new Array();\r\n                var versionPatternList = new Array();\r\n                if (!_.isNull(vm.SoftwarePattern) && vm.SoftwarePattern != \"\") {\r\n                    softwarePatternList = vm.SoftwarePattern == \"\" ? \"\" : vm.SoftwarePattern.split(\"|\");\r\n                }\r\n\r\n                if (!_.isNull(vm.ExclusionPattern) && vm.ExclusionPattern != \"\") {\r\n                    exclusionPatternList = vm.ExclusionPattern == \"\" ? \"\" : vm.ExclusionPattern.split(\"|\");\r\n                }\r\n\r\n                if (!_.isNull(vm.VersionPattern) && vm.VersionPattern != \"\") {\r\n                    versionPatternList = vm.VersionPattern == \"\" ? \"\" : vm.VersionPattern.split(\"|\");\r\n                }\r\n\r\n                    \r\n                if (vm.IsBundle) {\r\n                    for (var i in softwarePatternList) {\r\n                        var softwarePattern = softwarePatternList[i].split(\"__\");\r\n                        bundleData.push({ SoftwarePatternName: softwarePattern[0], SoftwarePattern: softwarePattern[1], VersionPattern: versionPatternList[i], ExclusionPattern: exclusionPatternList[i] });\r\n                    }\r\n                }\r\n                \r\n\r\n                gridViewModel = kendo.observable({\r\n                    isVisible: true,\r\n                    onSave: function (e) {\r\n                        \r\n                    },\r\n                    products: new kendo.data.DataSource({\r\n                        schema: {\r\n                            model: {\r\n                                id: \"SoftwarePatternName\",//an id is required to maintain edit/cancel state correctlf TFS3424\r\n                                fields: {\r\n                                    SoftwarePatternName: {\r\n                                        editable: true,\r\n                                        validation: {\r\n                                            SoftwarePatternNamevalidation: function (input) {\r\n                                                if (input.is(\"[name='SoftwarePatternName']\") && input.val() == \"\") {\r\n                                                    input.attr(\"data-SoftwarePatternNamevalidation-msg\", localization.EnterRequiredFields);\r\n                                                    return false;\r\n                                                }\r\n                                                return true;\r\n                                            }\r\n                                        }\r\n                                    },\r\n                                    SoftwarePattern: {\r\n                                        editable: true, type: \"string\",\r\n                                        validation: {\r\n                                            SoftwarePatternvalidation: function (input) {\r\n                                                if (input.is(\"[name='SoftwarePattern']\") && input.val() == \"\") {\r\n                                                    input.attr(\"data-SoftwarePatternvalidation-msg\", localization.EnterRequiredFields);\r\n                                                    return false;\r\n                                                }\r\n                                                return true;\r\n                                            }\r\n                                        }\r\n                                    },\r\n                                    VersionPattern: { editable: true, type: \"string\", validation: { required: false } },\r\n                                    ExclusionPattern: { editable: true, type: \"string\", validation: { required: false } }\r\n                                }\r\n                            }\r\n                        },\r\n                        batch: false,\r\n                        data: bundleData,\r\n                    })\r\n                });\r\n\r\n                kendo.bind(cont.find(\"#bundleGrid\"), gridViewModel);\r\n\r\n                cont.removeClass('hide');\r\n                cont.show();\r\n\r\n                win.open();\r\n            }\r\n\r\n            callback(template);\r\n        }\r\n    }\r\n\r\n   \r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/fields/fileUpload/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n\\r\\n    <input id=\"<%= PropertyName %>\" type=\"file\"\\r\\n           accept=\"<%= AcceptExtension %>\"\\r\\n           data-role=\"upload\"\\r\\n           name=\"files\"\\r\\n           data-async=\"{ saveUrl: \\'/FileAttachment/FileUpload/?BaseId=<%= BaseId %>&fieldName=<%= PropertyName %>\\', autoUpload: true }\"\\r\\n           class=\"k-textbox form-control input-sm\"\\r\\n           data-bind=\"events: { select: onSelect, complete:complete, success:success }\" />\\r\\n    <br />\\r\\n    <div id=\"div<%= PropertyName %>\">\\r\\n        <div data-role=\"button\"\\r\\n                data-sprite-css-class=\"k-icon k-edit\"\\r\\n                data-bind=\"events: { click: onRemove }\">\\r\\n            <i class=\"fa fa-close\"></i>\\r\\n        </div>\\r\\n        <div>\\r\\n        <img />\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\\r\\n';});\n\n","/**\r\nSTRING\r\n**/\r\n\r\ndefine('forms/fields/fileUpload/controller',['require','text!forms/fields/fileUpload/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/fileUpload/view.html\");\r\n\r\n\r\n    var definition = {\r\n\r\n        template: tpl,\r\n        build: function (viewModel, node, callback) {\r\n            \r\n            var vm = node.vm;\r\n            var view = new kendo.View();\r\n\r\n            if (_.isUndefined(vm.view)) {\r\n                vm.view = [];\r\n            }\r\n\r\n            \r\n            //build template using underscore.js so that we can interpret kendo template vars if needed\r\n            var built = _.template(tpl);\r\n            var properties = {\r\n                Required: node.Required,\r\n                BaseId: vm.BaseId,\r\n                AcceptExtension: _.isUndefined(node.AcceptExtension) ? \"\" : vm.AcceptExtension\r\n            };\r\n            $.extend(true, properties, node);\r\n\r\n            var template = $(built(properties));\r\n\r\n            var viewModel = new kendo.observable({\r\n                isEnabled: true,\r\n                isVisible: true,\r\n                onSelect: function (e) {\r\n                    template.find(\".k-file-error\").remove();\r\n                    $.each(e.files, function (index, value) {\r\n                        if (!_.isUndefined(node.AcceptExtension)\r\n                            && node.AcceptExtension!=\"\"\r\n                            && !(node.AcceptExtension.toLowerCase().indexOf(value.extension.toLowerCase()) > -1)) {\r\n                            kendo.ui.ExtAlertDialog.show({\r\n                                title: localization.ErrorDescription,\r\n                                message: localization.FileExtensionInvalid + node.AcceptExtension,\r\n                                icon: \"fa fa-exclamation\"\r\n                            });\r\n                            e.preventDefault();\r\n                        }\r\n                    });\r\n                },\r\n                complete: function (e) {\r\n                    if (template.find(\".k-file\").length > 1) {\r\n                        template.find(\".k-file:first\").remove();\r\n                        \r\n                    }\r\n                },\r\n                success: function (e) {\r\n                    var img = template.find(\"img\");\r\n                    img.attr(\"src\", \"data:image/png;base64,\" + e.response);\r\n                    vm[node.PropertyName] = {\r\n                        \"streamId\": null,\r\n                        \"data\": \"stream\",\r\n                        \"bufferedMode\": true,\r\n                        \"streamLength\": 0\r\n                    };\r\n\r\n                    template.find(\"#div\" + node.PropertyName).show();\r\n                },\r\n                onRemove: function (e) {\r\n                    $.get(\"/FileAttachment/RemoveFileUpload/\", { BaseId: vm.BaseId, fieldName: node.PropertyName }, function (data) {\r\n                        template.find(\".k-file\").parent().remove();\r\n                        //template.find(\"img\").hide();\r\n                        template.find(\"#div\" + node.PropertyName).hide();\r\n                        vm[node.PropertyName] = null;\r\n                    });\r\n                }\r\n            });\r\n\r\n            $.get(\"/api/V3/Projection/GetBase64String\", { BaseId: vm.BaseId, PropertyName: node.PropertyName }, function (data) {\r\n                var img = template.find(\"#div\" + node.PropertyName);\r\n                if (data != \"\") {\r\n                    template.find(\"img\").attr(\"src\", \"data:image/png;base64,\" + data);\r\n                    img.show();\r\n                } else {\r\n                    img.hide();\r\n                }\r\n            });\r\n            \r\n\r\n            _.defer(function () { kendo.bind(template, viewModel); });\r\n            callback(template);\r\n\r\n\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","\ndefine('text!forms/fields/urlTextbox/view.html',[],function () { return '<div class=\"form-group\">\\r\\n    <label class=\"control-label\" for=\"<%= PropertyName %>\" data-localize=\"<%= PropertyDisplayName %>\">\\r\\n        <span><% if ( Required ){ %> <%= \\'(\\' + localization.Required + \\')\\' %><% } %></span>\\r\\n    </label>\\r\\n    <input type=\"text\"\\r\\n           name=\"<%= PropertyName %>\"\\r\\n           class=\"k-textbox form-control input-sm\"\\r\\n           data-bind=\"value: <%= PropertyName %>, events:{change:textChange}\" <% if ( Disabled ){ %>\\r\\n        disabled\\r\\n        <% } %>\\r\\n\\r\\n        <% if ( Required ){ %>\\r\\n        required\\r\\n        <% } %>\\r\\n\\r\\n        />\\r\\n    <div data-role=\"button\"\\r\\n         data-sprite-css-class=\"k-icon k-edit\"\\r\\n         class=\"urlTextboxIcon\"\\r\\n         data-bind=\"events: { click: openURL }\">\\r\\n        <i class=\"fa fa-external-link nav-icon-color\"></i>\\r\\n    </div>\\r\\n</div>';});\n\n","/**\r\nSTRING\r\n**/\r\n\r\ndefine('forms/fields/urlTextbox/controller',['require','text!forms/fields/urlTextbox/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/urlTextbox/view.html\");\r\n\r\n\r\n    var definition = {\r\n\r\n        template: tpl,\r\n        build: function (viewModel, node, callback) {\r\n            \r\n            var vm = node.vm;\r\n            \r\n            var view = new kendo.View();\r\n\r\n            if (_.isUndefined(vm.view)) {\r\n                vm.view = [];\r\n            }\r\n            \r\n            vm.view.buildURLTextbox = function () {\r\n                //build template using underscore.js so that we can interpret kendo template vars if needed\r\n                var built = _.template(tpl);\r\n                var regexp = new RegExp(/^((ftp|http|https?):\\/\\/)?([w|W]{3}\\.)*?[a-zA-Z0-9\\-\\.]{3,}\\.[a-zA-Z]{2,}(\\.[a-zA-Z]{2,})?$/);\r\n                var disabled = \"urlTextboxButtonDisabled\";\r\n                var error = \"input-error\";\r\n                var url = vm.get(node.PropertyName);\r\n\r\n                var properties = {\r\n                    Required: node.Required,\r\n                    Disabled: node.disabled\r\n                };\r\n                \r\n                $.extend(true, properties, node);\r\n                var template = $(built(properties));\r\n                var txtBox = template.find(\"input\");\r\n                var link = template.find(\".urlTextboxIcon\");\r\n\r\n                var validateUrl = function () {\r\n                    var isOk = true;\r\n                    url = vm.get(node.PropertyName);\r\n                    link.removeClass(disabled);\r\n                    txtBox.removeClass(error);\r\n                    if (url == \"\" || _.isNull(url)) {\r\n                        isOk = false;\r\n                        link.addClass(disabled);\r\n                    } else if (!regexp.test(url)) {\r\n                        link.addClass(disabled);\r\n                        txtBox.addClass(error);\r\n                        isOk = false;\r\n                    }\r\n                    return isOk;\r\n                }\r\n                validateUrl();\r\n                vm.textChange = function (e) {\r\n                    validateUrl();\r\n                }\r\n\r\n                vm.openURL = function (e) {\r\n                    if (validateUrl()) {\r\n                        //append protocol if does not have one\r\n                        if (!url.match(/^ftp|http([s]?):\\/\\/.*/)) {\r\n                            url = 'http://' + url;\r\n                        }\r\n                        var win = window.open(url, '_blank');\r\n                        win.focus();\r\n                    }\r\n                };\r\n\r\n\r\n                view = new kendo.View(template, { wrap: false, model: vm });\r\n               \r\n               callback(view.render());\r\n            };\r\n            vm.view.buildURLTextbox();\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\r\n\n","/**\r\nDECIMAL\r\n**/\r\n\r\ndefine('forms/fields/percentage/controller',['require','text!forms/fields/numeric/view.html'],function (require) {\r\n    var tpl = require(\"text!forms/fields/numeric/view.html\"); //use numeric template\r\n   \r\n\r\n    var definition = {\r\n        template: tpl,\r\n        build: function (vm, node, callback) {\r\n            var built = _.template(tpl);\r\n\r\n            //make sure we have all the vals set\r\n\r\n            var properties = {\r\n                //Required: false,\r\n                DecimalPlaces: 2,\r\n                MinValue: '',\r\n                MaxValue: '',\r\n                StepIncrement: 0.01,\r\n                Disabled: node.disabled,\r\n                Required: node.Required,\r\n                Format: \"P0\"\r\n            };\r\n\r\n            $.extend(true, properties, node);\r\n\r\n            callback(built(properties));\r\n        }\r\n    }\r\n\r\n    return definition;\r\n\r\n});\n","\r\n\r\n\r\ndefine('forms/formBuilder',[\r\n    \"forms/structure/formPanel/controller\",\r\n    \"forms/structure/formPanelFull/controller\",\r\n    \"forms/structure/customFieldGroup/controller\",\r\n    \"forms/structure/customFieldGroupRow/controller\",\r\n    \"forms/structure/columnField/controller\",\r\n    \"forms/structure/tab/controller\",\r\n    \"forms/structure/tabPane/controller\",\r\n    \"forms/structure/tabNavigation/controller\",\r\n    \"forms/structure/tabData/controller\",\r\n\r\n    \"forms/predefined/actionLog/controller\",\r\n    \"forms/predefined/fileAttachments/controller\",\r\n    \"forms/predefined/affectedItems/controller\",\r\n    \"forms/predefined/relatedItems/controller\",\r\n    \"forms/predefined/childWorkItems/controller\",\r\n    \"forms/predefined/userInput/controller\",\r\n    \"forms/predefined/activities/controller\",\r\n    \"forms/predefined/multipleObjectPicker/controller\",\r\n    //\"forms/predefined/history/controller\",\r\n\t\"CustomSpace/Scripts/forms/predefined/history/controller\",\r\n    \"forms/predefined/billableTime/controller\",\r\n    \"forms/predefined/knowledgeArticle/controller\",\r\n    \"forms/predefined/fileAttachmentsDragDrop/controller\",\r\n    \r\n\r\n    \"forms/fields/string/controller\",\r\n    \"forms/fields/longstring/controller\",\r\n    \"forms/fields/boolean/controller\",\r\n    \"forms/fields/display/controller\",\r\n    \"forms/fields/spacer/controller\",\r\n    \"forms/fields/numeric/controller\",\r\n    \"forms/fields/int/controller\",\r\n    \"forms/fields/decimal/controller\",\r\n    \"forms/fields/double/controller\",\r\n    \"forms/fields/date/controller\",\r\n    \"forms/fields/datetime/controller\",\r\n    \"forms/fields/enum/controller\",\r\n    \"forms/fields/userPicker/controller\",\r\n    \"forms/fields/objectPicker/controller\",\r\n    \"forms/fields/button/controller\",\r\n    \"forms/fields/editor/controller\",\r\n    \"forms/fields/combo/controller\",\r\n    \"forms/fields/dropDownList/controller\",\r\n    \"forms/fields/bundle/controller\",\r\n    \"forms/fields/fileUpload/controller\",\r\n    \"forms/fields/urlTextbox/controller\",\r\n    \"forms/fields/percentage/controller\"\r\n    \r\n\r\n\r\n], function (formPanel,\r\n    formPanelFull,\r\n    customFieldGroup,\r\n    customFieldGroupRow,\r\n    columnField,\r\n    tab, //.tab-content\r\n    tabPane, //.tab-pane\r\n    tabNavigation, //ul\r\n    tabData,//li\r\n\r\n    actionLog,\r\n    fileAttachments,\r\n    affectedItems,\r\n    relatedItems,\r\n    childWorkItems,\r\n    userInput,\r\n    activities,\r\n    multipleObjectPicker,\r\n    history,\r\n    billableTime,\r\n    knowledgeArticle,\r\n    fileAttachmentsDragDrop,\r\n    \r\n\r\n    String,\r\n    LongString,\r\n    Boolean,\r\n    Display,\r\n    Spacer,\r\n    Numeric,\r\n    Int32,\r\n    Decimal,\r\n    Double,\r\n    Date,\r\n    DateTime,\r\n    Enum,\r\n    UserPicker,\r\n    ObjectPicker,\r\n    Button,\r\n    Editor,\r\n    Combo,\r\n    DropDownList,\r\n    Bundle,\r\n    FileUpload,\r\n    UrlTextbox,\r\n    Percentage) {\r\n\r\n    var mainContainer;\r\n    var jsonTemplate;\r\n    var viewModel;\r\n\r\n    var definition = {\r\n        build: function (vm, callback) {\r\n            viewModel = vm.viewModel;\r\n            jsonTemplate = vm.formTemplate;\r\n\r\n            // Decide on layout template\r\n            eval(\"var _obj = \" + jsonTemplate.layoutType + \";\");\r\n            // if no template was found, use default ('form')\r\n            if (!_obj) {\r\n                _obj = formPanel;\r\n            }\r\n\r\n            _obj.build(function (tplString) {\r\n                mainContainer = $(tplString);\r\n            });\r\n\r\n            readTemplate(mainContainer, jsonTemplate);\r\n            callback(mainContainer);\r\n            //see if we have a non-default tab selection\r\n            $(\"a[selected='selected']\").tab('show'); //selected tab for loading ex: http://localhost:13463/Incident/Edit/IR430/?tab=activity&activityId=MA798\r\n        }\r\n    }\r\n\r\n    var readTemplate = function (container, json, columns) {\r\n        var columns = (columns != undefined && columns !== false) ? columns : false;\r\n\r\n        $.each(json, function (key, item) {\r\n            if (key != \"layoutType\") {\r\n                jsonDecision(container, key, item, columns);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Mutate any jsonFormTemplate items by name:value\r\n    var mutationLogic = {\r\n        // Run on all properties\r\n        all: function (propValue) {\r\n            propValue.vm = viewModel; // pass in viewModel\r\n        },\r\n        tabList: function (tabList) {\r\n            jsonTemplate.tabNavigation = {\r\n                nodeCount: tabList.length,\r\n                tabData: []\r\n            }\r\n            tabNavigation.build(viewModel, jsonTemplate, function (tabtplString) {\r\n                var tabnavCont = $(tabtplString);\r\n\r\n                //prevent multiple tabs being set to focus. \r\n                var focusSet = false;\r\n                $.each(tabList, function (i, tabNode) {\r\n                    //this gets ?tab= data from uri if present\r\n                    var focusedTab = app.getParameterByName(\"tab\").toLowerCase();\r\n                    var tabNodeNameKey = tabNode.name;\r\n                    //set vals\r\n                    tabNode.tabId = app.lib.newGUID();\r\n                    tabNode.active = (i == 0) ? \"active\" : \"\";\r\n                    tabNode.content.tabId = tabNode.tabId;\r\n                    tabNode.content.active = tabNode.active;\r\n\r\n                    //call build on each nav node \r\n                    tabData.build(viewModel, tabNode, function (tplString) {\r\n                        //append to tabnavcont\r\n                        var element = $(tplString);\r\n\r\n                        if (app.isMobile()) {\r\n                            tabnavCont.children('.nav-dropdown-content').find('ul').append(element);\r\n                        } else {\r\n                            tabnavCont.append(element);\r\n                        }\r\n                      \r\n                        if (!app.isMobile()) {\r\n                            //--Start focus tab logic\r\n                            //check if there we found and focused tab param in the uri\r\n                            if (!focusSet && focusedTab.length > 0) {\r\n                                //this statement will set focus if they have a tab name in the uri that matches a tab name on the page\r\n                                if (tabNodeNameKey.toLowerCase() === focusedTab) {\r\n                                    element.find(\"a\").attr(\"selected\", \"true\");\r\n                                    focusSet = true;\r\n                                }\r\n\r\n                                //if focus is on activity tab (i.e. click an activity from the grid) set focus on tab and open activity\r\n                                switch (focusedTab) {\r\n                                    case \"activity\":\r\n                                        //find the activity tab based on control type\r\n                                        $.each(tabNode.content, function (i, content) {\r\n                                            $.each(content.customFieldGroupList, function (i, group) {\r\n                                                if (group.type === \"activities\") {\r\n                                                    element.find(\"a\").attr(\"selected\", \"true\");\r\n                                                    focusSet = true;\r\n                                                };\r\n                                            });\r\n                                        });\r\n                                        break;\r\n                                    default:\r\n                                        break;\r\n                                };\r\n                            };\r\n                            //--End focused tab logic\r\n                        } \r\n                    });\r\n                });\r\n                //append tabnavcont to main form panel\r\n                mainContainer.append(tabnavCont);\r\n            });\r\n\r\n            // ------------ tab dropdown\r\n\r\n        },\r\n        // Run to determine colspan\r\n        columnFieldList: function (columnFieldList) {\r\n            app.lib.setColumnSizes(columnFieldList);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    var getContainer = function (tplReturn) {\r\n        return (typeof (tplReturn) === \"string\") ? $(tplReturn) : tplReturn;\r\n    }\r\n\r\n    var chooseNextAction = function (container, item, objectName, columnCount) {\r\n        if (item.content) { //this denotes a tabPane\r\n            jsonDecision(container, objectName + \"Pane\", item.content);\r\n        } else if (item.rows) { //this denotes a FieldGroupList\r\n            jsonDecision(container, objectName + \"Row\", item.rows);\r\n        } else if (item.DataType) { //denotes a standard field, like string or numeric\r\n            jsonDecision(container, item.DataType, item);\r\n        } else if (item.type) { // predefined\r\n            jsonDecision(container, item.type, item);\r\n        } else { //an array of items, re-loop to comb through the child properties\r\n            readTemplate(container, item, columnCount);\r\n        }\r\n    };\r\n\r\n    // \r\n    var jsonDecision = function (propContainer, propName, propValue, columns) {\r\n        //propName is the name of the obj we will call .build on\r\n        //propValue is the object itself, like { DataType: \"UserPicker\", PropertyDisplayName: \"PrimaryOwner\", PropertyName: \"RelatesToIncident\", FilterByAnalyst: true},\r\n        var objectName = propName;\r\n\r\n        var list = false;\r\n        var row = false;\r\n        var pane = false;\r\n        var columnCount = (columns == undefined) ? false : columns; //TODO: ELI do we need this now, with the mutate function\r\n\r\n        // mutation logic\r\n        if (mutationLogic[propName]) {\r\n            mutationLogic[propName](propValue);\r\n        }\r\n        mutationLogic[\"all\"](propValue);\r\n\r\n        // Check if it is a List\r\n        if (propValue.push) {\r\n            if (propName.indexOf(\"List\") > -1) {\r\n                list = true;\r\n                objectName = propName.split(\"List\")[0];\r\n            }\r\n            else if (propName.indexOf(\"Row\") > -1) {\r\n                row = true;\r\n                columnCount = propValue.length;\r\n            }\r\n            else if (propName.indexOf(\"Pane\") > -1) {\r\n                pane = true;\r\n            }\r\n        }\r\n\r\n        // Decide on Template\r\n        eval(\"var _obj = \" + objectName + \";\");\r\n        // Check if Template Exists\r\n        if (!_obj) {\r\n            throw Exception(objectName + \" is not part of the templating system\");\r\n            return false;\r\n        }\r\n\r\n        // xxxList \r\n        if (list || row || pane) {\r\n            if (_obj == tab) {\r\n                //if it is a tab object, need to call build first, then loop through children\r\n                _obj.build(viewModel, propValue, function (tplReturn) {\r\n                    var _container = getContainer(tplReturn);\r\n                    propContainer.append(_container);\r\n                    $.each(propValue, function (i, item) {\r\n                        chooseNextAction(_container, item, objectName);\r\n                    });\r\n                });\r\n\r\n            } else {\r\n                $.each(propValue, function (i, item) {\r\n                    if (objectName == \"columnField\") {\r\n                        item.columnCount = columnCount;\r\n                    }\r\n\r\n                    if (_obj == tabPane) { //this one passes in propValue, the else statement passes in item\r\n                        _obj.build(viewModel, propValue, function (tplReturn) {\r\n                            var _container = getContainer(tplReturn);\r\n                            propContainer.append(_container);\r\n                            readTemplate(_container, item, columnCount);\r\n                        });\r\n                    }\r\n                        //todo: note, possibly do manipulation here on customFieldGroupList/Row. do account for the bs-panels being wonky.\r\n\r\n                    else {\r\n\r\n                        _obj.build(viewModel, item, function (tplReturn) {\r\n                            var _container = getContainer(tplReturn);\r\n                            propContainer.append(_container);\r\n                            //allow view to define where children should be added \r\n                            if (_container.find(\".append-here\").length != 0) {\r\n                                chooseNextAction(_container.find(\".append-here\"), item, objectName, columnCount);\r\n                            } else {\r\n                                chooseNextAction(_container, item, objectName, columnCount);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            //we should only force a disable state if isDisabled is true\r\n            //otherwise keep default and defined disable value\r\n            if (!_.isUndefined(viewModel) && viewModel.isDisabled) {\r\n                propValue.disabled = true;\r\n            }\r\n\r\n            _obj.build(viewModel, propValue, function (tplReturn) {\r\n                var _container = getContainer(tplReturn);\r\n                propContainer.append(_container);\r\n            });\r\n        }\r\n\r\n    }\r\n    return definition;\r\n});\r\n\r\n\r\n\n","define('forms/formHelper',[\n\n], function (\n\n        ) {\n\n\n    var definition = {\n        \n        manageDirty: function (vm) {\n            //setup is dirty flag\n            vm.set('isDirty', false);\n            //bind to view model changes to set dirty flag\n            vm.bind(\"change\", function (e) {\n                //console.log(e.field); // will output the changed field once the event is raised\n                //TODO: may need to make this a little smarter\n                //don't trigger isDirty changes\n                if (e.field !== \"isDirty\" &&\n                    e.field !== \"HistoryButton\") {\n                    vm.set(\"isDirty\", true);\n                }\n            });\n            //don't let the user leave the page if form is dirty\n            window.onbeforeunload = function () {\n                //TODO find a way to over write default browser alert\n                if (vm.get(\"isDirty\")) {\n                    return localization.UnsavedDataMessage;\n                }\n            }\n        },\n\n        mobileDrawerTaskButton: function (taskContainer) { //This will going to create task button to the drawer for mobile task\n            //if (app.isMobileDevice()) \n            var task = drawermenu.addButton(localization.Tasks, \"fa fa-tasks\", function () { });\n            app.lib.makeDrawer(\"bottom\", taskContainer, task, true);\n\n            function mobileTaskShow() {\r\n                if (app.isMobile()) {\r\n                    task.show();\r\n                } else {\r\n                    task.hide();\r\n                }\n            }\n\n            $(window).resize(function () {\r\n                mobileTaskShow();\r\n            });\n\n            mobileTaskShow();\n        }\n    }\n\n\n    return definition;\n});\n\n\n","require.config({\r\n    waitSeconds: 0,\r\n    urlArgs: \"v=\" + session.staticFileVersion,\r\n    baseUrl: \"/Scripts/\",\r\n    paths: {\r\n        //kendo: \"kendo/js/kendo.mobile.min\",\r\n        //jquery: \"jquery/jquery.min\",\r\n        text: \"require/text\"\r\n    },\r\n\r\n    shim: {\r\n        //kendo: {\r\n        //    deps: ['jquery'],\r\n        //    exports: 'kendo'\r\n        //}\r\n    }\r\n});\r\n\r\n//let's let the user know that things are happening\r\napp.lib.mask.apply();\r\n$(\"body\").css(\"cursor\", \"wait\");\r\n$(document).ajaxStop(function () {\r\n    $(\"body\").css(\"cursor\", \"auto\");\r\n});\r\n\r\nrequire([\"forms/headerBuilder\", \"forms/formBuilder\", \"forms/formHelper\"], function (headerBuilder, formBuilder, formHelper) {\r\n\r\n\r\n    var saveUrl = pageForm.saveUrl;\r\n    var mainContainer = $(pageForm.container);\r\n    var headerContainer = $('.page_bar').empty();\r\n\r\n    var formContainer = $('<div/>').addClass(\"page-form\");\r\n    var dataVM = pageForm.viewModel;\r\n   \r\n\r\n    //add header json definition\r\n    //since all WI have same header structure we put it in this file\r\n    //if this changes we need to move this to all the cshtml New/Edit files\r\n    if (pageForm.type == \"userRelatedInfo\") {\r\n        pageForm.headerTemplate = {\r\n            rows: [\r\n                    {\r\n                        columns: [\r\n                            { View: \"status\", Class: \"col-md-5 col-xs-12\" },\r\n                            { View: \"spacer\", ColSpan: 4 }\r\n                        ]\r\n                    }\r\n            ]\r\n        };\r\n    } else {\r\n        pageForm.headerTemplate = {\r\n            rows: [\r\n                    {\r\n                        columns: [\r\n                            { View: \"title\", ColSpan: 8 },\r\n                            { View: \"spacer\", ColSpan: 4 }\r\n                        ]\r\n                    }\r\n            ]\r\n        };\r\n    }\r\n\r\n    var init = function () {\r\n        /*\r\n         * this is how we are doing some session stuff to pick what template to use. (find it in wiMain.js)\r\n         *          setTemplateJSONFromSessionAdJSON();\r\n         * For WIs at least the templates can vary based on AD groupd (I think).\r\n         * For Incidents we have \"Default\" and \"DefaultEndUser\".\r\n         * If we are not going to have different types of User Profile forms, we can likely skip \r\n         * this and just define it like I have. Or change the json structure. Some kind of standard\r\n         * is being worked out on all this so we can streamline it better.\r\n         */\r\n        if (pageForm.type == \"userRelatedInfo\") {\r\n            if (dataVM.hasAsset) {\r\n                pageForm.formTemplate = pageForm.formTemplate[\"Default\"];\r\n            } else {\r\n                pageForm.formTemplate = pageForm.formTemplate[\"withOutAsset\"];\r\n            }\r\n        } else {\r\n            pageForm.formTemplate = pageForm.formTemplate[\"Default\"];\r\n        }\r\n\r\n        //add dynamic containers to main container\r\n        //mainContainer.append(headerContainer, formContainer);\r\n        mainContainer.append(formContainer);\r\n\r\n        //build and add header container\r\n        headerBuilder.build(pageForm, function (view) {\r\n            headerContainer.append(view);\r\n        });\r\n\r\n        //build and add form from json definition\r\n        formBuilder.build(pageForm, function (html) {\r\n            formContainer.append(html);\r\n            app.controls.apply(formContainer, { localize: true, vm: dataVM, bind: true });\r\n\r\n            formContainer.show();\r\n\r\n            if (pageForm.type != \"userRelatedInfo\") {\r\n\r\n                // make sure we have the drawer before we try to add buttons buttons\r\n                //if (!_.isUndefined(drawermenu)) { //stupid underscore need to move to lo-dash\r\n                if (typeof (drawermenu) != 'undefined') {\r\n                    createButtons();\r\n                } else {\r\n                    app.events.subscribe(\"drawerCreated\", function () {\r\n                        createButtons();\r\n                    });\r\n                }\r\n            }\r\n\r\n            app.lib.handleMessages();\r\n\r\n            //manage dirty\r\n            formHelper.manageDirty(dataVM);\r\n        });\r\n\r\n        //let them in\r\n        app.lib.mask.remove();\r\n    }\r\n\r\n    // Form Buttons\r\n    var createButtons = function () {\r\n\r\n\r\n        // Save Failure\r\n        var saveFailure = function (exceptionMessage) {\r\n            if (exceptionMessage == localization.RequiredFieldsErrorMessage) {\r\n                app.lib.message.add(exceptionMessage, \"danger\");\r\n            } else {\r\n                //fallback to generic message\r\n                app.lib.message.add(localization.PleaseCorrectErrors, \"danger\");\r\n            }\r\n            app.lib.message.show();\r\n        }\r\n        // Save Button\r\n        drawermenu.addButton(localization.Save, \"fa fa-check\", function () {\r\n\r\n            save(function (data) {\r\n                data = eval(\"(\" + data + \")\");\r\n\r\n                app.lib.message.add(data.data, \"success\");\r\n                location = \"/Settings/User/UserProfile/\";\r\n                app.clearAllLocalStorage();\r\n                // we need this to force terminate the warning window bacasue of app.clearAllLocalStorage() function.\r\n                app.sessionTimeout.hideWarningPopup();\r\n                store.set(\"cireson_last_read_announcement\", new Date().toISOString());//it should be stored on local storage.\r\n            }, saveFailure);\r\n        });\r\n\r\n\r\n\r\n        // Apply Button\r\n        drawermenu.addButton(localization.Apply, \"fa fa-pencil\", function () {\r\n\r\n            save(function (data) {\r\n                \r\n                refreshButtons();\r\n                $(\".k-overlay\").hide();\r\n                app.lib.message.show();\r\n                setTimeout(function () {\r\n                    $('html, body').animate({\r\n                        scrollTop: 0\r\n                    }, 300);\r\n                    app.lib.mask.remove();\r\n                    location = \"/Settings/User/UserProfile/\";\r\n                    app.clearAllLocalStorage();\r\n                    // we need this to force terminate the warning window bacasue of app.clearAllLocalStorage() function.\r\n                    app.sessionTimeout.hideWarningPopup();\r\n                    store.set(\"cireson_last_read_announcement\", new Date().toISOString());//it should be stored on local storage.\r\n                }, 100);\r\n            }, saveFailure);\r\n        });\r\n        // Cancel Button\r\n        drawermenu.addButton(localization.Cancel, \"fa fa-times\", function () {\r\n            if (dataVM.get(\"isDirty\")) {\r\n                $.when(kendo.ui.ExtOkCancelDialog.show({\r\n                    title: localization.Warning,\r\n                    message: localization.UnsavedDataMessage,\r\n                    icon: \"fa fa-exclamation\"\r\n                })\r\n                ).done(function (response) {\r\n                    if (response.button === \"ok\") {\r\n                        //make the form clean so we don't trigger onbeforeunload\r\n                        dataVM.set(\"isDirty\", false);\r\n\r\n                        location.href = \"/Settings/User/UserProfile/\";\r\n                    }\r\n                });\r\n            } else {\r\n                location.href = \"/Settings/User/UserProfile/\";\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    var refreshButtons = function () {\r\n        if (pageForm.viewModel.IsNew) {\r\n            $(\"#drawer-taskbar\").html(\"\");\r\n            pageForm.viewModel.IsNew = false;\r\n            createButtons();\r\n        }\r\n    }\r\n\r\n    // Ajax Save Method (to be moved)\r\n    var save = function (success, failure) {\r\n        //ensure all values inputted have been bound to VM\r\n        $(\".page_content *\").blur();\r\n\r\n        var valid = true;\r\n        formContainer.find(\".form-group\").removeClass(\"has-error\");\r\n        formContainer.find(\"[required]\").each(function () {\r\n            var jqEle = $(this);\r\n            var nodeName = jqEle[0].nodeName.toLowerCase();\r\n            if (nodeName != \"input\" && nodeName != \"textarea\") {\r\n                jqEle = jqEle.find(\"input\");\r\n            }\r\n            if (jqEle.val() == \"\") {\r\n                valid = false;\r\n                jqEle.parents(\".form-group\").addClass(\"has-error\");\r\n            }\r\n        });\r\n        if (!valid) {\r\n            failure(localization.RequiredFieldsErrorMessage);\r\n            return;\r\n        }\r\n        app.lib.mask.apply();\r\n\r\n\r\n        var postData = encodeURIComponent(JSON.stringify({\r\n            isDirty: true,\r\n            current: dataVM.toJSON(),\r\n            original: pageForm.jsonRaw\r\n        }));\r\n\r\n        $.ajax({\r\n            type: 'POST',\r\n            dataType: 'text',\r\n            url: saveUrl,\r\n            data: \"formJson=\" + postData,\r\n            success: function (data, status, xhr) {\r\n                //make the form clean so we don't trigger onbeforeunload\r\n                dataVM.set(\"isDirty\", false);\r\n\r\n                if (data.search('loginForm') < 0) { // Logged out check                   \r\n                    success(data);\r\n                } else {\r\n                    //session expired\r\n                    window.location = \"/Login/Login?ReturnUrl=\" + window.location.pathname;\r\n                }\r\n            },\r\n            error: function (xhr, ajaxOptions, thrownError) {\r\n                failure();\r\n                console && app.lib.log(localization.RequestFailed);\r\n                app.lib.log(thrownError);\r\n\r\n                var jsonRsp = xhr.responseText;\r\n                app.lib.log(jsonRsp);\r\n\r\n                var errorMsg = localization.RequestFailed;\r\n                if (jsonRsp.exception && jsonRsp.exception.length > 0) {\r\n                    errorMsg = jsonRsp.exception;\r\n                }\r\n\r\n                kendo.ui.ExtAlertDialog.show({\r\n                    title: localization.ErrorDescription,\r\n                    message: errorMsg,\r\n                    icon: \"fa fa-exclamation\"\r\n                });\r\n            },\r\n            processData: false,\r\n            async: false\r\n        });\r\n    }\r\n\r\n    init();\r\n\r\n\r\n});\r\n\ndefine(\"forms/profileMain\", function(){});\n\n"]}