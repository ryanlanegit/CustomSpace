define("text",["module"],function(e){"use strict";var t,n,r,a,s,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,u=l&&location.protocol&&location.protocol.replace(/\:/,""),d=l&&location.hostname,p=l&&(location.port||void 0),f={},g=e.config&&e.config()||{};return t={version:"2.0.10",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=i[t];try{e=new ActiveXObject(n)}catch(e){}if(e){i=[n];break}}return e},parseName:function(e){var t,n,r,a=!1,s=e.indexOf("."),i=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!i||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),-1!==s&&(a="strip"===r.substring(s+1),r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:a}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,a){var s,i,o,c=t.xdRegExp.exec(e);return!c||(s=c[2],i=c[3],i=i.split(":"),o=i[1],i=i[0],!(s&&s!==n||i&&i.toLowerCase()!==r.toLowerCase()||(o||i)&&o!==a))},finishLoad:function(e,n,r,a){r=n?t.strip(r):r,g.isBuild&&(f[e]=r),a(r)},load:function(e,n,r,a){if(a.isBuild&&!a.inlineText)return void r();g.isBuild=a.isBuild;var s=t.parseName(e),i=s.moduleName+(s.ext?"."+s.ext:""),o=n.toUrl(i),c=g.useXhr||t.useXhr;if(0===o.indexOf("empty:"))return void r();!l||c(o,u,d,p)?t.get(o,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([i],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,a){if(f.hasOwnProperty(n)){var s=t.jsEscape(f[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,a,s){var i=t.parseName(n),o=i.ext?"."+i.ext:"",c=i.moduleName+o,l=r.toUrl(i.moduleName+o)+".js";t.load(c,r,function(n){var r=function(e){return a(l,e)};r.asModule=function(e,t){return a.asModule(e,l,t)},t.write(e,c,r,s)},s)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var a=n.readFileSync(e,"utf8");0===a.indexOf("\ufeff")&&(a=a.substring(1)),t(a)}catch(e){r(e)}}):"xhr"===g.env||!g.env&&t.createXhr()?t.get=function(e,n,r,a){var s,i=t.createXhr();if(i.open("GET",e,!0),a)for(s in a)a.hasOwnProperty(s)&&i.setRequestHeader(s.toLowerCase(),a[s]);g.onXhr&&g.onXhr(i,e),i.onreadystatechange=function(t){var a,s;4===i.readyState&&(a=i.status,a>399&&a<600?(s=new Error(e+" HTTP status: "+a),s.xhr=i,r(s)):n(i.responseText),g.onXhrComplete&&g.onXhrComplete(i,e))},i.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,r,a=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),i=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),"utf-8")),o="";try{for(n=new java.lang.StringBuffer,r=i.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=i.readLine());)n.append(s),n.append(r);o=String(n.toString())}finally{i.close()}t(o)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,a=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,i,o,c={};s&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),n.init(o,1,0,!1),i=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),i.init(n,"utf-8",n.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),c),i.close(),n.close(),t(c.value)}catch(e){throw new Error((o&&o.path||"")+": "+e)}}),t}),define("text!CustomSpace/Scripts/grids/tasks/anchor/view.html",[],function(){return'<div class="ra-grid-task-container" style="<%= _style().replace(/ {4}/g,"") %>">\r\n    <ul class="ra-grid-task-menu">\r\n        <% _.forEach(_tasks, function (task) { %>\r\n            <%= task.template(obj, task).replace(/ {4}/g,"") %>\r\n        <% }) %>\r\n    </ul>\r\n    <span class="ra-grid-task-content">#: <%= field %> #</span>\r\n</div>'}),define("CustomSpace/Scripts/grids/tasks/anchor/controller",["text!CustomSpace/Scripts/grids/tasks/anchor/view.html"],function(e){"use strict";var t={Task:"anchor",Type:"Grid",Label:"Grid Task Anchor",Access:!0,Configs:{}};return{template:e,task:t,build:function(n){return!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("gridTask:build",{gridTask:t,column:n}),function(){return _.template(e)(n)}()}}}),define("text!CustomSpace/Scripts/grids/tasks/link/view.html",[],function(){return'<li class="ra-grid-task-item <%= className %>" data-task="<%= task %>" data-field="<%= field %>" onclick="app.custom.gridTasks.callback(event, this, <%= bClickPropagation %>);">\r\n    <a class="ra-icon ra-grid-task-icon" href="<%= href %>" target="<%= target %>" >\r\n        <i class="fa <%= icon %>"></i>\r\n    </a>\r\n</li>'}),define("CustomSpace/Scripts/grids/tasks/link/controller",["text!CustomSpace/Scripts/grids/tasks/link/view.html"],function(e){"use strict";var t={Task:"link",Type:"Grid",Label:"Grid Task List Item Link",Access:!0,Configs:{}};return{template:e,task:t,build:function(n,r,a){return!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("gridTask:build",{gridTask:t,field:n,task:r,options:a}),function(){var t={field:n,task:r,icon:"fa-external-link",bClickPropagation:!1,className:"",href:"/",target:"_blank"},s=_.template(e);return $.extend(t,a),s(t)}()}}}),define("text!CustomSpace/Scripts/grids/tasks/task/view.html",[],function(){return'<li class="ra-grid-task-item" data-task="<%= task %>" data-field="<%= field %>" onclick="app.custom.gridTasks.callback(event, this, <%= bClickPropagation %>);">\r\n    <a class="ra-icon ra-grid-task-icon">\r\n        <i class="fa <%= icon %>"></i>\r\n    </a>\r\n</li>'}),define("CustomSpace/Scripts/grids/tasks/task/controller",["text!CustomSpace/Scripts/grids/tasks/task/view.html"],function(e){"use strict";var t={Task:"task",Type:"Grid",Label:"Grid Task List Item Task",Access:!0,Configs:{}};return{template:e,task:t,build:function(n,r,a){return!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("gridTask:build",{gridTask:t,field:n,task:r,options:a}),function(){var t={field:n,task:r,icon:"fa-pencil",bClickPropagation:!0},s=_.template(e);return $.extend(t,a),s(t)}()}}}),define("CustomSpace/Scripts/grids/gridTaskBuilder",["CustomSpace/Scripts/grids/tasks/anchor/controller","CustomSpace/Scripts/grids/tasks/link/controller","CustomSpace/Scripts/grids/tasks/task/controller"],function(){"use strict";var e=arguments;return{build:function(t){function n(){return new kendo.observable({add:function(e,t,n,r,a,s){var i=this,o=_.filter(e.columns,function(e){return e.field===t})[0];if(_.isUndefined(o))console.log("gridTasks:add","Warning! Unable to find field '"+t+"'.");else switch(_.isUndefined(o._style)&&Object.defineProperty(o,"_style",{enumerable:!1,writable:!0,value:function(){return""}}),_.isUndefined(o._tasks)&&Object.defineProperty(o,"_tasks",{enumerable:!1,writable:!0,value:[]}),n){case"style":o._style=a;break;case"task":var c=i.get(e,t,r);c?$.extend(c,{name:r,template:a,callback:s}):o._tasks.push({name:r,template:a,callback:s})}},get:function(e,t,n){var r=_.filter(e.columns,function(e){return e.field===t})[0];if(_.isUndefined(r))return!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("gridTasks:get","Warning! Unable to find field '"+t+"'."),null;if(_.isUndefined(n))return r._tasks;var a=_.filter(r._tasks,function(e){return e.name===n})[0];return _.isUndefined(a)?(!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("gridTasks:get","Warning! Unable to find task '"+n+"' in field '"+t+"'."),null):a},callback:function(e,t,n){var r=this,a=$(t),s=a.closest("div[data-role='grid']").data("kendoGrid"),i=a.data(),o=a.closest("tr").get(0),c=s.dataItem(o),l={event:e,gridData:s,itemRowEle:o,dataItem:c,itemData:i},u=r.get(s,i.field,i.task);console.log("gridTasks:callback",l),u?(n||e.stopPropagation(),"function"==typeof u.callback&&u.callback(l)):console.log("gridTasks:callback","Unable to find task for callback.")},updateGrid:function(e){var t=this,n=!1;$.each(e.columns,function(e,r){_.isUndefined(r._style)||(r.template=t.buildTemplate("anchor",r),n=!0)}),n&&(e.rowTemplate=e._tmpl(e.options.rowTemplate,e.columns),e.altRowTemplate=e._tmpl(e.options.rowTemplate,e.columns),e.refresh())},buildTemplate:function(t,n,r,a){var s=_.filter(e,function(e){return!_.isUndefined(e.task)&&e.task.Task.toLowerCase()===t.toLowerCase()})[0];return _.isUndefined(s)?(!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("Property Not Found For Rendering:",t),null):s.build(n,r,a)}})}!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("gridTaskBuilder:build"),function(){!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("gridTaskBuilder:initGridTask",performance.now());var e=n();app.custom.gridTasks=e,"function"==typeof t&&t(e)}()}}}),require.config({waitSeconds:0,urlArgs:"v="+session.staticFileVersion,baseUrl:"/Scripts/",paths:{text:"require/text",CustomSpace:"../CustomSpace"}}),require(["CustomSpace/Scripts/grids/gridTaskBuilder"],function(e){"use strict";!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("gridTaskMain:define",performance.now()),function(){!_.isUndefined(app.storage.custom)&&app.storage.custom.get("debug")&&console.log("gridTaskMain:initGridTasks",performance.now()),e.build(function(e){app.events.subscribe("dynamicPageReady",function(){app.events.publish("gridTasksReady")})})}()}),define("CustomSpace/Scripts/grids/gridTaskMain",function(){});
//# sourceMappingURL=gridTaskMain-built.min.js.map